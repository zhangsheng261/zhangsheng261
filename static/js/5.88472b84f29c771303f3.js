webpackJsonp([5],{Eh60:function(e,t,a){"use strict";var r=a("ZpFI"),s=(a("cOje"),{data:function(){return{treeWKData:r.a.treeWorkSpace,user:localStorage.getItem("user")}},methods:{changeLocale:function(){this.$confirm(this.$t("layer.toggle"),this.$t("layer.tips"),{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then(function(){var e=window.vm.$i18n.locale;window.vm.$i18n.locale="zh"===e?"en":"zh",localStorage.setItem("locale",window.vm.$i18n.locale),r.a.treeWorkSpace[0].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.label"),r.a.treeWorkSpace[0].children[0].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.children.label1"),r.a.treeWorkSpace[0].children[1].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.children.label2"),r.a.treeWorkSpace[0].children[2].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.children.label3"),r.a.treeData2d[0].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.mapLabel"),r.a.treeData2d[1].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.workLabel"),r.a.treeData2d[0].children[0].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.WFS"),r.a.treeData2d[0].children[1].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.WMS"),r.a.treeData2d[0].children[2].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.WMTS"),r.a.treeData2d[0].children[2].children[0].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.imageLabel"),r.a.treeData2d[0].children[2].children[1].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.vectorLabel"),r.a.treeData2d[0].children[2].children[2].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.taggingLabel"),r.a.treeData2d[0].children[2].children[3].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.chinaLabel"),r.a.treeData2d[0].children[2].children[4].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.asiaLabel")})},logOut:function(){var e=this;e.$confirm(window.vm.$i18n.t("headerInner.tip"),window.vm.$i18n.t("layer.tips"),{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then(function(){e.axios.post(WebConfig.ServicesIpPort+"/logout").then(function(t){0==t.data.retCode&&(e.$router.push("/LogIn"),e.$store.state.Global.twoDTempLayers=[],e.$store.state.Global.workspaceTabArr=[],e.$store.state.Global.workspaceActiveTabValue="default",e.treeWKData[0].children[0].children=[],e.treeWKData[0].children[1].children=[],e.treeWKData[0].children[2].children=[],e.$store.state.Global.algManage=!1,e.$store.state.Global.sharingProductionsManage=!1,e.$store.state.Global.suggesstionFeedBackManage=!1,e.$store.state.Global.algorithmUseStatistics=!1,e.$store.state.Global.addressDetection=!1,e.$store.state.Global.activeTabValue="工作区",localStorage.clear(),e.$store.state.LocalDB.db.deleteIndexDB(),e.$message({message:t.data.data,type:"success"}))}).catch(function(t){e.$message({type:"info",message:window.vm.$i18n.t("headerInner.logoutFail")})})}).catch(function(){})}}}),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myHeader"},[e._m(0),e._v(" "),a("div",{staticStyle:{position:"absolute",top:"0px",right:"0px","padding-right":"5px","padding-top":"5px"}},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.changeLocale}},[a("span",{staticStyle:{color:"white"}},[e._v("CN/EN")])])],1),e._v(" "),a("div",{staticClass:"myHeader-right clearfix"},[a("div",{staticClass:"myHeader-line fl"}),e._v(" "),a("div",{staticClass:"fl cp login"},[a("ul",{staticClass:"login-ul"},[a("li",[e._v("\n                      "+e._s(e.$t("userInfo.currentUsername"))),a("span",{staticClass:"userSpan"},[e._v(e._s(e.user))]),e._v(" "),a("span",{staticClass:"user",on:{click:e.logOut}},[e._v(e._s(e.$t("userInfo.logout")))])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo-container"},[t("div",{staticClass:"logoborder"},[t("div",{staticClass:"logo3"})])])}]};var i=a("VU/8")(s,o,!1,function(e){a("YL5P")},"data-v-ce1e96c2",null);t.a=i.exports},YL5P:function(e,t){},a965:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"AddUser",data:function(){var e=this;return{dialogVisible:!0,labelPosition:"right",formAddUser:{name:"",password:"",passwordRepeat:"",employer:"",mailAddr:"",telphone:""},rules:{name:[{required:!0,message:window.vm.$i18n.t("addUser.inputUsername"),trigger:"blur"},{validator:function(t,a,r){var s={};s.username=e.formAddUser.name,e.axios.post(WebConfig.ServicesIpPort+"/checkUsername",s).then(function(e){500202==e.data.retCode&&r(new Error(window.vm.$i18n.t("addUser.usernameRepeat"))),r()}).catch(function(e){r()})},trigger:"blur"}],password:[{required:!0,message:window.vm.$i18n.t("addUser.inputPassword"),trigger:"blur"}],passwordRepeat:[{required:!0,message:window.vm.$i18n.t("addUser.repeatPassword"),trigger:"blur"},{validator:this.confirmPassword,trigger:"blur"}],employer:[{required:!1,message:window.vm.$i18n.t("addUser.inputEmployer"),trigger:"blur"}],mailAddr:[{required:!0,message:window.vm.$i18n.t("addUser.inputEmail"),trigger:"blur"},{pattern:/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,message:window.vm.$i18n.t("addUser.ValidEmail")}],telphone:[{required:!1,message:window.vm.$i18n.t("addUser.inputPhone"),trigger:"blur"},{pattern:/^1\d{10}$/,message:window.vm.$i18n.t("addUser.ValidPhone")}]}}},methods:{confirmPassword:function(e,t,a){t!=this.formAddUser.password?a(new Error(window.vm.$i18n.t("addUser.shouldBeSamePassword"))):a()},addUser:function(){var e=this,t=this;this.$refs.userAddForm.validate(function(a){if(!a)return t.$message({message:window.vm.$i18n.t("addUser.registerFault"),type:"error"}),!1;var r={};r.username=e.formAddUser.name,r.password=e.formAddUser.password,r.passwordRepeat=e.formAddUser.passwordRepeat,r.email=e.formAddUser.mailAddr,r.company=e.formAddUser.employer,r.phone=e.formAddUser.telphone,e.axios.post(WebConfig.ServicesIpPort+"/regist",r).then(function(e){0==e.data.retCode&&(t.$message({message:window.vm.$i18n.t("addUser.registerSuccess"),type:"success"}),setTimeout(function(){t.$router.push("/")},1e3))}).catch(function(e){alert(e)})})},backToLogin:function(){this.$router.push("/")}},components:{commonHead:a("Eh60").a},mounted:function(){}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("commonHead"),e._v(" "),a("div",{attrs:{id:"divAddUser"}},[a("el-dialog",{attrs:{title:e.$t("addUser.welcome"),visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,modal:!1,"show-close":!1,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"userAddForm",attrs:{"label-position":e.labelPosition,"label-width":"90px",model:e.formAddUser,rules:e.rules}},[a("el-form-item",{attrs:{label:e.$t("addUser.username"),prop:"name"}},[a("el-input",{model:{value:e.formAddUser.name,callback:function(t){e.$set(e.formAddUser,"name",t)},expression:"formAddUser.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("addUser.password"),prop:"password"}},[a("el-input",{attrs:{"show-password":""},model:{value:e.formAddUser.password,callback:function(t){e.$set(e.formAddUser,"password",t)},expression:"formAddUser.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("addUser.passwordRepeat"),prop:"passwordRepeat"}},[a("el-input",{attrs:{"show-password":""},model:{value:e.formAddUser.passwordRepeat,callback:function(t){e.$set(e.formAddUser,"passwordRepeat",t)},expression:"formAddUser.passwordRepeat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("addUser.email"),prop:"mailAddr"}},[a("el-input",{model:{value:e.formAddUser.mailAddr,callback:function(t){e.$set(e.formAddUser,"mailAddr",t)},expression:"formAddUser.mailAddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("addUser.phone"),prop:"telphone"}},[a("el-input",{model:{value:e.formAddUser.telphone,callback:function(t){e.$set(e.formAddUser,"telphone",t)},expression:"formAddUser.telphone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("addUser.employer"),prop:"employer"}},[a("el-input",{model:{value:e.formAddUser.employer,callback:function(t){e.$set(e.formAddUser,"employer",t)},expression:"formAddUser.employer"}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v(e._s(e.$t("addUser.register")))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.backToLogin}},[e._v(e._s(e.$t("addUser.toLogin")))])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(r,s,!1,function(e){a("uQjS")},"data-v-7e011913",null);t.default=o.exports},uQjS:function(e,t){}});