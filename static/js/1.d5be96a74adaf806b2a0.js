webpackJsonp([1,2,4,6,7],{"+bRd":function(t,e){},"+tPU":function(t,e,a){a("xGkn");for(var i=a("7KvD"),l=a("hJx8"),o=a("/bQp"),n=a("dSzd")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),r=0;r<s.length;r++){var c=s[r],d=i[c],u=d&&d.prototype;u&&!u[n]&&l(u,n,c),o[c]=o.Array}},"/bQp":function(t,e){t.exports={}},"/n6Q":function(t,e,a){a("zQR9"),a("+tPU"),t.exports=a("Kh4W").f("iterator")},"/vxe":function(t,e){},"06OY":function(t,e,a){var i=a("3Eo+")("meta"),l=a("EqjI"),o=a("D2L2"),n=a("evD5").f,s=0,r=Object.isExtensible||function(){return!0},c=!a("S82l")(function(){return r(Object.preventExtensions({}))}),d=function(t){n(t,i,{value:{i:"O"+ ++s,w:{}}})},u=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!l(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!r(t))return"F";if(!e)return"E";d(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!r(t))return!0;if(!e)return!1;d(t)}return t[i].w},onFreeze:function(t){return c&&u.NEED&&r(t)&&!o(t,i)&&d(t),t}}},"0y4O":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("/sA3"),l=a("ZpFI"),o=a("Yaes"),n=(a("BmLr"),{components:{imageExport:o.a},props:["dataId","plotlydivId"],data:function(){return{imageFlag:!1,contourLineSetting:!0,switch_Lines:!0,plotlydiv:null,url:a("tdi3"),switchOpeConFlag:"展开",dialogVisible:!1,field:"",xlxs_col:[],xlxs_json:[],ratio:1.1,plot_data:[{x:[3,3,3],y:[2,3,4],type:"scatter",colorscale:"RdBu"}],xmin:99999,xmax:0,ymin:99999,ymax:0,layout:{margin:{t:50,b:80,l:80,r:200},xaxis:{exponentformat:"none",autorange:"false",hoverformat:"s",showexponent:"none",showline:!0,mirror:"allticks"},yaxis:{showline:!0,mirror:"allticks",exponentformat:"none",autorange:"false",scaleanchor:"x"},showlegend:!1,height:this.getHeight(),width:this.getWidth()},options:{editable:!1},figure:{title:"专题图名称",xtitle:"Distance/（m）",y1title:"Distance/（m）"},dataFromStore:null,isFigureVisible:!1,pointNumber:"",lineNumber:"",xField:"",yField:""}},methods:{switch_cLines:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("sectionMap.message1")),this.layout.xaxis.showline=!0,this.layout.yaxis.showline=!0):(this.$Message.info(window.vm.$i18n.t("sectionMap.message2")),this.layout.xaxis.showline=!1,this.layout.yaxis.showline=!1),this.$Plotly.relayout(this.plotlydiv,this.layout)},showDialog:function(){this.dialogVisible=!0},ChangeRATIO:function(t){this.ratio=t,this.ok()},ok:function(){if(""==this.field||""==this.xField||""==this.yField||""==this.lineNumber||""==this.pointNumber)this.$Message.error("字段配置异常");else if(isNaN(this.ratio))this.$Message.error("系数设置错误");else{var t=this,e=this.xlxs_json,a=this.field,i=this.xField,l=this.yField,o=this.lineNumber,n=this.pointNumber,s=1*(e=e.sort(function(t,e){return t[o]==e[o]?t[n]-e[n]:t[o]-e[o]}))[e.length-1][i],r=1*e[e.length-1][l];this.xmin=s,this.xmax=s,this.ymin=r,this.ymax=r;var c=[],d=-99389,u=this.ratio,p=(1*e[1][l]-1*e[0][l])/(1*e[1][i]-1*e[0][i]);t.$store.state.Global.progressVisible=!0;for(var h=e.length-1;h>=0;h--){h%100==0&&(this.$store.state.Global.percent=h/e.length*100>100?100:h/e.length*50),d=1*e[h][o];var m=[],g=[],f=[],v=0,b=0;for(h<e.length-2&&d!=e[h+1][o]&&(s=1*e[h][i],r=1*e[h][l]),this.xmin=this.xmin<s?this.xmin:s,this.xmax=this.xmax>s?this.xmax:s,this.ymin=this.ymin<r?this.ymin:r,this.ymax=this.ymax>r?this.ymax:r,m.push(s),g.push(r),v=1*e[h][i]+e[h][a]*Math.abs(Math.sin(Math.atan(p)))*u,b=1*e[h][l]+e[h][a]*Math.cos(Math.atan(p))*u,m.push(v),g.push(b),f.push(1*e[h][a]);null!=e[h-1]&&e[h][o]==e[h-1][o]&&e[h][a]*e[h-1][a]>0;)e[--h][i]!=e[h+1][i]&&(v=1*e[h][i]+e[h][a]*Math.abs(Math.sin(Math.atan(p)))*u,b=1*e[h][l]+e[h][a]*Math.cos(Math.atan(p))*u,m.push(v),g.push(b),f.push(1*e[h][a]));if(null==e[h-1]||e[h][o]!=e[h-1][o]?(m.push(1*e[h][i]),g.push(1*e[h][l]),this.xmin=this.xmin<1*e[h][i]?this.xmin:1*e[h][i],this.xmax=this.xmax>1*e[h][i]?this.xmax:1*e[h][i],this.ymin=this.ymin<1*e[h][l]?this.ymin:1*e[h][l],this.ymax=this.ymax>1*e[h][l]?this.ymax:1*e[h][l]):(s=(1*e[h][i]+1*e[h-1][i])/2,r=(1*e[h][l]+1*e[h-1][l])/2,m.push(s),g.push(r)),1*e[h][a]<0){var y={x:m,y:g,type:"scatter",fill:"toself",fillcolor:"blue",name:"线号"+e[h][o],mode:"lines",hovertext:f,hoverinfo:"all",line:{width:.8,smoothing:1.3,shape:"spline",color:"black"}};c.push(y)}else{var _={x:m,y:g,fill:"toself",fillcolor:"red",text:f,name:"线号"+e[h][o],type:"scatter",mode:"lines",hoverinfo:"all",line:{width:.8,smoothing:1.3,shape:"spline",color:"black"}};c.push(_)}}this.reLayout(),this.plotlydiv=document.getElementById(this.plotlydivId),this.$Plotly.newPlot(this.plotlydiv,c,this.layout,{displaylogo:!1}),this.dialogVisible=!1,setTimeout(function(){t.$store.state.Global.percent=100},1e3),setTimeout(function(){t.$store.state.Global.progressVisible=!1},2e3)}},reLayout:function(){var t=this.getWidth()-80,e=this.getHeight()-130,a=this.xmax-this.xmin,i=this.ymax-this.ymin;if(a/i<=t/e){var l=(t-e*a/i)/2;this.layout.margin.l=80+l,this.layout.margin.t=50,this.layout.margin.b=80}else{var o=(e-t*i/a)/2;this.layout.margin.t=50+o,this.layout.margin.b=80+o,this.layout.margin.l=80}},close:function(){this.dialogVisible=!1},getWidth:function(){return window.innerWidth-260},getHeight:function(){return window.innerHeight-130-30-31},initPage:function(){var t=this.dataId;void 0!=t&&i.a.getJsonFromDatabase(t,this.initSectionMap)},initSectionMap:function(t){this.xField=t.bindX,this.yField=t.bindY;var e=t.data;for(var a in this.dataFromStore=t,this.xlxs_json=e,this.xlxs_col=[],e[0])this.xlxs_col.push(a);this.$store.state.Global.thematicFlag?(this.xField=this.$store.state.Global.thematicParams[0].xField,this.yField=this.$store.state.Global.thematicParams[0].yField,this.pointNumber=this.$store.state.Global.thematicParams[0].pointNumber,this.lineNumber=this.$store.state.Global.thematicParams[0].lineNumber,this.field=this.$store.state.Global.thematicParams[0].field,this.ok()):this.dialogVisible=!0},changeV:function(t){this.field=t},switchOpeStatus:function(){"展开"==this.switchOpeConFlag?(this.$refs.opeConRef.style.width="0",this.$refs.opeConRef.style.overflow="hidden",this.switchOpeConFlag="隐藏"):"隐藏"==this.switchOpeConFlag&&(this.$refs.opeConRef.style.width="unset",this.$refs.opeConRef.style.overflow="unset",this.switchOpeConFlag="展开")},projectToMap:function(){var t=this,e=this;"Null"==e.dataFromStore.spatialReference&&i.a.getJsonFromDatabase(e.dataId,function(t){e.dataFromStore=t,"Null"!=e.dataFromStore.spatialReference||e.$message({type:"warning",message:window.vm.$i18n.t("message.noCoornate")})});var a=e.dataFromStore.data,o=[];a.forEach(function(t){-1==o.indexOf(t.L)&&o.push(t.L)}),o.sort(r,function(t){return r-t}),o.reverse();for(var n,s=[],r=0;n=o[r++];){for(var c,d=[],u=0;c=a[u++];)c.L==n&&d.push(c);s.push(d)}var p={type:"FeatureCollection",features:[]};i.a.changeSpatialReference(e.dataFromStore.spatialReference),s.forEach(function(a){a.sort(function(t,e){return t.X-e.X});for(var i=(a[0].Y-a[3].Y)/(a[0].X-a[3].X),l=[],o=[],n=!1,s=0;s<a.length-1;s++){var r=a[s],c=a[s+1];if(r[e.field]*c[e.field]>0)if(1*r[e.field]>0){n||(l.push({x:a[0].X,y:a[0].Y}),n=!0);var d=Math.sqrt(r[e.field]*r[e.field]*e.ratio*e.ratio/(1+-1/i*(-1/i)))+r.X,u=-1/i*Math.sqrt(r[e.field]*r[e.field]*e.ratio*e.ratio/(1+-1/i*(-1/i)))+r.Y;l.push({x:d,y:u})}else{n||(o.push({x:a[0].X,y:a[0].Y}),n=!0);d=-Math.sqrt(r[e.field]*r[e.field]*e.ratio*e.ratio/(1+-1/i*(-1/i)))+r.X,u=1/i*Math.sqrt(r[e.field]*r[e.field]*e.ratio*e.ratio/(1+-1/i*(-1/i)))+r.Y;o.push({x:d,y:u})}else if(1*r[e.field]>0){l.push({x:(r.X+c.X)/2,y:(r.Y+c.Y)/2});for(var h=[],m=0;_=l[m++];){var g=[_.x,_.y],f=t.ol.proj.transform(g,e.dataFromStore.spatialReference,"EPSG:4326");h.push(f)}var v={type:"Feature",properties:{type:"up"},geometry:{type:"Polygon",coordinates:[h]}};p.features.push(v),l=[],(o=[]).push({x:(r.X+c.X)/2,y:(r.Y+c.Y)/2})}else{o.push({x:(r.X+c.X)/2,y:(r.Y+c.Y)/2});for(h=[],m=0;_=o[m++];){g=[_.x,_.y];var b=e.ol.proj.transform(g,e.dataFromStore.spatialReference,"EPSG:4326");h.push(b)}v={type:"Feature",properties:{type:"down"},geometry:{type:"Polygon",coordinates:[h]}};p.features.push(v),o=[],(l=[]).push({x:(r.X+c.X)/2,y:(r.Y+c.Y)/2})}}if(1*a[a.length-1][e.field]>0){d=Math.sqrt(a[a.length-1][e.field]*a[a.length-1][e.field]*e.ratio*e.ratio/(1+-1/i*(-1/i)))+a[a.length-1].X,u=-1/i*Math.sqrt(a[a.length-1][e.field]*a[a.length-1][e.field]*e.ratio*e.ratio/(1+-1/i*(-1/i)))+a[a.length-1].Y;l.push({x:d,y:u}),l.push({x:a[a.length-1].X,y:a[a.length-1].Y});for(h=[],m=0;_=l[m++];){g=[_.x,_.y];var y=e.ol.proj.transform(g,e.dataFromStore.spatialReference,"EPSG:4326");h.push(y)}v={type:"Feature",properties:{type:"up"},geometry:{type:"Polygon",coordinates:[h]}};p.features.push(v)}else if(1*a[a.length-1][e.field]<0){d=-Math.sqrt(a[a.length-1][e.field]*a[a.length-1][e.field]*e.ratio*e.ratio/(1+-1/i*(-1/i)))+a[a.length-1].X,u=1/i*Math.sqrt(a[a.length-1][e.field]*a[a.length-1][e.field]*e.ratio*e.ratio/(1+-1/i*(-1/i)))+a[a.length-1].Y;o.push({x:d,y:u}),o.push({x:a[a.length-1].X,y:a[a.length-1].Y});var _;for(h=[],m=0;_=o[m++];){g=[_.x,_.y];var x=e.ol.proj.transform(g,e.dataFromStore.spatialReference,"EPSG:4326");h.push(x)}v={type:"Feature",properties:{type:"down"},geometry:{type:"Polygon",coordinates:[h]}};p.features.push(v)}});var h=new e.ol.style.Fill,m=new e.ol.style.Style({fill:h,stroke:new e.ol.style.Stroke({color:"#333",width:1})}),g=new e.ol.style.Fill,f=(new e.ol.style.Style({fill:g,stroke:new e.ol.style.Stroke({color:"#333",width:1})}),l.a.treeData2d[1].children.map(function(t){return t.id}));f.sort(function(t,e){return t-e});var v=100+Math.floor(10*Math.random());0!=f.length&&(v=f[f.length-1]+1);var b=new e.ol.source.Vector({features:(new e.ol.format.GeoJSON).readFeatures(p)}),y=new e.ol.layer.Vector({source:b,style:function(t){return"up"==t.get("type")?h.setColor("red"):h.setColor("blue"),m},id:v});e.$store.state.Global.map2DHandler.addLayer(y),e.$store.state.Global.map2DHandler.getView().fit(b.getExtent()),e.$store.state.Global.activeTabValue="二维地图";var _={};_.id=v,_.label=window.vm.$i18n.t("sectionMap.title")+e.dataFromStore.displayName,_.layerObj=b,_.shareObj={json:p,colorConfig:""},l.a.treeData2d[1].children.push(_),e.$nextTick(function(){e.$store.state.Global.twoDLayerTree.setChecked(v,!0,!1)})},openFigureTable:function(){this.isFigureVisible=!0},changeFigure:function(){var t={title:this.figure.title,"xaxis.title":this.figure.xtitle,"yaxis.title":this.figure.y1title};this.$Plotly.relayout(this.plotlydiv,t)},showModal:function(){this.imageFlag=!0},closeModal:function(t){this.imageFlag=t}},mounted:function(){this.initPage()},computed:{thematicFlag:function(){return this.$store.state.Global.thematicFlag}}}),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("div",{staticClass:"headerOpeBanner"},[a("el-button",{staticClass:"switchContainer",staticStyle:{padding:"5px 10px"},attrs:{plain:"",size:"mini",title:"菜单 展开/收缩"},on:{click:t.switchOpeStatus}},[a("i",{staticClass:"el-icon-arrow-left",class:{transition:"展开"!=this.switchOpeConFlag}})]),t._v(" "),a("div",{ref:"opeConRef",staticClass:"operationContainerWrap"},[a("div",{staticClass:" counterMenuGroup operationContainer",style:{width:.65*this.getWidth()+"px"}},[t.thematicFlag?a("el-button",{staticClass:"menubutton",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.openFigureTable}},[t._v(t._s(t.$t("sectionMap.styleModify.title")))]):t._e(),t._v(" "),a("el-button",{staticStyle:{display:"inline-block","margin-left":"5px"},attrs:{type:"primary",size:"mini"},on:{click:t.showDialog}},[t._v(t._s(t.$t("sectionMap.args.name")))]),t._v(" "),a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"primary",size:"mini"},on:{click:t.projectToMap}},[t._v(t._s(t.$t("sectionMap.project")))]),t._v(" "),a("span",[t.contourLineSetting?a("span",[t._v("\n                          "+t._s(t.$t("sectionMap.outline"))+"\n                          "),a("i-switch",{on:{"on-change":t.switch_cLines},model:{value:t.switch_Lines,callback:function(e){t.switch_Lines=e},expression:"switch_Lines"}})],1):t._e()]),t._v("\n                   \n                  "),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.showModal}},[t._v("\n                    "+t._s(t.$t("sectionMap.exportImage"))+"\n                  ")])],1)])],1),t._v(" "),a("el-row",{attrs:{type:"flex",gutter:0}},[a("el-col",{attrs:{span:21}},[a("Content",{style:{background:"#fff"}},[a("div",{staticClass:"plotly-div-point",attrs:{id:t.plotlydivId}})])],1),t._v(" "),a("el-col",{staticStyle:{background:"#fff"},attrs:{span:3}},[a("el-image",{staticStyle:{position:"absolute",width:"200px",height:"128px",right:"5px",bottom:"100px"},attrs:{src:t.url}})],1)],1)],1),t._v(" "),a("Modal",{attrs:{title:t.$t("sectionMap.args.title"),mask:!1,width:"27%"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.args.xField")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("Select",{model:{value:t.xField,callback:function(e){t.xField=e},expression:"xField"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.args.yField")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("Select",{model:{value:t.yField,callback:function(e){t.yField=e},expression:"yField"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.args.lineNumber")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("Select",{model:{value:t.lineNumber,callback:function(e){t.lineNumber=e},expression:"lineNumber"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.args.pointNumber")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("Select",{model:{value:t.pointNumber,callback:function(e){t.pointNumber=e},expression:"pointNumber"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.args.field")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("Select",{model:{value:t.field,callback:function(e){t.field=e},expression:"field"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.args.coefficient")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:t.ratio,callback:function(e){t.ratio=e},expression:"ratio"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v(t._s(t.$t("button.ok")))])],1)],1),t._v(" "),a("Modal",{attrs:{draggable:"",title:t.$t("sectionMap.styleModify.title"),width:"420"},on:{"on-ok":t.changeFigure},model:{value:t.isFigureVisible,callback:function(e){t.isFigureVisible=e},expression:"isFigureVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.styleModify.name")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.title,callback:function(e){t.$set(t.figure,"title",e)},expression:"figure.title"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.styleModify.X1Title")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.xtitle,callback:function(e){t.$set(t.figure,"xtitle",e)},expression:"figure.xtitle"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.styleModify.Y1Title")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.y1title,callback:function(e){t.$set(t.figure,"y1title",e)},expression:"figure.y1title"}})],1)],1)],1)],1),t._v(" "),a("imageExport",{attrs:{imageConfigShow:t.imageFlag,plotlyDiv:t.plotlydiv},on:{closeModal:t.closeModal}})],1)},staticRenderFns:[]};var r=a("VU/8")(n,s,!1,function(t){a("5Tge")},"data-v-5ee8eb27",null);e.default=r.exports},"0z/1":function(t,e){},"2KxR":function(t,e){t.exports=function(t,e,a,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(a+": incorrect invocation!");return t}},"3/Xe":function(t,e){},"3CjG":function(t,e){},"3JQt":function(t,e){},"3fs2":function(t,e,a){var i=a("RY/4"),l=a("dSzd")("iterator"),o=a("/bQp");t.exports=a("FeBl").getIteratorMethod=function(t){if(void 0!=t)return t[l]||t["@@iterator"]||o[i(t)]}},"4Oed":function(t,e){},"4WTo":function(t,e,a){var i=a("NWt+");t.exports=function(t,e){var a=[];return i(t,!1,a.push,a,e),a}},"4mcu":function(t,e){t.exports=function(){}},"5QVw":function(t,e,a){t.exports={default:a("BwfY"),__esModule:!0}},"5Tge":function(t,e){},"5zde":function(t,e,a){a("zQR9"),a("qyJz"),t.exports=a("FeBl").Array.from},"6WuN":function(t,e){},"6xVm":function(t,e,a){"use strict";var i={name:"algExplain",props:["algTitle","algName"],data:function(){return{drawer:!1,algMsg:{describe:"",inputFormat:"",outputFormat:""}}},methods:{getInfo:function(){var t=this;this.axios.get(WebConfig.ServicesUrl+"/getAlgInfoByName?algName="+t.algName).then(function(e){if("SUCCESS"==e.data.status){t.algMsg.describe=e.data.data.description;for(var a=e.data.data.input.split(/[(\r\n)\r\n]+/),i="",l=0;l<a.length;l++)i+=a[l]+"\n";t.algMsg.inputFormat=i;for(var o=e.data.data.output.split(/[(\r\n)\r\n]+/),n="",s=0;s<o.length;s++)n+=o[s]+"\n";t.algMsg.outputFormat=n}t.drawer=!0}).catch(function(t){console.log(t)})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticStyle:{position:"absolute",top:"3px",right:"20px","font-size":"24px",cursor:"pointer",color:"white"},on:{click:t.getInfo}},[a("i",{staticClass:"el-icon-warning-outline"})]),t._v(" "),a("el-drawer",{attrs:{visible:t.drawer,"append-to-body":!0,"show-close":!0,modal:!1},on:{"update:visible":function(e){t.drawer=e}}},[a("span",{staticStyle:{height:"0px"},attrs:{slot:"title"},slot:"title"},[a("p",{staticStyle:{"font-size":"15px","text-align":"center",color:"#031525","font-weight":"bold"}},[t._v(t._s(t.algTitle)+t._s(t.$t("ALGManage.explain")))])]),t._v(" "),a("div",{staticClass:"viewInfo"},[a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.describe")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},[t._v(t._s(t.algMsg.describe))])],1)],1),t._v(" "),a("el-row",{staticClass:"viewInfoRrow"},[a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.dataInFormat")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},[a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("pre",{staticStyle:{color:"#5cadff"}},[t._v(t._s(t.algMsg.inputFormat))])]),t._v(" "),a("pre",[t._v(t._s(t.algMsg.inputFormat))])])],1)],1)],1)],1),t._v(" "),a("el-row",{staticClass:"viewInfoRrow"},[a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.dataOutFormat")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},[a("el-tooltip",{attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("pre",{staticStyle:{color:"#5cadff"}},[t._v(t._s(t.algMsg.outputFormat))])]),t._v(" "),a("pre",[t._v(t._s(t.algMsg.outputFormat))])])],1)],1)],1)],1)],1)])],1)},staticRenderFns:[]};var o=a("VU/8")(i,l,!1,function(t){a("Ofov")},"data-v-7b3e8a77",null);e.a=o.exports},"7Doy":function(t,e,a){var i=a("EqjI"),l=a("7UMu"),o=a("dSzd")("species");t.exports=function(t){var e;return l(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!l(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},"7N1R":function(t,e){},"7UMu":function(t,e,a){var i=a("R9M2");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"7t+N":function(t,e,a){var i;
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
!function(e,a){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?a(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return a(t)}:a(e)}("undefined"!=typeof window?window:this,function(a,l){"use strict";var o=[],n=Object.getPrototypeOf,s=o.slice,r=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},c=o.push,d=o.indexOf,u={},p=u.toString,h=u.hasOwnProperty,m=h.toString,g=m.call(Object),f={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},b=function(t){return null!=t&&t===t.window},y=a.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,a){var i,l,o=(a=a||y).createElement("script");if(o.text=t,e)for(i in _)(l=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,l);a.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[p.call(t)]||"object":typeof t}var C=function(t,e){return new C.fn.init(t,e)};function D(t){var e=!!t&&"length"in t&&t.length,a=w(t);return!v(t)&&!b(t)&&("array"===a||0===e||"number"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:"3.6.0",constructor:C,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,function(e,a){return t.call(e,a,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,a=+t+(t<0?e:0);return this.pushStack(a>=0&&a<e?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var t,e,a,i,l,o,n=arguments[0]||{},s=1,r=arguments.length,c=!1;for("boolean"==typeof n&&(c=n,n=arguments[s]||{},s++),"object"==typeof n||v(n)||(n={}),s===r&&(n=this,s--);s<r;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&n!==i&&(c&&i&&(C.isPlainObject(i)||(l=Array.isArray(i)))?(a=n[e],o=l&&!Array.isArray(a)?[]:l||C.isPlainObject(a)?a:{},l=!1,n[e]=C.extend(c,o,i)):void 0!==i&&(n[e]=i));return n},C.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,a;return!(!t||"[object Object]"!==p.call(t))&&(!(e=n(t))||"function"==typeof(a=h.call(e,"constructor")&&e.constructor)&&m.call(a)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,a){x(t,{nonce:e&&e.nonce},a)},each:function(t,e){var a,i=0;if(D(t))for(a=t.length;i<a&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var a=e||[];return null!=t&&(D(Object(t))?C.merge(a,"string"==typeof t?[t]:t):c.call(a,t)),a},inArray:function(t,e,a){return null==e?-1:d.call(e,t,a)},merge:function(t,e){for(var a=+e.length,i=0,l=t.length;i<a;i++)t[l++]=e[i];return t.length=l,t},grep:function(t,e,a){for(var i=[],l=0,o=t.length,n=!a;l<o;l++)!e(t[l],l)!==n&&i.push(t[l]);return i},map:function(t,e,a){var i,l,o=0,n=[];if(D(t))for(i=t.length;o<i;o++)null!=(l=e(t[o],o,a))&&n.push(l);else for(o in t)null!=(l=e(t[o],o,a))&&n.push(l);return r(n)},guid:1,support:f}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){u["[object "+e+"]"]=e.toLowerCase()});var k=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(t){var e,a,i,l,o,n,s,r,c,d,u,p,h,m,g,f,v,b,y,_="sizzle"+1*new Date,x=t.document,w=0,C=0,D=rt(),k=rt(),$=rt(),S=rt(),F=function(t,e){return t===e&&(u=!0),0},T={}.hasOwnProperty,M=[],L=M.pop,z=M.push,A=M.push,G=M.slice,N=function(t,e){for(var a=0,i=t.length;a<i;a++)if(t[a]===e)return a;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",V="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",E="\\["+I+"*("+V+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+V+"))|)"+I+"*\\]",O=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+E+")*)|.*)\\)|)",R=new RegExp(I+"+","g"),j=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),W=new RegExp("^"+I+"*,"+I+"*"),B=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),H=new RegExp(I+"|>"),U=new RegExp(O),q=new RegExp("^"+V+"$"),Y={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V+"|[*])"),ATTR:new RegExp("^"+E),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),at=function(t,e){var a="0x"+t.slice(1)-65536;return e||(a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,lt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){p()},nt=_t(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{A.apply(M=G.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(t){A={apply:M.length?function(t,e){z.apply(t,G.call(e))}:function(t,e){for(var a=t.length,i=0;t[a++]=e[i++];);t.length=a-1}}}function st(t,e,i,l){var o,s,c,d,u,m,v,b=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!l&&(p(e),e=e||h,g)){if(11!==x&&(u=Q.exec(t)))if(o=u[1]){if(9===x){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(b&&(c=b.getElementById(o))&&y(e,c)&&c.id===o)return i.push(c),i}else{if(u[2])return A.apply(i,e.getElementsByTagName(t)),i;if((o=u[3])&&a.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(o)),i}if(a.qsa&&!S[t+" "]&&(!f||!f.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(v=t,b=e,1===x&&(H.test(t)||B.test(t))){for((b=tt.test(t)&&vt(e.parentNode)||e)===e&&a.scope||((d=e.getAttribute("id"))?d=d.replace(it,lt):e.setAttribute("id",d=_)),s=(m=n(t)).length;s--;)m[s]=(d?"#"+d:":scope")+" "+yt(m[s]);v=m.join(",")}try{return A.apply(i,b.querySelectorAll(v)),i}catch(e){S(t,!0)}finally{d===_&&e.removeAttribute("id")}}}return r(t.replace(j,"$1"),e,i,l)}function rt(){var t=[];return function e(a,l){return t.push(a+" ")>i.cacheLength&&delete e[t.shift()],e[a+" "]=l}}function ct(t){return t[_]=!0,t}function dt(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var a=t.split("|"),l=a.length;l--;)i.attrHandle[a[l]]=e}function pt(t,e){var a=e&&t,i=a&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(a)for(;a=a.nextSibling;)if(a===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var a=e.nodeName.toLowerCase();return("input"===a||"button"===a)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&nt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return ct(function(e){return e=+e,ct(function(a,i){for(var l,o=t([],a.length,e),n=o.length;n--;)a[l=o[n]]&&(a[l]=!(i[l]=a[l]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in a=st.support={},o=st.isXML=function(t){var e=t&&t.namespaceURI,a=t&&(t.ownerDocument||t).documentElement;return!X.test(e||a&&a.nodeName||"HTML")},p=st.setDocument=function(t){var e,l,n=t?t.ownerDocument||t:x;return n!=h&&9===n.nodeType&&n.documentElement?(m=(h=n).documentElement,g=!o(h),x!=h&&(l=h.defaultView)&&l.top!==l&&(l.addEventListener?l.addEventListener("unload",ot,!1):l.attachEvent&&l.attachEvent("onunload",ot)),a.scope=dt(function(t){return m.appendChild(t).appendChild(h.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),a.attributes=dt(function(t){return t.className="i",!t.getAttribute("className")}),a.getElementsByTagName=dt(function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length}),a.getElementsByClassName=K.test(h.getElementsByClassName),a.getById=dt(function(t){return m.appendChild(t).id=_,!h.getElementsByName||!h.getElementsByName(_).length}),a.getById?(i.filter.ID=function(t){var e=t.replace(et,at);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var a=e.getElementById(t);return a?[a]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,at);return function(t){var a=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return a&&a.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var a,i,l,o=e.getElementById(t);if(o){if((a=o.getAttributeNode("id"))&&a.value===t)return[o];for(l=e.getElementsByName(t),i=0;o=l[i++];)if((a=o.getAttributeNode("id"))&&a.value===t)return[o]}return[]}}),i.find.TAG=a.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):a.qsa?e.querySelectorAll(t):void 0}:function(t,e){var a,i=[],l=0,o=e.getElementsByTagName(t);if("*"===t){for(;a=o[l++];)1===a.nodeType&&i.push(a);return i}return o},i.find.CLASS=a.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],f=[],(a.qsa=K.test(h.querySelectorAll))&&(dt(function(t){var e;m.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&f.push("[*^$]="+I+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||f.push("\\["+I+"*(?:value|"+P+")"),t.querySelectorAll("[id~="+_+"-]").length||f.push("~="),(e=h.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||f.push("\\["+I+"*name"+I+"*="+I+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||f.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||f.push(".#.+[+~]"),t.querySelectorAll("\\\f"),f.push("[\\r\\n\\f]")}),dt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&f.push("name"+I+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&f.push(":enabled",":disabled"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),f.push(",.*:")})),(a.matchesSelector=K.test(b=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt(function(t){a.disconnectedMatch=b.call(t,"*"),b.call(t,"[s!='']:x"),v.push("!=",O)}),f=f.length&&new RegExp(f.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(m.compareDocumentPosition),y=e||K.test(m.contains)?function(t,e){var a=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(a.contains?a.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},F=e?function(t,e){if(t===e)return u=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!a.sortDetached&&e.compareDocumentPosition(t)===i?t==h||t.ownerDocument==x&&y(x,t)?-1:e==h||e.ownerDocument==x&&y(x,e)?1:d?N(d,t)-N(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return u=!0,0;var a,i=0,l=t.parentNode,o=e.parentNode,n=[t],s=[e];if(!l||!o)return t==h?-1:e==h?1:l?-1:o?1:d?N(d,t)-N(d,e):0;if(l===o)return pt(t,e);for(a=t;a=a.parentNode;)n.unshift(a);for(a=e;a=a.parentNode;)s.unshift(a);for(;n[i]===s[i];)i++;return i?pt(n[i],s[i]):n[i]==x?-1:s[i]==x?1:0},h):h},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(p(t),a.matchesSelector&&g&&!S[e+" "]&&(!v||!v.test(e))&&(!f||!f.test(e)))try{var i=b.call(t,e);if(i||a.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){S(e,!0)}return st(e,h,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=h&&p(t),y(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=h&&p(t);var l=i.attrHandle[e.toLowerCase()],o=l&&T.call(i.attrHandle,e.toLowerCase())?l(t,e,!g):void 0;return void 0!==o?o:a.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(it,lt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],l=0,o=0;if(u=!a.detectDuplicates,d=!a.sortStable&&t.slice(0),t.sort(F),u){for(;e=t[o++];)e===t[o]&&(l=i.push(o));for(;l--;)t.splice(i[l],1)}return d=null,t},l=st.getText=function(t){var e,a="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)a+=l(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)a+=l(e);return a},(i=st.selectors={cacheLength:50,createPseudo:ct,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,at),t[3]=(t[3]||t[4]||t[5]||"").replace(et,at),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,a=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":a&&U.test(a)&&(e=n(a,!0))&&(e=a.indexOf(")",a.length-e)-a.length)&&(t[0]=t[0].slice(0,e),t[2]=a.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,at).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=D[t+" "];return e||(e=new RegExp("(^|"+I+")"+t+"("+I+"|$)"))&&D(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,a){return function(i){var l=st.attr(i,t);return null==l?"!="===e:!e||(l+="","="===e?l===a:"!="===e?l!==a:"^="===e?a&&0===l.indexOf(a):"*="===e?a&&l.indexOf(a)>-1:"$="===e?a&&l.slice(-a.length)===a:"~="===e?(" "+l.replace(R," ")+" ").indexOf(a)>-1:"|="===e&&(l===a||l.slice(0,a.length+1)===a+"-"))}},CHILD:function(t,e,a,i,l){var o="nth"!==t.slice(0,3),n="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===l?function(t){return!!t.parentNode}:function(e,a,r){var c,d,u,p,h,m,g=o!==n?"nextSibling":"previousSibling",f=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!r&&!s,y=!1;if(f){if(o){for(;g;){for(p=e;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;m=g="only"===t&&!m&&"nextSibling"}return!0}if(m=[n?f.firstChild:f.lastChild],n&&b){for(y=(h=(c=(d=(u=(p=f)[_]||(p[_]={}))[p.uniqueID]||(u[p.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],p=h&&f.childNodes[h];p=++h&&p&&p[g]||(y=h=0)||m.pop();)if(1===p.nodeType&&++y&&p===e){d[t]=[w,h,y];break}}else if(b&&(y=h=(c=(d=(u=(p=e)[_]||(p[_]={}))[p.uniqueID]||(u[p.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===y)for(;(p=++h&&p&&p[g]||(y=h=0)||m.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++y||(b&&((d=(u=p[_]||(p[_]={}))[p.uniqueID]||(u[p.uniqueID]={}))[t]=[w,y]),p!==e)););return(y-=l)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var a,l=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return l[_]?l(e):l.length>1?(a=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,a){for(var i,o=l(t,e),n=o.length;n--;)t[i=N(t,o[n])]=!(a[i]=o[n])}):function(t){return l(t,0,a)}):l}},pseudos:{not:ct(function(t){var e=[],a=[],i=s(t.replace(j,"$1"));return i[_]?ct(function(t,e,a,l){for(var o,n=i(t,null,l,[]),s=t.length;s--;)(o=n[s])&&(t[s]=!(e[s]=o))}):function(t,l,o){return e[0]=t,i(e,null,o,a),e[0]=null,!a.pop()}}),has:ct(function(t){return function(e){return st(t,e).length>0}}),contains:ct(function(t){return t=t.replace(et,at),function(e){return(e.textContent||l(e)).indexOf(t)>-1}}),lang:ct(function(t){return q.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,at).toLowerCase(),function(e){var a;do{if(a=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(a=a.toLowerCase())===t||0===a.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var a=t.location&&t.location.hash;return a&&a.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,a){return[a<0?a+e:a]}),even:ft(function(t,e){for(var a=0;a<e;a+=2)t.push(a);return t}),odd:ft(function(t,e){for(var a=1;a<e;a+=2)t.push(a);return t}),lt:ft(function(t,e,a){for(var i=a<0?a+e:a>e?e:a;--i>=0;)t.push(i);return t}),gt:ft(function(t,e,a){for(var i=a<0?a+e:a;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function bt(){}function yt(t){for(var e=0,a=t.length,i="";e<a;e++)i+=t[e].value;return i}function _t(t,e,a){var i=e.dir,l=e.next,o=l||i,n=a&&"parentNode"===o,s=C++;return e.first?function(e,a,l){for(;e=e[i];)if(1===e.nodeType||n)return t(e,a,l);return!1}:function(e,a,r){var c,d,u,p=[w,s];if(r){for(;e=e[i];)if((1===e.nodeType||n)&&t(e,a,r))return!0}else for(;e=e[i];)if(1===e.nodeType||n)if(d=(u=e[_]||(e[_]={}))[e.uniqueID]||(u[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=d[o])&&c[0]===w&&c[1]===s)return p[2]=c[2];if(d[o]=p,p[2]=t(e,a,r))return!0}return!1}}function xt(t){return t.length>1?function(e,a,i){for(var l=t.length;l--;)if(!t[l](e,a,i))return!1;return!0}:t[0]}function wt(t,e,a,i,l){for(var o,n=[],s=0,r=t.length,c=null!=e;s<r;s++)(o=t[s])&&(a&&!a(o,i,l)||(n.push(o),c&&e.push(s)));return n}function Ct(t,e,a,i,l,o){return i&&!i[_]&&(i=Ct(i)),l&&!l[_]&&(l=Ct(l,o)),ct(function(o,n,s,r){var c,d,u,p=[],h=[],m=n.length,g=o||function(t,e,a){for(var i=0,l=e.length;i<l;i++)st(t,e[i],a);return a}(e||"*",s.nodeType?[s]:s,[]),f=!t||!o&&e?g:wt(g,p,t,s,r),v=a?l||(o?t:m||i)?[]:n:f;if(a&&a(f,v,s,r),i)for(c=wt(v,h),i(c,[],s,r),d=c.length;d--;)(u=c[d])&&(v[h[d]]=!(f[h[d]]=u));if(o){if(l||t){if(l){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(f[d]=u);l(null,v=[],c,r)}for(d=v.length;d--;)(u=v[d])&&(c=l?N(o,u):p[d])>-1&&(o[c]=!(n[c]=u))}}else v=wt(v===n?v.splice(m,v.length):v),l?l(null,n,v,r):A.apply(n,v)})}function Dt(t){for(var e,a,l,o=t.length,n=i.relative[t[0].type],s=n||i.relative[" "],r=n?1:0,d=_t(function(t){return t===e},s,!0),u=_t(function(t){return N(e,t)>-1},s,!0),p=[function(t,a,i){var l=!n&&(i||a!==c)||((e=a).nodeType?d(t,a,i):u(t,a,i));return e=null,l}];r<o;r++)if(a=i.relative[t[r].type])p=[_t(xt(p),a)];else{if((a=i.filter[t[r].type].apply(null,t[r].matches))[_]){for(l=++r;l<o&&!i.relative[t[l].type];l++);return Ct(r>1&&xt(p),r>1&&yt(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(j,"$1"),a,r<l&&Dt(t.slice(r,l)),l<o&&Dt(t=t.slice(l)),l<o&&yt(t))}p.push(a)}return xt(p)}return bt.prototype=i.filters=i.pseudos,i.setFilters=new bt,n=st.tokenize=function(t,e){var a,l,o,n,s,r,c,d=k[t+" "];if(d)return e?0:d.slice(0);for(s=t,r=[],c=i.preFilter;s;){for(n in a&&!(l=W.exec(s))||(l&&(s=s.slice(l[0].length)||s),r.push(o=[])),a=!1,(l=B.exec(s))&&(a=l.shift(),o.push({value:a,type:l[0].replace(j," ")}),s=s.slice(a.length)),i.filter)!(l=Y[n].exec(s))||c[n]&&!(l=c[n](l))||(a=l.shift(),o.push({value:a,type:n,matches:l}),s=s.slice(a.length));if(!a)break}return e?s.length:s?st.error(t):k(t,r).slice(0)},s=st.compile=function(t,e){var a,l=[],o=[],s=$[t+" "];if(!s){for(e||(e=n(t)),a=e.length;a--;)(s=Dt(e[a]))[_]?l.push(s):o.push(s);(s=$(t,function(t,e){var a=e.length>0,l=t.length>0,o=function(o,n,s,r,d){var u,m,f,v=0,b="0",y=o&&[],_=[],x=c,C=o||l&&i.find.TAG("*",d),D=w+=null==x?1:Math.random()||.1,k=C.length;for(d&&(c=n==h||n||d);b!==k&&null!=(u=C[b]);b++){if(l&&u){for(m=0,n||u.ownerDocument==h||(p(u),s=!g);f=t[m++];)if(f(u,n||h,s)){r.push(u);break}d&&(w=D)}a&&((u=!f&&u)&&v--,o&&y.push(u))}if(v+=b,a&&b!==v){for(m=0;f=e[m++];)f(y,_,n,s);if(o){if(v>0)for(;b--;)y[b]||_[b]||(_[b]=L.call(r));_=wt(_)}A.apply(r,_),d&&!o&&_.length>0&&v+e.length>1&&st.uniqueSort(r)}return d&&(w=D,c=x),y};return a?ct(o):o}(o,l))).selector=t}return s},r=st.select=function(t,e,a,l){var o,r,c,d,u,p="function"==typeof t&&t,h=!l&&n(t=p.selector||t);if(a=a||[],1===h.length){if((r=h[0]=h[0].slice(0)).length>2&&"ID"===(c=r[0]).type&&9===e.nodeType&&g&&i.relative[r[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,at),e)||[])[0]))return a;p&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=Y.needsContext.test(t)?0:r.length;o--&&(c=r[o],!i.relative[d=c.type]);)if((u=i.find[d])&&(l=u(c.matches[0].replace(et,at),tt.test(r[0].type)&&vt(e.parentNode)||e))){if(r.splice(o,1),!(t=l.length&&yt(r)))return A.apply(a,l),a;break}}return(p||s(t,h))(l,e,!g,a,!e||tt.test(t)&&vt(e.parentNode)||e),a},a.sortStable=_.split("").sort(F).join("")===_,a.detectDuplicates=!!u,p(),a.sortDetached=dt(function(t){return 1&t.compareDocumentPosition(h.createElement("fieldset"))}),dt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,a){if(!a)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),a.attributes&&dt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,a){if(!a&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),dt(function(t){return null==t.getAttribute("disabled")})||ut(P,function(t,e,a){var i;if(!a)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),st}(a);C.find=k,C.expr=k.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=k.uniqueSort,C.text=k.getText,C.isXMLDoc=k.isXML,C.contains=k.contains,C.escapeSelector=k.escape;var $=function(t,e,a){for(var i=[],l=void 0!==a;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(l&&C(t).is(a))break;i.push(t)}return i},S=function(t,e){for(var a=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&a.push(t);return a},F=C.expr.match.needsContext;function T(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,e,a){return v(e)?C.grep(t,function(t,i){return!!e.call(t,i,t)!==a}):e.nodeType?C.grep(t,function(t){return t===e!==a}):"string"!=typeof e?C.grep(t,function(t){return d.call(e,t)>-1!==a}):C.filter(e,t,a)}C.filter=function(t,e,a){var i=e[0];return a&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,a,i=this.length,l=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<i;e++)if(C.contains(l[e],this))return!0}));for(a=this.pushStack([]),e=0;e<i;e++)C.find(t,l[e],a);return i>1?C.uniqueSort(a):a},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&F.test(t)?C(t):t||[],!1).length}});var z,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,a){var i,l;if(!t)return this;if(a=a||z,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:A.exec(t))||!i[1]&&e)return!e||e.jquery?(e||a).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:y,!0)),M.test(i[1])&&C.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(l=y.getElementById(i[2]))&&(this[0]=l,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==a.ready?a.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,z=C(y);var G=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),a=e.length;return this.filter(function(){for(var t=0;t<a;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){var a,i=0,l=this.length,o=[],n="string"!=typeof t&&C(t);if(!F.test(t))for(;i<l;i++)for(a=this[i];a&&a!==e;a=a.parentNode)if(a.nodeType<11&&(n?n.index(a)>-1:1===a.nodeType&&C.find.matchesSelector(a,t))){o.push(a);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?d.call(C(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return $(t,"parentNode")},parentsUntil:function(t,e,a){return $(t,"parentNode",a)},next:function(t){return P(t,"nextSibling")},prev:function(t){return P(t,"previousSibling")},nextAll:function(t){return $(t,"nextSibling")},prevAll:function(t){return $(t,"previousSibling")},nextUntil:function(t,e,a){return $(t,"nextSibling",a)},prevUntil:function(t,e,a){return $(t,"previousSibling",a)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return null!=t.contentDocument&&n(t.contentDocument)?t.contentDocument:(T(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},function(t,e){C.fn[t]=function(a,i){var l=C.map(this,e,a);return"Until"!==t.slice(-5)&&(i=a),i&&"string"==typeof i&&(l=C.filter(i,l)),this.length>1&&(N[t]||C.uniqueSort(l),G.test(t)&&l.reverse()),this.pushStack(l)}});var I=/[^\x20\t\r\n\f]+/g;function V(t){return t}function E(t){throw t}function O(t,e,a,i){var l;try{t&&v(l=t.promise)?l.call(t).done(e).fail(a):t&&v(l=t.then)?l.call(t,e,a):e.apply(void 0,[t].slice(i))}catch(t){a.apply(void 0,[t])}}C.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return C.each(t.match(I)||[],function(t,a){e[a]=!0}),e}(t):C.extend({},t);var e,a,i,l,o=[],n=[],s=-1,r=function(){for(l=l||t.once,i=e=!0;n.length;s=-1)for(a=n.shift();++s<o.length;)!1===o[s].apply(a[0],a[1])&&t.stopOnFalse&&(s=o.length,a=!1);t.memory||(a=!1),e=!1,l&&(o=a?[]:"")},c={add:function(){return o&&(a&&!e&&(s=o.length-1,n.push(a)),function e(a){C.each(a,function(a,i){v(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&e(i)})}(arguments),a&&!e&&r()),this},remove:function(){return C.each(arguments,function(t,e){for(var a;(a=C.inArray(e,o,a))>-1;)o.splice(a,1),a<=s&&s--}),this},has:function(t){return t?C.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return l=n=[],o=a="",this},disabled:function(){return!o},lock:function(){return l=n=[],a||e||(o=a=""),this},locked:function(){return!!l},fireWith:function(t,a){return l||(a=[t,(a=a||[]).slice?a.slice():a],n.push(a),e||r()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},C.extend({Deferred:function(t){var e=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],i="pending",l={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return l.then(null,t)},pipe:function(){var t=arguments;return C.Deferred(function(a){C.each(e,function(e,i){var l=v(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=l&&l.apply(this,arguments);t&&v(t.promise)?t.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[i[0]+"With"](this,l?[t]:arguments)})}),t=null}).promise()},then:function(t,i,l){var o=0;function n(t,e,i,l){return function(){var s=this,r=arguments,c=function(){var a,c;if(!(t<o)){if((a=i.apply(s,r))===e.promise())throw new TypeError("Thenable self-resolution");c=a&&("object"==typeof a||"function"==typeof a)&&a.then,v(c)?l?c.call(a,n(o,e,V,l),n(o,e,E,l)):(o++,c.call(a,n(o,e,V,l),n(o,e,E,l),n(o,e,V,e.notifyWith))):(i!==V&&(s=void 0,r=[a]),(l||e.resolveWith)(s,r))}},d=l?c:function(){try{c()}catch(a){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(a,d.stackTrace),t+1>=o&&(i!==E&&(s=void 0,r=[a]),e.rejectWith(s,r))}};t?d():(C.Deferred.getStackHook&&(d.stackTrace=C.Deferred.getStackHook()),a.setTimeout(d))}}return C.Deferred(function(a){e[0][3].add(n(0,a,v(l)?l:V,a.notifyWith)),e[1][3].add(n(0,a,v(t)?t:V)),e[2][3].add(n(0,a,v(i)?i:E))}).promise()},promise:function(t){return null!=t?C.extend(t,l):l}},o={};return C.each(e,function(t,a){var n=a[2],s=a[5];l[a[1]]=n.add,s&&n.add(function(){i=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),n.add(a[3].fire),o[a[0]]=function(){return o[a[0]+"With"](this===o?void 0:this,arguments),this},o[a[0]+"With"]=n.fireWith}),l.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,a=e,i=Array(a),l=s.call(arguments),o=C.Deferred(),n=function(t){return function(a){i[t]=this,l[t]=arguments.length>1?s.call(arguments):a,--e||o.resolveWith(i,l)}};if(e<=1&&(O(t,o.done(n(a)).resolve,o.reject,!e),"pending"===o.state()||v(l[a]&&l[a].then)))return o.then();for(;a--;)O(l[a],n(a),o.reject);return o.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){a.console&&a.console.warn&&t&&R.test(t.name)&&a.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){a.setTimeout(function(){throw t})};var j=C.Deferred();function W(){y.removeEventListener("DOMContentLoaded",W),a.removeEventListener("load",W),C.ready()}C.fn.ready=function(t){return j.then(t).catch(function(t){C.readyException(t)}),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||j.resolveWith(y,[C]))}}),C.ready.then=j.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?a.setTimeout(C.ready):(y.addEventListener("DOMContentLoaded",W),a.addEventListener("load",W));var B=function(t,e,a,i,l,o,n){var s=0,r=t.length,c=null==a;if("object"===w(a))for(s in l=!0,a)B(t,e,s,a[s],!0,o,n);else if(void 0!==i&&(l=!0,v(i)||(n=!0),c&&(n?(e.call(t,i),e=null):(c=e,e=function(t,e,a){return c.call(C(t),a)})),e))for(;s<r;s++)e(t[s],a,n?i:i.call(t[s],s,e(t[s],a)));return l?t:c?e.call(t):r?e(t[0],a):o},H=/^-ms-/,U=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function Y(t){return t.replace(H,"ms-").replace(U,q)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=C.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,a){var i,l=this.cache(t);if("string"==typeof e)l[Y(e)]=a;else for(i in e)l[Y(i)]=e[i];return l},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,a){return void 0===e||e&&"string"==typeof e&&void 0===a?this.get(t,e):(this.set(t,e,a),void 0!==a?a:e)},remove:function(t,e){var a,i=t[this.expando];if(void 0!==i){if(void 0!==e){a=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in i?[e]:e.match(I)||[]).length;for(;a--;)delete i[e[a]]}(void 0===e||C.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var J=new Z,K=new Z,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,a){var i;if(void 0===a&&1===t.nodeType)if(i="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(a=t.getAttribute(i))){try{a=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Q.test(t)?JSON.parse(t):t)}(a)}catch(t){}K.set(t,e,a)}else a=void 0;return a}C.extend({hasData:function(t){return K.hasData(t)||J.hasData(t)},data:function(t,e,a){return K.access(t,e,a)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,a){return J.access(t,e,a)},_removeData:function(t,e){J.remove(t,e)}}),C.fn.extend({data:function(t,e){var a,i,l,o=this[0],n=o&&o.attributes;if(void 0===t){if(this.length&&(l=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(a=n.length;a--;)n[a]&&0===(i=n[a].name).indexOf("data-")&&(i=Y(i.slice(5)),et(o,i,l[i]));J.set(o,"hasDataAttrs",!0)}return l}return"object"==typeof t?this.each(function(){K.set(this,t)}):B(this,function(e){var a;if(o&&void 0===e)return void 0!==(a=K.get(o,t))?a:void 0!==(a=et(o,t))?a:void 0;this.each(function(){K.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){K.remove(this,t)})}}),C.extend({queue:function(t,e,a){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),a&&(!i||Array.isArray(a)?i=J.access(t,e,C.makeArray(a)):i.push(a)),i||[]},dequeue:function(t,e){e=e||"fx";var a=C.queue(t,e),i=a.length,l=a.shift(),o=C._queueHooks(t,e);"inprogress"===l&&(l=a.shift(),i--),l&&("fx"===e&&a.unshift("inprogress"),delete o.stop,l.call(t,function(){C.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var a=e+"queueHooks";return J.get(t,a)||J.access(t,a,{empty:C.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",a])})})}}),C.fn.extend({queue:function(t,e){var a=2;return"string"!=typeof t&&(e=t,t="fx",a--),arguments.length<a?C.queue(this[0],t):void 0===e?this:this.each(function(){var a=C.queue(this,t,e);C._queueHooks(this,t),"fx"===t&&"inprogress"!==a[0]&&C.dequeue(this,t)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var a,i=1,l=C.Deferred(),o=this,n=this.length,s=function(){--i||l.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";n--;)(a=J.get(o[n],t+"queueHooks"))&&a.empty&&(i++,a.empty.add(s));return s(),l.promise(e)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),lt=["Top","Right","Bottom","Left"],ot=y.documentElement,nt=function(t){return C.contains(t.ownerDocument,t)},st={composed:!0};ot.getRootNode&&(nt=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&nt(t)&&"none"===C.css(t,"display")};function ct(t,e,a,i){var l,o,n=20,s=i?function(){return i.cur()}:function(){return C.css(t,e,"")},r=s(),c=a&&a[3]||(C.cssNumber[e]?"":"px"),d=t.nodeType&&(C.cssNumber[e]||"px"!==c&&+r)&&it.exec(C.css(t,e));if(d&&d[3]!==c){for(r/=2,c=c||d[3],d=+r||1;n--;)C.style(t,e,d+c),(1-o)*(1-(o=s()/r||.5))<=0&&(n=0),d/=o;d*=2,C.style(t,e,d+c),a=a||[]}return a&&(d=+d||+r||0,l=a[1]?d+(a[1]+1)*a[2]:+a[2],i&&(i.unit=c,i.start=d,i.end=l)),l}var dt={};function ut(t){var e,a=t.ownerDocument,i=t.nodeName,l=dt[i];return l||(e=a.body.appendChild(a.createElement(i)),l=C.css(e,"display"),e.parentNode.removeChild(e),"none"===l&&(l="block"),dt[i]=l,l)}function pt(t,e){for(var a,i,l=[],o=0,n=t.length;o<n;o++)(i=t[o]).style&&(a=i.style.display,e?("none"===a&&(l[o]=J.get(i,"display")||null,l[o]||(i.style.display="")),""===i.style.display&&rt(i)&&(l[o]=ut(i))):"none"!==a&&(l[o]="none",J.set(i,"display",a)));for(o=0;o<n;o++)null!=l[o]&&(t[o].style.display=l[o]);return t}C.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){rt(this)?C(this).show():C(this).hide()})}});var ht,mt,gt=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;ht=y.createDocumentFragment().appendChild(y.createElement("div")),(mt=y.createElement("input")).setAttribute("type","radio"),mt.setAttribute("checked","checked"),mt.setAttribute("name","t"),ht.appendChild(mt),f.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML="<option></option>",f.option=!!ht.lastChild;var bt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function yt(t,e){var a;return a=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&T(t,e)?C.merge([t],a):a}function _t(t,e){for(var a=0,i=t.length;a<i;a++)J.set(t[a],"globalEval",!e||J.get(e[a],"globalEval"))}bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,f.option||(bt.optgroup=bt.option=[1,"<select multiple='multiple'>","</select>"]);var xt=/<|&#?\w+;/;function wt(t,e,a,i,l){for(var o,n,s,r,c,d,u=e.createDocumentFragment(),p=[],h=0,m=t.length;h<m;h++)if((o=t[h])||0===o)if("object"===w(o))C.merge(p,o.nodeType?[o]:o);else if(xt.test(o)){for(n=n||u.appendChild(e.createElement("div")),s=(ft.exec(o)||["",""])[1].toLowerCase(),r=bt[s]||bt._default,n.innerHTML=r[1]+C.htmlPrefilter(o)+r[2],d=r[0];d--;)n=n.lastChild;C.merge(p,n.childNodes),(n=u.firstChild).textContent=""}else p.push(e.createTextNode(o));for(u.textContent="",h=0;o=p[h++];)if(i&&C.inArray(o,i)>-1)l&&l.push(o);else if(c=nt(o),n=yt(u.appendChild(o),"script"),c&&_t(n),a)for(d=0;o=n[d++];)vt.test(o.type||"")&&a.push(o);return u}var Ct=/^([^.]*)(?:\.(.+)|)/;function Dt(){return!0}function kt(){return!1}function $t(t,e){return t===function(){try{return y.activeElement}catch(t){}}()==("focus"===e)}function St(t,e,a,i,l,o){var n,s;if("object"==typeof e){for(s in"string"!=typeof a&&(i=i||a,a=void 0),e)St(t,s,a,i,e[s],o);return t}if(null==i&&null==l?(l=a,i=a=void 0):null==l&&("string"==typeof a?(l=i,i=void 0):(l=i,i=a,a=void 0)),!1===l)l=kt;else if(!l)return t;return 1===o&&(n=l,(l=function(t){return C().off(t),n.apply(this,arguments)}).guid=n.guid||(n.guid=C.guid++)),t.each(function(){C.event.add(this,e,l,i,a)})}function Ft(t,e,a){a?(J.set(t,e,!1),C.event.add(t,e,{namespace:!1,handler:function(t){var i,l,o=J.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(C.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),J.set(this,e,o),i=a(this,e),this[e](),o!==(l=J.get(this,e))||i?J.set(this,e,!1):l={},o!==l)return t.stopImmediatePropagation(),t.preventDefault(),l&&l.value}else o.length&&(J.set(this,e,{value:C.event.trigger(C.extend(o[0],C.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&C.event.add(t,e,Dt)}C.event={global:{},add:function(t,e,a,i,l){var o,n,s,r,c,d,u,p,h,m,g,f=J.get(t);if(X(t))for(a.handler&&(a=(o=a).handler,l=o.selector),l&&C.find.matchesSelector(ot,l),a.guid||(a.guid=C.guid++),(r=f.events)||(r=f.events=Object.create(null)),(n=f.handle)||(n=f.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(I)||[""]).length;c--;)h=g=(s=Ct.exec(e[c])||[])[1],m=(s[2]||"").split(".").sort(),h&&(u=C.event.special[h]||{},h=(l?u.delegateType:u.bindType)||h,u=C.event.special[h]||{},d=C.extend({type:h,origType:g,data:i,handler:a,guid:a.guid,selector:l,needsContext:l&&C.expr.match.needsContext.test(l),namespace:m.join(".")},o),(p=r[h])||((p=r[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,m,n)||t.addEventListener&&t.addEventListener(h,n)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=a.guid)),l?p.splice(p.delegateCount++,0,d):p.push(d),C.event.global[h]=!0)},remove:function(t,e,a,i,l){var o,n,s,r,c,d,u,p,h,m,g,f=J.hasData(t)&&J.get(t);if(f&&(r=f.events)){for(c=(e=(e||"").match(I)||[""]).length;c--;)if(h=g=(s=Ct.exec(e[c])||[])[1],m=(s[2]||"").split(".").sort(),h){for(u=C.event.special[h]||{},p=r[h=(i?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),n=o=p.length;o--;)d=p[o],!l&&g!==d.origType||a&&a.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(p.splice(o,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(t,d));n&&!p.length&&(u.teardown&&!1!==u.teardown.call(t,m,f.handle)||C.removeEvent(t,h,f.handle),delete r[h])}else for(h in r)C.event.remove(t,h+e[c],a,i,!0);C.isEmptyObject(r)&&J.remove(t,"handle events")}},dispatch:function(t){var e,a,i,l,o,n,s=new Array(arguments.length),r=C.event.fix(t),c=(J.get(this,"events")||Object.create(null))[r.type]||[],d=C.event.special[r.type]||{};for(s[0]=r,e=1;e<arguments.length;e++)s[e]=arguments[e];if(r.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,r)){for(n=C.event.handlers.call(this,r,c),e=0;(l=n[e++])&&!r.isPropagationStopped();)for(r.currentTarget=l.elem,a=0;(o=l.handlers[a++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!1!==o.namespace&&!r.rnamespace.test(o.namespace)||(r.handleObj=o,r.data=o.data,void 0!==(i=((C.event.special[o.origType]||{}).handle||o.handler).apply(l.elem,s))&&!1===(r.result=i)&&(r.preventDefault(),r.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,r),r.result}},handlers:function(t,e){var a,i,l,o,n,s=[],r=e.delegateCount,c=t.target;if(r&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],n={},a=0;a<r;a++)void 0===n[l=(i=e[a]).selector+" "]&&(n[l]=i.needsContext?C(l,this).index(c)>-1:C.find(l,this,null,[c]).length),n[l]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,r<e.length&&s.push({elem:c,handlers:e.slice(r)}),s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&T(e,"input")&&Ft(e,"click",Dt),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&T(e,"input")&&Ft(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&T(e,"input")&&J.get(e,"click")||T(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,a){t.removeEventListener&&t.removeEventListener(e,a)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Dt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Dt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Dt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Dt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(t,e){C.event.special[t]={setup:function(){return Ft(this,t,$t),!1},trigger:function(){return Ft(this,t),!0},_default:function(){return!0},delegateType:e}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var a,i=t.relatedTarget,l=t.handleObj;return i&&(i===this||C.contains(this,i))||(t.type=l.origType,a=l.handler.apply(this,arguments),t.type=e),a}}}),C.fn.extend({on:function(t,e,a,i){return St(this,t,e,a,i)},one:function(t,e,a,i){return St(this,t,e,a,i,1)},off:function(t,e,a){var i,l;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(l in t)this.off(l,e,t[l]);return this}return!1!==e&&"function"!=typeof e||(a=e,e=void 0),!1===a&&(a=kt),this.each(function(){C.event.remove(this,t,a,e)})}});var Tt=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function zt(t,e){return T(t,"table")&&T(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function At(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Gt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Nt(t,e){var a,i,l,o,n,s;if(1===e.nodeType){if(J.hasData(t)&&(s=J.get(t).events))for(l in J.remove(e,"handle events"),s)for(a=0,i=s[l].length;a<i;a++)C.event.add(e,l,s[l][a]);K.hasData(t)&&(o=K.access(t),n=C.extend({},o),K.set(e,n))}}function Pt(t,e,a,i){e=r(e);var l,o,n,s,c,d,u=0,p=t.length,h=p-1,m=e[0],g=v(m);if(g||p>1&&"string"==typeof m&&!f.checkClone&&Mt.test(m))return t.each(function(l){var o=t.eq(l);g&&(e[0]=m.call(this,l,o.html())),Pt(o,e,a,i)});if(p&&(o=(l=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===l.childNodes.length&&(l=o),o||i)){for(s=(n=C.map(yt(l,"script"),At)).length;u<p;u++)c=l,u!==h&&(c=C.clone(c,!0,!0),s&&C.merge(n,yt(c,"script"))),a.call(t[u],c,u);if(s)for(d=n[n.length-1].ownerDocument,C.map(n,Gt),u=0;u<s;u++)c=n[u],vt.test(c.type||"")&&!J.access(c,"globalEval")&&C.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):x(c.textContent.replace(Lt,""),c,d))}return t}function It(t,e,a){for(var i,l=e?C.filter(e,t):t,o=0;null!=(i=l[o]);o++)a||1!==i.nodeType||C.cleanData(yt(i)),i.parentNode&&(a&&nt(i)&&_t(yt(i,"script")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,a){var i,l,o,n,s,r,c,d=t.cloneNode(!0),u=nt(t);if(!(f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(n=yt(d),i=0,l=(o=yt(t)).length;i<l;i++)s=o[i],r=n[i],void 0,"input"===(c=r.nodeName.toLowerCase())&&gt.test(s.type)?r.checked=s.checked:"input"!==c&&"textarea"!==c||(r.defaultValue=s.defaultValue);if(e)if(a)for(o=o||yt(t),n=n||yt(d),i=0,l=o.length;i<l;i++)Nt(o[i],n[i]);else Nt(t,d);return(n=yt(d,"script")).length>0&&_t(n,!u&&yt(t,"script")),d},cleanData:function(t){for(var e,a,i,l=C.event.special,o=0;void 0!==(a=t[o]);o++)if(X(a)){if(e=a[J.expando]){if(e.events)for(i in e.events)l[i]?C.event.remove(a,i):C.removeEvent(a,i,e.handle);a[J.expando]=void 0}a[K.expando]&&(a[K.expando]=void 0)}}}),C.fn.extend({detach:function(t){return It(this,t,!0)},remove:function(t){return It(this,t)},text:function(t){return B(this,function(t){return void 0===t?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Pt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||zt(this,t).appendChild(t)})},prepend:function(){return Pt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=zt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Pt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Pt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(yt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return B(this,function(t){var e=this[0]||{},a=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Tt.test(t)&&!bt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;a<i;a++)1===(e=this[a]||{}).nodeType&&(C.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Pt(this,arguments,function(e){var a=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(yt(this)),a&&a.replaceChild(e,this))},t)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){C.fn[t]=function(t){for(var a,i=[],l=C(t),o=l.length-1,n=0;n<=o;n++)a=n===o?this:this.clone(!0),C(l[n])[e](a),c.apply(i,a.get());return this.pushStack(i)}});var Vt=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),Et=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=a),e.getComputedStyle(t)},Ot=function(t,e,a){var i,l,o={};for(l in e)o[l]=t.style[l],t.style[l]=e[l];for(l in i=a.call(t),e)t.style[l]=o[l];return i},Rt=new RegExp(lt.join("|"),"i");function jt(t,e,a){var i,l,o,n,s=t.style;return(a=a||Et(t))&&(""!==(n=a.getPropertyValue(e)||a[e])||nt(t)||(n=C.style(t,e)),!f.pixelBoxStyles()&&Vt.test(n)&&Rt.test(e)&&(i=s.width,l=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=n,n=a.width,s.width=i,s.minWidth=l,s.maxWidth=o)),void 0!==n?n+"":n}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(c).appendChild(d);var t=a.getComputedStyle(d);i="1%"!==t.top,r=12===e(t.marginLeft),d.style.right="60%",n=36===e(t.right),l=36===e(t.width),d.style.position="absolute",o=12===e(d.offsetWidth/3),ot.removeChild(c),d=null}}function e(t){return Math.round(parseFloat(t))}var i,l,o,n,s,r,c=y.createElement("div"),d=y.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===d.style.backgroundClip,C.extend(f,{boxSizingReliable:function(){return t(),l},pixelBoxStyles:function(){return t(),n},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),r},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,i,l;return null==s&&(t=y.createElement("table"),e=y.createElement("tr"),i=y.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",ot.appendChild(t).appendChild(e).appendChild(i),l=a.getComputedStyle(e),s=parseInt(l.height,10)+parseInt(l.borderTopWidth,10)+parseInt(l.borderBottomWidth,10)===e.offsetHeight,ot.removeChild(t)),s}}))}();var Bt=["Webkit","Moz","ms"],Ht=y.createElement("div").style,Ut={};function qt(t){var e=C.cssProps[t]||Ut[t];return e||(t in Ht?t:Ut[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),a=Bt.length;a--;)if((t=Bt[a]+e)in Ht)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Xt=/^--/,Zt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"};function Kt(t,e,a){var i=it.exec(e);return i?Math.max(0,i[2]-(a||0))+(i[3]||"px"):e}function Qt(t,e,a,i,l,o){var n="width"===e?1:0,s=0,r=0;if(a===(i?"border":"content"))return 0;for(;n<4;n+=2)"margin"===a&&(r+=C.css(t,a+lt[n],!0,l)),i?("content"===a&&(r-=C.css(t,"padding"+lt[n],!0,l)),"margin"!==a&&(r-=C.css(t,"border"+lt[n]+"Width",!0,l))):(r+=C.css(t,"padding"+lt[n],!0,l),"padding"!==a?r+=C.css(t,"border"+lt[n]+"Width",!0,l):s+=C.css(t,"border"+lt[n]+"Width",!0,l));return!i&&o>=0&&(r+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-r-s-.5))||0),r}function te(t,e,a){var i=Et(t),l=(!f.boxSizingReliable()||a)&&"border-box"===C.css(t,"boxSizing",!1,i),o=l,n=jt(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(Vt.test(n)){if(!a)return n;n="auto"}return(!f.boxSizingReliable()&&l||!f.reliableTrDimensions()&&T(t,"tr")||"auto"===n||!parseFloat(n)&&"inline"===C.css(t,"display",!1,i))&&t.getClientRects().length&&(l="border-box"===C.css(t,"boxSizing",!1,i),(o=s in t)&&(n=t[s])),(n=parseFloat(n)||0)+Qt(t,e,a||(l?"border":"content"),o,i,n)+"px"}function ee(t,e,a,i,l){return new ee.prototype.init(t,e,a,i,l)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var a=jt(t,"opacity");return""===a?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,a,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var l,o,n,s=Y(e),r=Xt.test(e),c=t.style;if(r||(e=qt(s)),n=C.cssHooks[e]||C.cssHooks[s],void 0===a)return n&&"get"in n&&void 0!==(l=n.get(t,!1,i))?l:c[e];"string"===(o=typeof a)&&(l=it.exec(a))&&l[1]&&(a=ct(t,e,l),o="number"),null!=a&&a==a&&("number"!==o||r||(a+=l&&l[3]||(C.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==a||0!==e.indexOf("background")||(c[e]="inherit"),n&&"set"in n&&void 0===(a=n.set(t,a,i))||(r?c.setProperty(e,a):c[e]=a))}},css:function(t,e,a,i){var l,o,n,s=Y(e);return Xt.test(e)||(e=qt(s)),(n=C.cssHooks[e]||C.cssHooks[s])&&"get"in n&&(l=n.get(t,!0,a)),void 0===l&&(l=jt(t,e,i)),"normal"===l&&e in Jt&&(l=Jt[e]),""===a||a?(o=parseFloat(l),!0===a||isFinite(o)?o||0:l):l}}),C.each(["height","width"],function(t,e){C.cssHooks[e]={get:function(t,a,i){if(a)return!Yt.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):Ot(t,Zt,function(){return te(t,e,i)})},set:function(t,a,i){var l,o=Et(t),n=!f.scrollboxSize()&&"absolute"===o.position,s=(n||i)&&"border-box"===C.css(t,"boxSizing",!1,o),r=i?Qt(t,e,i,s,o):0;return s&&n&&(r-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Qt(t,e,"border",!1,o)-.5)),r&&(l=it.exec(a))&&"px"!==(l[3]||"px")&&(t.style[e]=a,a=C.css(t,e)),Kt(0,a,r)}}}),C.cssHooks.marginLeft=Wt(f.reliableMarginLeft,function(t,e){if(e)return(parseFloat(jt(t,"marginLeft"))||t.getBoundingClientRect().left-Ot(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(t,e){C.cssHooks[t+e]={expand:function(a){for(var i=0,l={},o="string"==typeof a?a.split(" "):[a];i<4;i++)l[t+lt[i]+e]=o[i]||o[i-2]||o[0];return l}},"margin"!==t&&(C.cssHooks[t+e].set=Kt)}),C.fn.extend({css:function(t,e){return B(this,function(t,e,a){var i,l,o={},n=0;if(Array.isArray(e)){for(i=Et(t),l=e.length;n<l;n++)o[e[n]]=C.css(t,e[n],!1,i);return o}return void 0!==a?C.style(t,e,a):C.css(t,e)},t,e,arguments.length>1)}}),C.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,a,i,l,o){this.elem=t,this.prop=a,this.easing=l||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[a]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,a=ee.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[qt(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=ee.prototype.init,C.fx.step={};var ae,ie,le=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function ne(){ie&&(!1===y.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(ne):a.setTimeout(ne,C.fx.interval),C.fx.tick())}function se(){return a.setTimeout(function(){ae=void 0}),ae=Date.now()}function re(t,e){var a,i=0,l={height:t};for(e=e?1:0;i<4;i+=2-e)l["margin"+(a=lt[i])]=l["padding"+a]=t;return e&&(l.opacity=l.width=t),l}function ce(t,e,a){for(var i,l=(de.tweeners[e]||[]).concat(de.tweeners["*"]),o=0,n=l.length;o<n;o++)if(i=l[o].call(a,e,t))return i}function de(t,e,a){var i,l,o=0,n=de.prefilters.length,s=C.Deferred().always(function(){delete r.elem}),r=function(){if(l)return!1;for(var e=ae||se(),a=Math.max(0,c.startTime+c.duration-e),i=1-(a/c.duration||0),o=0,n=c.tweens.length;o<n;o++)c.tweens[o].run(i);return s.notifyWith(t,[c,i,a]),i<1&&n?a:(n||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},a),originalProperties:e,originalOptions:a,startTime:ae||se(),duration:a.duration,tweens:[],createTween:function(e,a){var i=C.Tween(t,c.opts,e,a,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var a=0,i=e?c.tweens.length:0;if(l)return this;for(l=!0;a<i;a++)c.tweens[a].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),d=c.props;for(!function(t,e){var a,i,l,o,n;for(a in t)if(l=e[i=Y(a)],o=t[a],Array.isArray(o)&&(l=o[1],o=t[a]=o[0]),a!==i&&(t[i]=o,delete t[a]),(n=C.cssHooks[i])&&"expand"in n)for(a in o=n.expand(o),delete t[i],o)a in t||(t[a]=o[a],e[a]=l);else e[i]=l}(d,c.opts.specialEasing);o<n;o++)if(i=de.prefilters[o].call(c,t,d,c.opts))return v(i.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return C.map(d,ce,c),v(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(r,{elem:t,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(de,{tweeners:{"*":[function(t,e){var a=this.createTween(t,e);return ct(a.elem,t,it.exec(e),a),a}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(I);for(var a,i=0,l=t.length;i<l;i++)a=t[i],de.tweeners[a]=de.tweeners[a]||[],de.tweeners[a].unshift(e)},prefilters:[function(t,e,a){var i,l,o,n,s,r,c,d,u="width"in e||"height"in e,p=this,h={},m=t.style,g=t.nodeType&&rt(t),f=J.get(t,"fxshow");for(i in a.queue||(null==(n=C._queueHooks(t,"fx")).unqueued&&(n.unqueued=0,s=n.empty.fire,n.empty.fire=function(){n.unqueued||s()}),n.unqueued++,p.always(function(){p.always(function(){n.unqueued--,C.queue(t,"fx").length||n.empty.fire()})})),e)if(l=e[i],le.test(l)){if(delete e[i],o=o||"toggle"===l,l===(g?"hide":"show")){if("show"!==l||!f||void 0===f[i])continue;g=!0}h[i]=f&&f[i]||C.style(t,i)}if((r=!C.isEmptyObject(e))||!C.isEmptyObject(h))for(i in u&&1===t.nodeType&&(a.overflow=[m.overflow,m.overflowX,m.overflowY],null==(c=f&&f.display)&&(c=J.get(t,"display")),"none"===(d=C.css(t,"display"))&&(c?d=c:(pt([t],!0),c=t.style.display||c,d=C.css(t,"display"),pt([t]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===C.css(t,"float")&&(r||(p.done(function(){m.display=c}),null==c&&(d=m.display,c="none"===d?"":d)),m.display="inline-block")),a.overflow&&(m.overflow="hidden",p.always(function(){m.overflow=a.overflow[0],m.overflowX=a.overflow[1],m.overflowY=a.overflow[2]})),r=!1,h)r||(f?"hidden"in f&&(g=f.hidden):f=J.access(t,"fxshow",{display:c}),o&&(f.hidden=!g),g&&pt([t],!0),p.done(function(){for(i in g||pt([t]),J.remove(t,"fxshow"),h)C.style(t,i,h[i])})),r=ce(g?f[i]:0,i,p),i in f||(f[i]=r.start,g&&(r.end=r.start,r.start=0))}],prefilter:function(t,e){e?de.prefilters.unshift(t):de.prefilters.push(t)}}),C.speed=function(t,e,a){var i=t&&"object"==typeof t?C.extend({},t):{complete:a||!a&&e||v(t)&&t,duration:t,easing:a&&e||e&&!v(e)&&e};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,a,i){return this.filter(rt).css("opacity",0).show().end().animate({opacity:e},t,a,i)},animate:function(t,e,a,i){var l=C.isEmptyObject(t),o=C.speed(e,a,i),n=function(){var e=de(this,C.extend({},t),o);(l||J.get(this,"finish"))&&e.stop(!0)};return n.finish=n,l||!1===o.queue?this.each(n):this.queue(o.queue,n)},stop:function(t,e,a){var i=function(t){var e=t.stop;delete t.stop,e(a)};return"string"!=typeof t&&(a=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,l=null!=t&&t+"queueHooks",o=C.timers,n=J.get(this);if(l)n[l]&&n[l].stop&&i(n[l]);else for(l in n)n[l]&&n[l].stop&&oe.test(l)&&i(n[l]);for(l=o.length;l--;)o[l].elem!==this||null!=t&&o[l].queue!==t||(o[l].anim.stop(a),e=!1,o.splice(l,1));!e&&a||C.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,a=J.get(this),i=a[t+"queue"],l=a[t+"queueHooks"],o=C.timers,n=i?i.length:0;for(a.finish=!0,C.queue(this,t,[]),l&&l.stop&&l.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<n;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete a.finish})}}),C.each(["toggle","show","hide"],function(t,e){var a=C.fn[e];C.fn[e]=function(t,i,l){return null==t||"boolean"==typeof t?a.apply(this,arguments):this.animate(re(e,!0),t,i,l)}}),C.each({slideDown:re("show"),slideUp:re("hide"),slideToggle:re("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){C.fn[t]=function(t,a,i){return this.animate(e,t,a,i)}}),C.timers=[],C.fx.tick=function(){var t,e=0,a=C.timers;for(ae=Date.now();e<a.length;e++)(t=a[e])()||a[e]!==t||a.splice(e--,1);a.length||C.fx.stop(),ae=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ie||(ie=!0,ne())},C.fx.stop=function(){ie=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,e){return t=C.fx&&C.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var l=a.setTimeout(e,t);i.stop=function(){a.clearTimeout(l)}})},function(){var t=y.createElement("input"),e=y.createElement("select").appendChild(y.createElement("option"));t.type="checkbox",f.checkOn=""!==t.value,f.optSelected=e.selected,(t=y.createElement("input")).value="t",t.type="radio",f.radioValue="t"===t.value}();var ue,pe=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return B(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,a){var i,l,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?C.prop(t,e,a):(1===o&&C.isXMLDoc(t)||(l=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ue:void 0)),void 0!==a?null===a?void C.removeAttr(t,e):l&&"set"in l&&void 0!==(i=l.set(t,a,e))?i:(t.setAttribute(e,a+""),a):l&&"get"in l&&null!==(i=l.get(t,e))?i:null==(i=C.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&T(t,"input")){var a=t.value;return t.setAttribute("type",e),a&&(t.value=a),e}}}},removeAttr:function(t,e){var a,i=0,l=e&&e.match(I);if(l&&1===t.nodeType)for(;a=l[i++];)t.removeAttribute(a)}}),ue={set:function(t,e,a){return!1===e?C.removeAttr(t,a):t.setAttribute(a,a),a}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var a=pe[e]||C.find.attr;pe[e]=function(t,e,i){var l,o,n=e.toLowerCase();return i||(o=pe[n],pe[n]=l,l=null!=a(t,e,i)?n:null,pe[n]=o),l}});var he=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ge(t){return(t.match(I)||[]).join(" ")}function fe(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(I)||[]}C.fn.extend({prop:function(t,e){return B(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({prop:function(t,e,a){var i,l,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(t)||(e=C.propFix[e]||e,l=C.propHooks[e]),void 0!==a?l&&"set"in l&&void 0!==(i=l.set(t,a,e))?i:t[e]=a:l&&"get"in l&&null!==(i=l.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):he.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,a,i,l,o,n,s,r=0;if(v(t))return this.each(function(e){C(this).addClass(t.call(this,e,fe(this)))});if((e=ve(t)).length)for(;a=this[r++];)if(l=fe(a),i=1===a.nodeType&&" "+ge(l)+" "){for(n=0;o=e[n++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");l!==(s=ge(i))&&a.setAttribute("class",s)}return this},removeClass:function(t){var e,a,i,l,o,n,s,r=0;if(v(t))return this.each(function(e){C(this).removeClass(t.call(this,e,fe(this)))});if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;a=this[r++];)if(l=fe(a),i=1===a.nodeType&&" "+ge(l)+" "){for(n=0;o=e[n++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");l!==(s=ge(i))&&a.setAttribute("class",s)}return this},toggleClass:function(t,e){var a=typeof t,i="string"===a||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):v(t)?this.each(function(a){C(this).toggleClass(t.call(this,a,fe(this),e),e)}):this.each(function(){var e,l,o,n;if(i)for(l=0,o=C(this),n=ve(t);e=n[l++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==a||((e=fe(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,a,i=0;for(e=" "+t+" ";a=this[i++];)if(1===a.nodeType&&(" "+ge(fe(a))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;C.fn.extend({val:function(t){var e,a,i,l=this[0];return arguments.length?(i=v(t),this.each(function(a){var l;1===this.nodeType&&(null==(l=i?t.call(this,a,C(this).val()):t)?l="":"number"==typeof l?l+="":Array.isArray(l)&&(l=C.map(l,function(t){return null==t?"":t+""})),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,l,"value")||(this.value=l))})):l?(e=C.valHooks[l.type]||C.valHooks[l.nodeName.toLowerCase()])&&"get"in e&&void 0!==(a=e.get(l,"value"))?a:"string"==typeof(a=l.value)?a.replace(be,""):null==a?"":a:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:ge(C.text(t))}},select:{get:function(t){var e,a,i,l=t.options,o=t.selectedIndex,n="select-one"===t.type,s=n?null:[],r=n?o+1:l.length;for(i=o<0?r:n?o:0;i<r;i++)if(((a=l[i]).selected||i===o)&&!a.disabled&&(!a.parentNode.disabled||!T(a.parentNode,"optgroup"))){if(e=C(a).val(),n)return e;s.push(e)}return s},set:function(t,e){for(var a,i,l=t.options,o=C.makeArray(e),n=l.length;n--;)((i=l[n]).selected=C.inArray(C.valHooks.option.get(i),o)>-1)&&(a=!0);return a||(t.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},f.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),f.focusin="onfocusin"in a;var ye=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(t,e,i,l){var o,n,s,r,c,d,u,p,m=[i||y],g=h.call(t,"type")?t.type:t,f=h.call(t,"namespace")?t.namespace.split("."):[];if(n=p=s=i=i||y,3!==i.nodeType&&8!==i.nodeType&&!ye.test(g+C.event.triggered)&&(g.indexOf(".")>-1&&(g=(f=g.split(".")).shift(),f.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[C.expando]?t:new C.Event(g,"object"==typeof t&&t)).isTrigger=l?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:C.makeArray(e,[t]),u=C.event.special[g]||{},l||!u.trigger||!1!==u.trigger.apply(i,e))){if(!l&&!u.noBubble&&!b(i)){for(r=u.delegateType||g,ye.test(r+g)||(n=n.parentNode);n;n=n.parentNode)m.push(n),s=n;s===(i.ownerDocument||y)&&m.push(s.defaultView||s.parentWindow||a)}for(o=0;(n=m[o++])&&!t.isPropagationStopped();)p=n,t.type=o>1?r:u.bindType||g,(d=(J.get(n,"events")||Object.create(null))[t.type]&&J.get(n,"handle"))&&d.apply(n,e),(d=c&&n[c])&&d.apply&&X(n)&&(t.result=d.apply(n,e),!1===t.result&&t.preventDefault());return t.type=g,l||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(m.pop(),e)||!X(i)||c&&v(i[g])&&!b(i)&&((s=i[c])&&(i[c]=null),C.event.triggered=g,t.isPropagationStopped()&&p.addEventListener(g,_e),i[g](),t.isPropagationStopped()&&p.removeEventListener(g,_e),C.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(t,e,a){var i=C.extend(new C.Event,a,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var a=this[0];if(a)return C.event.trigger(t,e,a,!0)}}),f.focusin||C.each({focus:"focusin",blur:"focusout"},function(t,e){var a=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,l=J.access(i,e);l||i.addEventListener(t,a,!0),J.access(i,e,(l||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,l=J.access(i,e)-1;l?J.access(i,e,l):(i.removeEventListener(t,a,!0),J.remove(i,e))}}});var xe=a.location,we={guid:Date.now()},Ce=/\?/;C.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{e=(new a.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||C.error("Invalid XML: "+(i?C.map(i.childNodes,function(t){return t.textContent}).join("\n"):t)),e};var De=/\[\]$/,ke=/\r?\n/g,$e=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Fe(t,e,a,i){var l;if(Array.isArray(e))C.each(e,function(e,l){a||De.test(t)?i(t,l):Fe(t+"["+("object"==typeof l&&null!=l?e:"")+"]",l,a,i)});else if(a||"object"!==w(e))i(t,e);else for(l in e)Fe(t+"["+l+"]",e[l],a,i)}C.param=function(t,e){var a,i=[],l=function(t,e){var a=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==a?"":a)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){l(this.name,this.value)});else for(a in t)Fe(a,t[a],e,l);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Se.test(this.nodeName)&&!$e.test(t)&&(this.checked||!gt.test(t))}).map(function(t,e){var a=C(this).val();return null==a?null:Array.isArray(a)?C.map(a,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:a.replace(ke,"\r\n")}}).get()}});var Te=/%20/g,Me=/#.*$/,Le=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ae=/^(?:GET|HEAD)$/,Ge=/^\/\//,Ne={},Pe={},Ie="*/".concat("*"),Ve=y.createElement("a");function Ee(t){return function(e,a){"string"!=typeof e&&(a=e,e="*");var i,l=0,o=e.toLowerCase().match(I)||[];if(v(a))for(;i=o[l++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(a)):(t[i]=t[i]||[]).push(a)}}function Oe(t,e,a,i){var l={},o=t===Pe;function n(s){var r;return l[s]=!0,C.each(t[s]||[],function(t,s){var c=s(e,a,i);return"string"!=typeof c||o||l[c]?o?!(r=c):void 0:(e.dataTypes.unshift(c),n(c),!1)}),r}return n(e.dataTypes[0])||!l["*"]&&n("*")}function Re(t,e){var a,i,l=C.ajaxSettings.flatOptions||{};for(a in e)void 0!==e[a]&&((l[a]?t:i||(i={}))[a]=e[a]);return i&&C.extend(!0,t,i),t}Ve.href=xe.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Re(Re(t,C.ajaxSettings),e):Re(C.ajaxSettings,t)},ajaxPrefilter:Ee(Ne),ajaxTransport:Ee(Pe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,l,o,n,s,r,c,d,u,p,h=C.ajaxSetup({},e),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?C(m):C.event,f=C.Deferred(),v=C.Callbacks("once memory"),b=h.statusCode||{},_={},x={},w="canceled",D={readyState:0,getResponseHeader:function(t){var e;if(c){if(!n)for(n={};e=ze.exec(o);)n[e[1].toLowerCase()+" "]=(n[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=n[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)D.always(t[D.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),k(0,e),this}};if(f.promise(D),h.url=((t||h.url||xe.href)+"").replace(Ge,xe.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(I)||[""],null==h.crossDomain){r=y.createElement("a");try{r.href=h.url,r.href=r.href,h.crossDomain=Ve.protocol+"//"+Ve.host!=r.protocol+"//"+r.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=C.param(h.data,h.traditional)),Oe(Ne,h,e,D),c)return D;for(u in(d=C.event&&h.global)&&0==C.active++&&C.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ae.test(h.type),l=h.url.replace(Me,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Te,"+")):(p=h.url.slice(l.length),h.data&&(h.processData||"string"==typeof h.data)&&(l+=(Ce.test(l)?"&":"?")+h.data,delete h.data),!1===h.cache&&(l=l.replace(Le,"$1"),p=(Ce.test(l)?"&":"?")+"_="+we.guid+++p),h.url=l+p),h.ifModified&&(C.lastModified[l]&&D.setRequestHeader("If-Modified-Since",C.lastModified[l]),C.etag[l]&&D.setRequestHeader("If-None-Match",C.etag[l])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&D.setRequestHeader("Content-Type",h.contentType),D.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ie+"; q=0.01":""):h.accepts["*"]),h.headers)D.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(m,D,h)||c))return D.abort();if(w="abort",v.add(h.complete),D.done(h.success),D.fail(h.error),i=Oe(Pe,h,e,D)){if(D.readyState=1,d&&g.trigger("ajaxSend",[D,h]),c)return D;h.async&&h.timeout>0&&(s=a.setTimeout(function(){D.abort("timeout")},h.timeout));try{c=!1,i.send(_,k)}catch(t){if(c)throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,e,n,r){var u,p,y,_,x,w=e;c||(c=!0,s&&a.clearTimeout(s),i=void 0,o=r||"",D.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&(_=function(t,e,a){for(var i,l,o,n,s=t.contents,r=t.dataTypes;"*"===r[0];)r.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(l in s)if(s[l]&&s[l].test(i)){r.unshift(l);break}if(r[0]in a)o=r[0];else{for(l in a){if(!r[0]||t.converters[l+" "+r[0]]){o=l;break}n||(n=l)}o=o||n}if(o)return o!==r[0]&&r.unshift(o),a[o]}(h,D,n)),!u&&C.inArray("script",h.dataTypes)>-1&&C.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),_=function(t,e,a,i){var l,o,n,s,r,c={},d=t.dataTypes.slice();if(d[1])for(n in t.converters)c[n.toLowerCase()]=t.converters[n];for(o=d.shift();o;)if(t.responseFields[o]&&(a[t.responseFields[o]]=e),!r&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),r=o,o=d.shift())if("*"===o)o=r;else if("*"!==r&&r!==o){if(!(n=c[r+" "+o]||c["* "+o]))for(l in c)if((s=l.split(" "))[1]===o&&(n=c[r+" "+s[0]]||c["* "+s[0]])){!0===n?n=c[l]:!0!==c[l]&&(o=s[0],d.unshift(s[1]));break}if(!0!==n)if(n&&t.throws)e=n(e);else try{e=n(e)}catch(t){return{state:"parsererror",error:n?t:"No conversion from "+r+" to "+o}}}return{state:"success",data:e}}(h,_,D,u),u?(h.ifModified&&((x=D.getResponseHeader("Last-Modified"))&&(C.lastModified[l]=x),(x=D.getResponseHeader("etag"))&&(C.etag[l]=x)),204===t||"HEAD"===h.type?w="nocontent":304===t?w="notmodified":(w=_.state,p=_.data,u=!(y=_.error))):(y=w,!t&&w||(w="error",t<0&&(t=0))),D.status=t,D.statusText=(e||w)+"",u?f.resolveWith(m,[p,w,D]):f.rejectWith(m,[D,w,y]),D.statusCode(b),b=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[D,h,u?p:y]),v.fireWith(m,[D,w]),d&&(g.trigger("ajaxComplete",[D,h]),--C.active||C.event.trigger("ajaxStop")))}return D},getJSON:function(t,e,a){return C.get(t,e,a,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,e){C[e]=function(t,a,i,l){return v(a)&&(l=l||i,i=a,a=void 0),C.ajax(C.extend({url:t,type:e,dataType:l,data:a,success:i},C.isPlainObject(t)&&t))}}),C.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),C._evalUrl=function(t,e,a){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){C.globalEval(t,e,a)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return v(t)?this.each(function(e){C(this).wrapInner(t.call(this,e))}):this.each(function(){var e=C(this),a=e.contents();a.length?a.wrapAll(t):e.append(t)})},wrap:function(t){var e=v(t);return this.each(function(a){C(this).wrapAll(e?t.call(this,a):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},We=C.ajaxSettings.xhr();f.cors=!!We&&"withCredentials"in We,f.ajax=We=!!We,C.ajaxTransport(function(t){var e,i;if(f.cors||We&&!t.crossDomain)return{send:function(l,o){var n,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(n in t.xhrFields)s[n]=t.xhrFields[n];for(n in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||l["X-Requested-With"]||(l["X-Requested-With"]="XMLHttpRequest"),l)s.setRequestHeader(n,l[n]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(je[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&a.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),C.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(t){var e,a;if(t.crossDomain||t.scriptAttrs)return{send:function(i,l){e=C("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",a=function(t){e.remove(),a=null,t&&l("error"===t.type?404:200,t.type)}),y.head.appendChild(e[0])},abort:function(){a&&a()}}});var Be,He=[],Ue=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=He.pop()||C.expando+"_"+we.guid++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,i){var l,o,n,s=!1!==t.jsonp&&(Ue.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ue.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return l=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ue,"$1"+l):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+l),t.converters["script json"]=function(){return n||C.error(l+" was not called"),n[0]},t.dataTypes[0]="json",o=a[l],a[l]=function(){n=arguments},i.always(function(){void 0===o?C(a).removeProp(l):a[l]=o,t[l]&&(t.jsonpCallback=e.jsonpCallback,He.push(l)),n&&v(o)&&o(n[0]),n=o=void 0}),"script"}),f.createHTMLDocument=((Be=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Be.childNodes.length),C.parseHTML=function(t,e,a){return"string"!=typeof t?[]:("boolean"==typeof e&&(a=e,e=!1),e||(f.createHTMLDocument?((i=(e=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,e.head.appendChild(i)):e=y),l=M.exec(t),o=!a&&[],l?[e.createElement(l[1])]:(l=wt([t],e,o),o&&o.length&&C(o).remove(),C.merge([],l.childNodes)));var i,l,o},C.fn.load=function(t,e,a){var i,l,o,n=this,s=t.indexOf(" ");return s>-1&&(i=ge(t.slice(s)),t=t.slice(0,s)),v(e)?(a=e,e=void 0):e&&"object"==typeof e&&(l="POST"),n.length>0&&C.ajax({url:t,type:l||"GET",dataType:"html",data:e}).done(function(t){o=arguments,n.html(i?C("<div>").append(C.parseHTML(t)).find(i):t)}).always(a&&function(t,e){n.each(function(){a.apply(this,o||[t.responseText,e,t])})}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(t,e,a){var i,l,o,n,s,r,c=C.css(t,"position"),d=C(t),u={};"static"===c&&(t.style.position="relative"),s=d.offset(),o=C.css(t,"top"),r=C.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+r).indexOf("auto")>-1?(n=(i=d.position()).top,l=i.left):(n=parseFloat(o)||0,l=parseFloat(r)||0),v(e)&&(e=e.call(t,a,C.extend({},s))),null!=e.top&&(u.top=e.top-s.top+n),null!=e.left&&(u.left=e.left-s.left+l),"using"in e?e.using.call(t,u):d.css(u)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,a,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),a=i.ownerDocument.defaultView,{top:e.top+a.pageYOffset,left:e.left+a.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,a,i=this[0],l={top:0,left:0};if("fixed"===C.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),a=i.ownerDocument,t=i.offsetParent||a.documentElement;t&&(t===a.body||t===a.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((l=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),l.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-l.top-C.css(i,"marginTop",!0),left:e.left-l.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||ot})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var a="pageYOffset"===e;C.fn[t]=function(i){return B(this,function(t,i,l){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===l)return o?o[e]:t[i];o?o.scrollTo(a?o.pageXOffset:l,a?l:o.pageYOffset):t[i]=l},t,i,arguments.length)}}),C.each(["top","left"],function(t,e){C.cssHooks[e]=Wt(f.pixelPosition,function(t,a){if(a)return a=jt(t,e),Vt.test(a)?C(t).position()[e]+"px":a})}),C.each({Height:"height",Width:"width"},function(t,e){C.each({padding:"inner"+t,content:e,"":"outer"+t},function(a,i){C.fn[i]=function(l,o){var n=arguments.length&&(a||"boolean"!=typeof l),s=a||(!0===l||!0===o?"margin":"border");return B(this,function(e,a,l){var o;return b(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===l?C.css(e,a,s):C.style(e,a,l,s)},e,n?l:void 0,n)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C.fn.extend({bind:function(t,e,a){return this.on(t,null,e,a)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,a,i){return this.on(e,t,a,i)},undelegate:function(t,e,a){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",a)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){C.fn[e]=function(t,a){return arguments.length>0?this.on(e,null,t,a):this.trigger(e)}});var qe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(t,e){var a,i,l;if("string"==typeof e&&(a=t[e],e=t,t=a),v(t))return i=s.call(arguments,2),(l=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||C.guid++,l},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=T,C.isFunction=v,C.isWindow=b,C.camelCase=Y,C.type=w,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?"":(t+"").replace(qe,"")},void 0===(i=function(){return C}.apply(e,[]))||(t.exports=i);var Ye=a.jQuery,Xe=a.$;return C.noConflict=function(t){return a.$===C&&(a.$=Xe),t&&a.jQuery===C&&(a.jQuery=Ye),C},void 0===l&&(a.jQuery=a.$=C),C})},"880/":function(t,e,a){t.exports=a("hJx8")},"94VQ":function(t,e,a){"use strict";var i=a("Yobk"),l=a("X8DO"),o=a("e6n0"),n={};a("hJx8")(n,a("dSzd")("iterator"),function(){return this}),t.exports=function(t,e,a){t.prototype=i(n,{next:l(1,a)}),o(t,e+" Iterator")}},"9Bbf":function(t,e,a){"use strict";var i=a("kM2E");t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},"9C8M":function(t,e,a){"use strict";var i=a("evD5").f,l=a("Yobk"),o=a("xH/j"),n=a("+ZMJ"),s=a("2KxR"),r=a("NWt+"),c=a("vIB/"),d=a("EGZi"),u=a("bRrM"),p=a("+E39"),h=a("06OY").fastKey,m=a("LIJb"),g=p?"_s":"size",f=function(t,e){var a,i=h(e);if("F"!==i)return t._i[i];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,c){var d=t(function(t,i){s(t,d,e,"_i"),t._t=e,t._i=l(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=i&&r(i,a,t[c],t)});return o(d.prototype,{clear:function(){for(var t=m(this,e),a=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete a[i.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var a=m(this,e),i=f(a,t);if(i){var l=i.n,o=i.p;delete a._i[i.i],i.r=!0,o&&(o.n=l),l&&(l.p=o),a._f==i&&(a._f=l),a._l==i&&(a._l=o),a[g]--}return!!i},forEach:function(t){m(this,e);for(var a,i=n(t,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(i(a.v,a.k,this);a&&a.r;)a=a.p},has:function(t){return!!f(m(this,e),t)}}),p&&i(d.prototype,"size",{get:function(){return m(this,e)[g]}}),d},def:function(t,e,a){var i,l,o=f(t,e);return o?o.v=a:(t._l=o={i:l=h(e,!0),k:e,v:a,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[g]++,"F"!==l&&(t._i[l]=o)),t},getEntry:f,setStrong:function(t,e,a){c(t,e,function(t,a){this._t=m(t,e),this._k=a,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?d(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,d(1))},a?"entries":"values",!a,!0),u(e)}}},"9bBU":function(t,e,a){a("mClu");var i=a("FeBl").Object;t.exports=function(t,e,a){return i.defineProperty(t,e,a)}},ALrJ:function(t,e,a){var i=a("+ZMJ"),l=a("MU5D"),o=a("sB3e"),n=a("QRG4"),s=a("oeOm");t.exports=function(t,e){var a=1==t,r=2==t,c=3==t,d=4==t,u=6==t,p=5==t||u,h=e||s;return function(e,s,m){for(var g,f,v=o(e),b=l(v),y=i(s,m,3),_=n(b.length),x=0,w=a?h(e,_):r?h(e,0):void 0;_>x;x++)if((p||x in b)&&(f=y(g=b[x],x,v),t))if(a)w[x]=f;else if(f)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:w.push(g)}else if(d)return!1;return u?-1:c||d?d:w}}},AXLI:function(t,e){},B0lN:function(t,e){},BAgA:function(t,e){},BDhv:function(t,e,a){var i=a("kM2E");i(i.P+i.R,"Set",{toJSON:a("m9gC")("Set")})},Bbvv:function(t,e,a){"use strict";var i=a("/sA3"),l=a("xrTZ"),o=(a.n(l),a("ZpFI")),n=a("emL9"),s=a("gZfX");const r={axios:a("mtWM"),Base64:l.Base64,db:n.a.state.db,name:"aaa",treeData:o.a.treeWorkSpace,mapconfig:o.a,executeAlgorithmCommon:null,executeAlgorithm:null,executeAlgorithm2:null,executeAlgorithm3:null,executeAlgorithm4:null,executeAlgorithm5:null,executeAlgorithmOnServer:null,executeAlgorithmOnServer2:null,text2grd:null,objNames:{},newResultName:null};r.executeAlgorithm=function(t,e,a,l){var o=this;setTimeout(function(){s.a.state.percent=40},1e3);var n=" ";n+=e+t.grdData.type+"\n"+t.grdData.xcount+"\n"+t.grdData.ycount+"\n"+t.grdData.xmin+"\n"+t.grdData.xmax+"\n"+t.grdData.ymin+"\n"+t.grdData.ymax+"\n"+t.grdData.zmin+"\n"+t.grdData.zmax+"\n";for(let e=0;e<t.grdData.z.length;e++)for(let a=0;a<t.grdData.z[e].length;a++)"NaN"==t.grdData.z[e][a]?n+="1.70141E38\n":n+=t.grdData.z[e][a]+"\n";let r="http://"+o.mapconfig.algorithmUrl+":"+o.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890";var c={};c.fun=a,c.par=n,this.axios({method:"post",url:r,data:JSON.stringify(c),dataType:"text",contentType:"application/json"}).then(function(e){var a={},l=[];o.text2grd(e,a,l);t.displayName;var n=i.a.newGuid();o.name=o.newResultName(o.name),o.db.addData({guid:n,data:l,grdData:a,displayName:o.name,datatype:"grd",isExecuted:!0},function(){o.treeData[0].children[1].children.push({label:o.name,datatype:"grd",guid:n}),s.a.state.percent=100,setTimeout(function(){s.a.state.progressVisible=!1},2e3)})}).catch(function(t){"function"==typeof l&&l()})},r.executeAlgorithm2=function(t,e,a,l){var o=this;setTimeout(function(){s.a.state.percent=40},1e3);var n=" ";n+=e+t.grdData.type+"\n"+t.grdData.xcount+","+t.grdData.ycount+"\n"+t.grdData.xmin+","+t.grdData.xmax+"\n"+t.grdData.ymin+","+t.grdData.ymax+"\n"+t.grdData.zmin+","+t.grdData.zmax+"\n";for(let e=0;e<t.grdData.z.length;e++)for(let a=0;a<t.grdData.z[e].length;a++)"NaN"==t.grdData.z[e][a]?n+="1.70141E38\n":n+=t.grdData.z[e][a]+"\n";let r="http://"+o.mapconfig.algorithmUrl+":"+o.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890";var c={};c.fun=a,c.par=n,this.axios({method:"post",url:r,data:JSON.stringify(c),dataType:"text",contentType:"application/json"}).then(function(t){var e={},a=[];o.text2grd(t,e,a);var l=i.a.newGuid();o.name=o.newResultName(o.name),o.db.addData({guid:l,data:a,grdData:e,displayName:o.name,datatype:"grd",isExecuted:!0},function(){o.treeData[0].children[1].children.push({label:o.name,datatype:"grd",guid:l}),s.a.state.percent=100,setTimeout(function(){s.a.state.progressVisible=!1},2e3)})}).catch(function(t){"function"==typeof l&&l()})},r.executeAlgorithm3=function(t,e,a,l,o){var n=this;setTimeout(function(){s.a.state.percent=40},1e3);var r=" ";r+=a+t.grdData.type+"\n"+t.grdData.xcount+","+t.grdData.ycount+"\n"+t.grdData.xmin+","+t.grdData.xmax+"\n"+t.grdData.ymin+","+t.grdData.ymax+"\n"+t.grdData.zmin+","+t.grdData.zmax+"\n";for(let e=0;e<t.grdData.z.length;e++)for(let a=0;a<t.grdData.z[e].length;a++)"NaN"==t.grdData.z[e][a]?r+="1.70141E38\n":r+=t.grdData.z[e][a]+"\n";r+=e.grdData.type+"\n"+e.grdData.xcount+","+e.grdData.ycount+"\n"+e.grdData.xmin+","+e.grdData.xmax+"\n"+e.grdData.ymin+","+e.grdData.ymax+"\n"+e.grdData.zmin+","+e.grdData.zmax+"\n";for(let t=0;t<e.grdData.z.length;t++)for(let a=0;a<e.grdData.z[t].length;a++)r+=e.grdData.z[t][a]+"\n";let c="http://"+n.mapconfig.algorithmUrl+":"+n.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890";var d={};d.fun=l,d.par=r,this.axios({method:"post",url:c,data:JSON.stringify(d),dataType:"text",contentType:"application/json"}).then(function(e){var a={},l=[];n.text2grd(e,a,l);t.displayName;var o=i.a.newGuid();n.name=n.newResultName(n.name),n.db.addData({guid:o,data:l,grdData:a,displayName:n.name,datatype:"grd",isExecuted:!0},function(){n.treeData[0].children[1].children.push({label:n.name,datatype:"grd",guid:o}),s.a.state.percent=100,setTimeout(function(){s.a.state.progressVisible=!1},2e3)})}).catch(function(t){"function"==typeof o&&o()})},r.executeAlgorithm4=function(t,e,a,l,o,n){var r=this;setTimeout(function(){s.a.state.percent=40},1e3);var c="";c+=l+t.grdData.type+"\n"+t.grdData.xcount+","+t.grdData.ycount+"\n"+t.grdData.xmin+","+t.grdData.xmax+"\n"+t.grdData.ymin+","+t.grdData.ymax+"\n"+t.grdData.zmin+","+t.grdData.zmax+"\n";for(let e=0;e<t.grdData.z.length;e++)for(let a=0;a<t.grdData.z[e].length;a++)"NaN"==t.grdData.z[e][a]?c+="1.70141E38\n":c+=t.grdData.z[e][a]+"\n";c+=e.grdData.type+"\n"+e.grdData.xcount+","+e.grdData.ycount+"\n"+e.grdData.xmin+","+e.grdData.xmax+"\n"+e.grdData.ymin+","+e.grdData.ymax+"\n"+e.grdData.zmin+","+e.grdData.zmax+"\n";for(let t=0;t<e.grdData.z.length;t++)for(let a=0;a<e.grdData.z[t].length;a++)c+=e.grdData.z[t][a]+"\n";for(let t=0;t<a.length;t++)c+=a[t][0]+" "+a[t][1]+" "+a[t][2]+"\n";let d="http://"+r.mapconfig.algorithmUrl+":"+r.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890";var u={};u.fun=o,u.par=c,r.axios({method:"post",url:d,data:JSON.stringify(u),dataType:"text",contentType:"application/json"}).then(function(e){var a={},l=[];r.text2grd(e,a,l);t.displayName;var o=i.a.newGuid();r.name=r.newResultName(r.name),r.db.addData({guid:o,data:l,grdData:a,displayName:r.name,datatype:"grd",isExecuted:!0},function(){r.treeData[0].children[1].children.push({label:r.name,datatype:"grd",guid:o}),s.a.state.percent=100,setTimeout(function(){s.a.state.progressVisible=!1},2e3)}),n("success")}).catch(function(t){"function"==typeof n&&n("error")})},r.executeAlgorithm5=function(t,e,a){var l=this;let o="http://"+l.mapconfig.algorithmUrl+":"+l.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890";var n={};n.fun=e,n.par=t,this.axios({method:"post",url:o,data:JSON.stringify(n),dataType:"text",contentType:"application/json"}).then(function(t){let e,a=[],o=[];var n={},r=[];e=t.data.data;for(let t=0;t<e.length;t++){a[t]=t,o[t]=e[t];var c={x:t,y:e[t]};r.push(c)}var d=i.a.newGuid();s.a.state.percent=80,n.x=a,n.y=o,l.name=l.newResultName(l.name),l.db.addData({guid:d,data:r,grdData:n,displayName:l.name,datatype:"grd",isExecuted:!0},function(){l.treeData[0].children[1].children.push({label:l.name,datatype:"grd",guid:d}),s.a.state.percent=100,setTimeout(function(){s.a.state.progressVisible=!1},2e3)})}).catch(function(t){"function"==typeof a&&a()})},r.executeAlgorithm6=function(t,e,a,l){var o="";for(let e=0;e<t.data.length;e++)o+=t.data[e]+"\n";var n=this;let r="http://"+n.mapconfig.algorithmUrl+":"+n.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890";var c={};c.fun=e,c.par=o,this.axios({method:"post",url:r,data:JSON.stringify(c),dataType:"text",contentType:"application/json"}).then(function(e){var l={},o=[];if(""==e.data.res)return;var r=n.Base64.decode(e.data.res),c=(new Array,new Array);(c=r.replace(/\r|\n|\"/," ").split(/\s+/)).splice(0,1),c.pop();let d=0,u=[],p=[],h=[];for(let t=0;t<c.length;t++)if(t%2==0){u.push(c[t]);let e=a.column_D;h.push(a.data[d][e]),o[d][a.column_E]=c[t+1],d++}else p.push(c[t]);s.a.state.percent=80,l.x=u,l.y=p,l.y2=h;let m=i.a.newGuid();n.name=n.newResultName(n.name),n.db.addData({guid:m,data:o,grdData:l,displayName:n.name,datatype:"xls",isExecuted:!0,isView:!0,flag:t.flag},function(){n.treeData[0].children[0].children.push({label:n.name,datatype:"xls",guid:m,isView:!0,Data:o,flag:t.flag}),s.a.state.percent=100,setTimeout(function(){s.a.state.progressVisible=!1},2e3)})}).catch(function(t){l("error",t),setTimeout(function(){s.a.state.progressVisible=!1},2e3)})},r.executeAlgorithm7=function(t,e,a,l,o,n){var r=this;setTimeout(function(){s.a.state.percent=40},1e3);var c=e;for(let e=0;e<t.data.length;e++)c+=t.data[e][a]+" "+t.data[e][l]+"\n";let d="http://"+r.mapconfig.algorithmUrl+":"+r.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890";var u={};u.fun=o,u.par=c,this.axios({method:"post",url:d,data:JSON.stringify(u),dataType:"text",contentType:"application/json"}).then(function(t){var e={},a=[];r.text2grd(t,e,a);var l=i.a.newGuid();r.name=r.newResultName(r.name),r.db.addData({guid:l,data:a,grdData:e,displayName:r.name,datatype:"grd",isExecuted:!0},function(){r.treeData[0].children[1].children.push({label:r.name,datatype:"grd",guid:l}),s.a.state.percent=100,setTimeout(function(){s.a.state.progressVisible=!1},2e3)})}).catch(function(t){"function"==typeof n&&n()})},r.executeAlgorithmCommon=function(t,e,a,l){var o=this,n={};n.fun=t,n.par=e;let r="http://"+o.mapconfig.algorithmUrl+":"+o.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890";this.axios({method:"post",url:r,data:JSON.stringify(n),dataType:"text",contentType:"application/json"}).then(function(t){var e={},a=[];if(""!=t.data.res){o.text2grd(t,e,a);var l=i.a.newGuid();o.db.addData({guid:l,data:a,grdData:e,displayName:o.name,datatype:"grd",isExecuted:!0},function(){o.treeData[0].children[1].children.push({label:o.name,datatype:"grd",guid:l}),s.a.state.percent=100,setTimeout(function(){s.a.state.progressVisible=!1},2e3)})}}).catch(function(t){"function"==typeof l&&l()})},r.text2grd=function(t,e,a){var i,l,o,n,s,r,c,d,u=this.Base64.decode(t.data.res),p=new Array,h=new Array,m=new Array,g=new Array;(g=u.replace(/\r|\n/," ").split(/\s+/))[0],i=parseInt(g[1]),l=parseInt(g[2]),o=parseFloat(g[3]),n=parseFloat(g[4]),s=parseFloat(g[5]),r=parseFloat(g[6]),c=parseFloat(g[7]),d=parseFloat(g[8]);for(var f=(n-o)/(i-1),v=0;v<i;v++)p[v]=o+v*f;var b=(r-s)/(l-1);for(v=0;v<l;v++)h[v]=s+v*b;for(v=0;v<l;v++){m[v]=new Array;for(var y=0;y<i;y++){parseFloat(g[v*i+y+0+9])>=1.70141e38?m[v][y]=NaN:m[v][y]=parseFloat(g[v*i+y+0+9]);var _={x:p[y],y:h[v],z:m[v][y]};a.push(_)}}e.type="DSAA",e.nx=i,e.ny=l,e.xcount=i,e.ycount=l,e.xmin=o,e.xmax=n,e.ymin=s,e.ymax=r,e.zmin=c,e.zmax=d,e.dx=f,e.dy=b,e.x=p,e.y=h,e.z=m},r.executeAlgorithmOnServer=function(t,e,a){var l=this;setTimeout(function(){s.a.state.percent=40},1e3),this.axios({method:"post",url:WebConfig.ServicesUrl+"/Algorithm",data:t,dataType:"json",contentType:"application/json;"}).then(function(t){if("ERROR"===t.data.status)a("error",t.data.message);else{let d,u,p,h,m,g,f,v,b=[],y=[],_=[];d=(v=t.data.data)[0],u=parseInt(v[1]),p=parseInt(v[2]),h=parseFloat(v[3]),m=parseFloat(v[4]),g=parseFloat(v[5]),f=parseFloat(v[6]);var o={};o.type=v[0],o.xmin=parseFloat(v[3]),o.zmin=parseFloat(v[7]),o.ymin=parseFloat(v[5]),o.xmax=parseFloat(v[4]),o.ymax=parseFloat(v[6]),o.zmax=parseFloat(v[8]),o.xcount=parseInt(v[1]),o.ycount=parseInt(v[2]);var n=[];let x=(m-h)/(u-1);for(let t=0;t<u;t++)b[t]=h+t*x;let w=(f-g)/(p-1);for(let t=0;t<p;t++)y[t]=g+t*w;for(let t=0;t<p;t++){_[t]=[];for(let e=0;e<u;e++){const a=parseFloat(v[t*u+e+9]);_[t][e]=a>=1.70141e38?"NaN":a;var r={x:b[e],y:y[t],z:_[t][e]};n.push(r)}}setTimeout(function(){s.a.state.percent=80},2e3),o.x=b,o.y=y,o.z=_;var c=i.a.newGuid();l.name=l.newResultName(l.name),l.db.addData({guid:c,data:n,grdData:o,displayName:l.name,datatype:"grd",isExecuted:!0,spatialReference:e},function(){l.treeData[0].children[1].children.push({label:l.name,datatype:"grd",guid:c}),setTimeout(function(){s.a.state.percent=100},3e3),setTimeout(function(){s.a.state.progressVisible=!1},3500),a("success")})}}).catch(function(t){a("error",t),setTimeout(function(){s.a.state.progressVisible=!1},2e3)})},r.executeAlgorithmOnServer2=function(t,e,a,l){var o=this;setTimeout(function(){s.a.state.percent=40},1e3),this.axios({method:"post",url:WebConfig.ServicesUrl+"/Algorithm",data:t,dataType:"json",contentType:"application/json;"}).then(function(n){let r,c=0,d=[],u=[],p=[];r=n.data.data;let h={},m=[];m=a.data;for(let t=0;t<r.length;t++)if(t%2==0){d.push(r[t]);let e=a.column_D;p.push(a.data[c][e]),m[c][a.column_E]=r[t+1],c++}else u.push(r[t]);setTimeout(function(){s.a.state.percent=80},1500),h.x=d,h.y=u,h.y2=p;let g=i.a.newGuid();o.db.addData({guid:g,data:m,grdData:h,displayName:o.name,datatype:"xls",isExecuted:!0,spatialReference:e,isView:!0,flag:t.flag},function(){o.treeData[0].children[0].children.push({label:o.name,datatype:"xls",guid:g,isView:!0,Data:m,flag:t.flag}),setTimeout(function(){s.a.state.percent=100},2e3),setTimeout(function(){s.a.state.progressVisible=!1},2500),l("success")})}).catch(function(t){l("error",t),setTimeout(function(){s.a.state.progressVisible=!1},2e3)})},r.newResultName=function(t){var e=!1;for(var a in this.objNames)if(a==t){e=!0;var i=this.objNames[t].length;return this.objNames[t].push(t),t.substring(0,t.length-4)+"_"+i+t.substring(t.length-4)}if(!e)return this.objNames[t]=[],this.objNames[t].push(t),t},e.a=r},Bhwq:function(t,e,a){var i,l,o,n;n=function(t,e){var a=function(t){"undefined"!=typeof console&&console&&console.error&&console.error(t)};e?e.registerMap?e.registerMap("china",{type:"FeatureCollection",features:[{type:"Feature",id:"710000",properties:{id:"710000",cp:[121.509062,24.044332],name:"台湾",childNum:6},geometry:{type:"MultiPolygon",coordinates:[["@@°Ü¯Û"],["@@ƛĴÕƊÉɼģºðʀ\\ƎsÆNŌÔĚänÜƤɊĂǀĆĴĤǊŨxĚĮǂƺòƌâÔ®ĮXŦţƸZûÐƕƑGđ¨ĭMó·ęcëƝɉlÝƯֹÅŃ^Ó·śŃǋƏďíåɛGɉ¿@ăƑ¥ĘWǬÏĶŁâ"],["@@\\p|WoYG¿¥Ij@¢"],["@@¡@V^RqBbAnTXeRz¤L«³I"],["@@ÆEEkWqë @"],["@@fced"],["@@¯ɜÄèaì¯ØǓIġĽ"],["@@çûĖëĄhòř "]],encodeOffsets:[[[122886,24033]],[[123335,22980]],[[122375,24193]],[[122518,24117]],[[124427,22618]],[[124862,26043]],[[126259,26318]],[[127671,26683]]]}},{type:"Feature",id:"130000",properties:{id:"130000",cp:[114.502461,38.045474],name:"河北",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@o~Z]ªrºc_ħ²G¼s`jÎŸnüsÂłNX_M`Ç½ÓnUKĜēs¤­©yrý§uģcJe"],["@@U`Ts¿mÂ"],["@@oºƋÄdeVDJj£J|ÅdzÂFt~KŨ¸IÆv|¢r}èonb}`RÎÄn°ÒdÞ²^®lnÐèĄlðÓ×]ªÆ}LiĂ±Ö`^°Ç¶p®đDcŋ`ZÔ¶êqvFÆN®ĆTH®¦O¾IbÐã´BĐɢŴÆíȦpĐÞXR·nndO¤OÀĈƒ­QgµFo|gȒęSWb©osx|hYhgŃfmÖĩnºTÌSp¢dYĤ¶UĈjlǐpäìë|³kÛfw²Xjz~ÂqbTÑěŨ@|oMzv¢ZrÃVw¬ŧĖ¸f°ÐTªqs{S¯r æÝlNd®²Ğ ǆiGĘJ¼lr}~K¨ŸƐÌWöÆzR¤lêmĞLÎ@¡|q]SvKÑcwpÏÏĿćènĪWlĄkT}J¤~ÈTdpddʾĬBVtEÀ¢ôPĎƗè@~kü\\rÊĔÖæW_§¼F´©òDòjYÈrbĞāøŀG{ƀ|¦ðrb|ÀH`pʞkvGpuARhÞÆǶgĘTǼƹS£¨¡ù³ŘÍ]¿ÂyôEP xX¶¹ÜO¡gÚ¡IwÃé¦ÅBÏ|Ç°N«úmH¯âDùyŜŲIÄuĐ¨D¸dɂFOhđ©OiÃ`ww^ÌkÑH«ƇǤŗĺtFu{Z}Ö@U´ʚLg®¯Oı°Ãw ^VbÉsmAê]]w§RRl£ȭµu¯b{ÍDěïÿȧuT£ġěŗƃĝQ¨fVƋƅn­a@³@ďyÃ½IĹÊKŭfċŰóxV@tƯJ]eR¾fe|rHA|h~Ėƍl§ÏlTíb ØoÅbbx³^zÃĶ¶Sj®AyÂhðk`«PËµEFÛ¬Y¨Ļrõqi¼Wi°§Ð±´°^[À|ĠO@ÆxO\\ta\\tĕtû{ġȧXýĪÓjùÎRb^ÎfK[ÝděYfíÙTyuUSyŌŏů@Oi½éŅ­aVcř§ax¹XŻácWU£ôãºQ¨÷Ñws¥qEHÙ|šYQoŕÇyáĂ£MÃ°oťÊP¡mWO¡v{ôvîēÜISpÌhp¨ jdeŔQÖjX³àĈ[n`Yp@UcM`RKhEbpŞlNut®EtqnsÁgAiúoHqCXhfgu~ÏWP½¢G^}¯ÅīGCÑ^ãziMáļMTÃƘrMc|O_¯Ŏ´|morDkO\\mĆJfl@cĢ¬¢aĦtRıÒ¾ùƀ^juųœK­UFyƝīÛ÷ąV×qƥV¿aȉd³BqPBmaËđŻģmÅ®V¹d^KKonYg¯XhqaLdu¥Ípǅ¡KąÅkĝęěhq}HyÃ]¹ǧ£Í÷¿qáµ§g¤o^á¾ZE¤i`ĳ{nOl»WÝĔįhgF[¿¡ßkOüš_ūiǱàUtėGyl}ÓM}jpEC~¡FtoQiHkk{Ãmï"]],encodeOffsets:[[[119712,40641]],[[121616,39981]],[[116462,37237]]]}},{type:"Feature",id:"140000",properties:{id:"140000",cp:[111.849248,36.857014],name:"山西",childNum:1},geometry:{type:"Polygon",coordinates:["@@ÞĩÒSra}ÁyWix±Üe´lèßÓǏokćiµVZģ¡coTSË¹ĪmnÕńehZg{gtwªpXaĚThȑp{¶Eh®RćƑP¿£Pmc¸mQÝWďȥoÅîɡųAďä³aÏJ½¥PG­ąSM­EÅruµéYÓŌ_dĒCo­Èµ]¯_²ÕjāK~©ÅØ^ÔkïçămÏk]­±cÝ¯ÑÃmQÍ~_apm~ç¡qu{JÅŧ·Ls}EyÁÆcI{¤IiCfUcƌÃp§]ě«vD@¡SÀµMÅwuYY¡DbÑc¡h×]nkoQdaMç~eDÛtT©±@¥ù@É¡ZcW|WqOJmĩl«ħşvOÓ«IqăV¥D[mI~Ó¢cehiÍ]Ɠ~ĥqX·eƷn±}v[ěďŕ]_œ`¹§ÕōIo©b­s^}Ét±ū«³p£ÿ·Wµ|¡¥ăFÏs×¥ŅxÊdÒ{ºvĴÎêÌɊ²¶ü¨|ÞƸµȲLLúÉƎ¤ϊęĔV`_bªS^|dzY|dz¥pZbÆ£¶ÒK}tĦÔņƠPYznÍvX¶Ěn ĠÔzý¦ª÷ÑĸÙUȌ¸dòÜJð´ìúNM¬XZ´¤ŊǸ_tldI{¦ƀðĠȤ¥NehXnYGR° ƬDj¬¸|CĞKqºfƐiĺ©ª~ĆOQª ¤@ìǦɌ²æBÊTŸʂōĖĴŞȀÆÿȄlŤĒötÎ½î¼ĨXh|ªM¤Ðz"],encodeOffsets:[[116874,41716]]}},{type:"Feature",id:"150000",properties:{id:"150000",cp:[111.670801,41.818311],name:"内蒙古",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@¯PqFB|S³C|kñHdiÄ¥sŉÅPóÑÑE^ÅPpy_YtShQ·aHwsOnŉÃs©iqjUSiº]ïW«gW¡ARë¥_sgÁnUI«m]jvV¼euhwqAaW_µj»çjioQR¹ēÃßt@r³[ÛlćË^ÍÉáGOUÛOB±XkÅ¹£k|e]olkVÍ¼ÕqtaÏõjgÁ£§U^RLËnX°ÇBz^~wfvypV ¯ƫĉ˭ȫƗŷɿÿĿƑ˃ĝÿÃǃßËőó©ǐȍŒĖM×ÍEyxþp]ÉvïèvƀnÂĴÖ@V~Ĉv¦wĖtējyÄDXÄxGQuv_i¦aBçw˛wD©{tāmQ{EJ§KPśƘƿ¥@sCTÉ}ɃwƇy±gÑ}T[÷kÐç¦«SÒ¥¸ëBX½HáÅµÀğtSÝÂa[ƣ°¯¦Pï¡]£ġÒk®G²èQ°óMq}EóƐÇ\\@áügQÍu¥FTÕ¿Jû]|mvāÎYua^WoÀa·­ząÒot×¶CLƗi¯¤mƎHǊ¤îìɾŊìTdåwsRÖgĒųúÍġäÕ}Q¶¿A[¡{d×uQAMxVvMOmăl«ct[wº_ÇÊjbÂ£ĦS_éQZ_lwgOiýe`YYLq§IÁǳ£ÙË[ÕªuƏ³ÍTs·bÁĽäė[b[ŗfãcn¥îC¿÷µ[ŏÀQ­ōĉm¿Á^£mJVmL[{Ï_£F¥Ö{ŹA}×Wu©ÅaųĳƳhB{·TQqÙIķËZđ©Yc|M¡LeVUóK_QWk_ĥ¿ãZ»X\\ĴuUèlG®ěłTĠğDŃOrÍdÆÍz]±ŭ©Å]ÅÐ}UË¥©TċïxgckfWgi\\ÏĒ¥HkµEë{»ÏetcG±ahUiñiWsɁ·cCÕk]wȑ|ća}wVaĚá G°ùnM¬¯{ÈÐÆA¥ÄêJxÙ¢hP¢ÛºµwWOóFÁz^ÀŗÎú´§¢T¤ǻƺSėǵhÝÅQgvBHouʝl_o¿Ga{ïq{¥|ſĿHĂ÷aĝÇqZñiñC³ª»E`¨åXēÕqÉû[l}ç@čƘóO¿¡FUsAʽīccocÇS}£IS~ălkĩXçmĈŀÐoÐdxÒuL^T{r@¢ÍĝKén£kQyÅõËXŷƏL§~}kq»IHėǅjĝ»ÑÞoå°qTt|r©ÏS¯·eŨĕx«È[eM¿yupN~¹ÏyN£{©għWí»Í¾səšǅ_ÃĀɗ±ąĳĉʍŌŷSÉA±åǥɋ@ë£R©ąP©}ĹªƏj¹erLDĝ·{i«ƫC£µsKCGS|úþXgp{ÁX¿ć{ƱȏñZáĔyoÁhA}ŅĆfdŉ_¹Y°ėǩÑ¡H¯¶oMQqð¡Ë|Ñ`ƭŁX½·óÛxğįÅcQs«tȋǅFù^it«Č¯[hAi©á¥ÇĚ×l|¹y¯YȵƓñǙµïċĻ|Düȭ¶¡oŽäÕG\\ÄT¿Òõr¯LguÏYęRƩɷŌO\\İÐ¢æ^Ŋ ĲȶȆbÜGĝ¬¿ĚVĎgª^íu½jÿĕęjık@Ľ]ėl¥ËĭûÁėéV©±ćn©­ȇÍq¯½YÃÔŉÉNÑÅÝy¹NqáʅDǡËñ­ƁYÅy̱os§ȋµʽǘǏƬɱàưN¢ƔÊuľýľώȪƺɂļxZĈ}ÌŉŪĺœĭFЛĽ̅ȣͽÒŵìƩÇϋÿȮǡŏçƑůĕ~Ç¼ȳÐUfdIxÿ\\G zâɏÙOº·pqy£@qþ@Ǟ˽IBäƣzsÂZÁàĻdñ°ŕzéØűzșCìDȐĴĺf®Àľưø@ɜÖÞKĊŇƄ§͑těï͡VAġÑÑ»d³öǍÝXĉĕÖ{þĉu¸ËʅğU̎éhɹƆ̗̮ȘǊ֥ड़ࡰţાíϲäʮW¬®ҌeרūȠkɬɻ̼ãüfƠSצɩςåȈHϚÎKǳͲOðÏȆƘ¼CϚǚ࢚˼ФÔ¤ƌĞ̪Qʤ´¼mȠJˀƲÀɠmǐnǔĎȆÞǠN~ʢĜ¶ƌĆĘźʆȬ˪ĚĒ¸ĞGȖƴƀj`ĢçĶāàŃºēĢĖćYÀŎüôQÐÂŎŞǆŞêƖoˆDĤÕºÑǘÛˤ³̀gńƘĔÀ^ªƂ`ªt¾äƚêĦĀ¼ÐĔǎ¨Ȕ»͠^ˮÊȦƤøxRrŜH¤¸ÂxDÄ|ø˂˜ƮÐ¬ɚwɲFjĔ²Äw°ǆdÀÉ_ĸdîàŎjÊêTĞªŌŜWÈ|tqĢUB~´°ÎFCU¼pĀēƄN¦¾O¶łKĊOjĚj´ĜYp{¦SĚÍ\\T×ªV÷Ší¨ÅDK°ßtŇĔK¨ǵÂcḷ̌ĚǣȄĽFlġUĵŇȣFʉɁMğįʏƶɷØŭOǽ«ƽū¹Ʊő̝Ȩ§ȞʘĖiɜɶʦ}¨֪ࠜ̀ƇǬ¹ǨE˦ĥªÔêFxúQEr´Wrh¤Ɛ \\talĈDJÜ|[Pll̚¸ƎGú´P¬W¦^¦H]prRn|or¾wLVnÇIujkmon£cX^Bh`¥V¦U¤¸}xRj[^xN[~ªxQ[`ªHÆÂExx^wN¶Ê|¨ìMrdYpoRzNyÀDs~bcfÌ`L¾n|¾T°c¨È¢ar¤`[|òDŞĔöxElÖdHÀI`Ď\\Àì~ÆR¼tf¦^¢ķ¶eÐÚMptgjɡČÅyġLûŇV®ÄÈƀĎ°P|ªVVªj¬ĚÒêp¬E|ŬÂc|ÀtƐK f{ĘFĒƌXƲąo½Ę\\¥o}Ûu£ç­kX{uĩ«āíÓUŅßŢqŤ¥lyň[oi{¦LńðFȪȖĒL¿Ìf£K£ʺoqNwğc`uetOj×°KJ±qÆġmĚŗos¬qehqsuH{¸kH¡ÊRǪÇƌbȆ¢´äÜ¢NìÉʖ¦â©Ġu¦öČ^â£ĂhĖMÈÄw\\fŦ°W ¢¾luŸDw\\̀ʉÌÛMĀ[bÓEn}¶Vcês"]],encodeOffsets:[[[129102,52189]]]}},{type:"Feature",id:"210000",properties:{id:"210000",cp:[123.429096,41.796767],name:"辽宁",childNum:16},geometry:{type:"MultiPolygon",coordinates:[["@@L@@sa"],["@@MnNm"],["@@dc"],["@@eÀC@b"],["@@fXwkbrÄ`qg"],["@@^jtWQ"],["@@~ Y]c"],["@@G`ĔN^_¿ZÃM"],["@@iX¶BY"],["@@YZ"],["@@L_{Epf"],["@@^WqCT\\"],["@@\\[§t|¤_"],["@@m`n_"],["@@Ïxǌ{q_×^Giip"],["@@@é^BntaÊU]x ¯ÄPĲ­°hʙK³VÕ@Y~|EvĹsÇ¦­L^pÃ²ŸÒG Ël]xxÄ_fT¤Ď¤cPC¨¸TVjbgH²sdÎdHt`B²¬GJję¶[ÐhjeXdlwhðSČ¦ªVÊÏÆZÆŶ®²^ÎyÅÎcPqńĚDMħĜŁH­kçvV[ĳ¼WYÀäĦ`XlR`ôLUVfK¢{NZdĒªYĸÌÚJRr¸SA|ƴgŴĴÆbvªØX~źB|¦ÕE¤Ð`\\|KUnnI]¤ÀÂĊnŎR®Ő¿¶\\ÀøíDm¦ÎbŨabaĘ\\ľãÂ¸atÎSƐ´©v\\ÖÚÌǴ¤Â¨JKrZ_ZfjþhPkx`YRIjJcVf~sCN¤ EhæmsHy¨SðÑÌ\\\\ĐRZk°IS§fqŒßýáĞÙÉÖ[^¯ǤŲê´\\¦¬ĆPM¯£»uïpùzExanµyoluqe¦W^£ÊL}ñrkqWňûPUP¡ôJoo·U}£[·¨@XĸDXm­ÛÝºGUCÁª½{íĂ^cjk¶Ã[q¤LÉö³cux«zZf²BWÇ®Yß½ve±ÃCý£W{Ú^q^sÑ·¨ÍOt¹·C¥GDrí@wÕKţÃ«V·i}xËÍ÷i©ĝɝǡ]{c±OW³Ya±_ç©HĕoƫŇqr³Lys[ñ³¯OSďOMisZ±ÅFC¥Pq{Ã[Pg}\\¿ghćOk^ģÁFıĉĥM­oEqqZûěŉ³F¦oĵhÕP{¯~TÍlªNßYÐ{Ps{ÃVUeĎwk±ŉVÓ½ŽJãÇÇ»Jm°dhcÀffdF~ĀeĖd`sx² ®EżĀdQÂd^~ăÔH¦\\LKpĄVez¤NP ǹÓRÆąJSh­a[¦´ÂghwmBÐ¨źhI|VV|p] Â¼èNä¶ÜBÖ¼L`¼bØæKVpoúNZÞÒKxpw|ÊEMnzEQIZZNBčÚFÜçmĩWĪñtÞĵÇñZ«uD±|Əlĳ¥ãn·±PmÍada CLǑkùó¡³Ï«QaċÏOÃ¥ÕđQȥċƭy³ÃA"]],encodeOffsets:[[[123686,41445]],[[126019,40435]],[[124393,40128]],[[126117,39963]],[[125322,40140]],[[126686,40700]],[[126041,40374]],[[125584,40168]],[[125453,40165]],[[125362,40214]],[[125280,40291]],[[125774,39997]],[[125976,40496]],[[125822,39993]],[[125509,40217]],[[122731,40949]]]}},{type:"Feature",id:"220000",properties:{id:"220000",cp:[125.3245,43.886841],name:"吉林",childNum:1},geometry:{type:"Polygon",coordinates:["@@pä³PClFbbÍzwBGĭZÅi»lY­ċ²SgkÇ£^Sqd¯R©é£¯S\\cZ¹iűƏCuƍÓXoR}M^o£R}oªU­FuuXHlEÅÏ©¤ÛmTþ¤D²ÄufàÀ­XXÈ±AeyYw¬dvõ´KÊ£\\rµÄlidā]|î©¾DÂVH¹Þ®ÜWnCķ W§@\\¸~¤Vp¸póIO¢VOŇürXql~òÉK]¤¥Xrfkvzpm¶bwyFoúvð¼¤ N°ąO¥«³[éǡű_°Õ\\ÚÊĝþâőàerR¨­JYlďQ[ ÏYëÐ§TGztnß¡gFkMāGÁ¤ia ÉÈ¹`\\xs¬dĆkNnuNUuP@vRY¾\\¢GªóĄ~RãÖÎĢùđŴÕhQxtcæëSɽŉíëǉ£ƍG£nj°KƘµDsØÑpyĆ¸®¿bXp]vbÍZuĂ{n^IüÀSÖ¦EvRÎûh@â[ƏÈô~FNr¯ôçR±­HÑlĢ^¤¢OðævxsŒ]ÞÁTĠs¶¿âÆGW¾ìA¦·TÑ¬è¥ÏÐJ¨¼ÒÖ¼ƦɄxÊ~StD@Ă¼Ŵ¡jlºWvÐzƦZÐ²CH AxiukdGgetqmcÛ£Ozy¥cE}|¾cZk¿uŐã[oxGikfeäT@SUwpiÚFM©£è^Ú`@v¶eňf heP¶täOlÃUgÞzŸU`l}ÔÆUvØ_Ō¬Öi^ĉi§²ÃB~¡ĈÚEgc|DC_Ȧm²rBx¼MÔ¦ŮdĨÃâYxƘDVÇĺĿg¿cwÅ\\¹¥Yĭl¤OvLjM_a W`zļMž·\\swqÝSAqŚĳ¯°kRē°wx^ĐkǂÒ\\]nrĂ}²ĊŲÒøãh·M{yMzysěnĒġV·°G³¼XÀ¤¹i´o¤ŃÈ`ÌǲÄUĞd\\iÖmÈBĤÜɲDEh LG¾ƀÄ¾{WaYÍÈĢĘÔRîĐj}ÇccjoUb½{h§Ǿ{KƖµÎ÷GĀÖŠåưÎs­lyiē«`å§H¥Ae^§GK}iã\\c]v©ģZmÃ|[M}ģTɟĵÂÂ`ÀçmFK¥ÚíÁbX³ÌQÒHof{]ept·GŋĜYünĎųVY^ydõkÅZW«WUa~U·SbwGçǑiW^qFuNĝ·EwUtW·Ýďæ©PuqEzwAVXRãQ`­©GMehccďÏd©ÑW_ÏYƅ»é\\ɹ~ǙG³mØ©BšuT§Ĥ½¢Ã_Ã½L¡ýqT^rme\\PpZZbyuybQefµ]UhĿDCmûvaÙNSkCwncćfv~YÇG"],encodeOffsets:[[130196,42528]]}},{type:"Feature",id:"230000",properties:{id:"230000",cp:[128.642464,46.756967],name:"黑龙江",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@UµNÿ¥īèçHÍøƕ¶Lǽ|g¨|a¾pVidd~ÈiíďÓQġėÇZÎXb½|ſÃH½KFgɱCģÛÇAnjÕc[VĝǱÃËÇ_ £ń³pj£º¿»WH´¯U¸đĢmtĜyzzNN|g¸÷äűÑ±ĉā~mq^[ǁÑďlw]¯xQĔ¯l°řĴrBÞTxr[tŽ¸ĻN_yX`biNKuP£kZĮ¦[ºxÆÀdhĹŀUÈƗCwáZħÄŭcÓ¥»NAw±qȥnD`{ChdÙFć}¢A±Äj¨]ĊÕjŋ«×`VuÓÅ~_kŷVÝyhVkÄãPsOµfgeŇµf@u_Ù ÙcªNªÙEojVxT@ãSefjlwH\\pŏäÀvlY½d{F~¦dyz¤PÜndsrhfHcvlwjF£G±DÏƥYyÏu¹XikĿ¦ÏqƗǀOŜ¨LI|FRĂn sª|C˜zxAè¥bfudTrFWÁ¹Am|ĔĕsķÆF´N}ćUÕ@Áĳſmuçuð^ÊýowFzØÎĕNőǏȎôªÌŒǄàĀÄ˄ĞŀƒʀĀƘŸˮȬƬĊ°Uzouxe]}AyÈW¯ÌmKQ]Īºif¸ÄX|sZt|½ÚUÎ lk^p{f¤lºlÆW A²PVÜPHÊâ]ÎĈÌÜk´\\@qàsĔÄQºpRij¼èi`¶bXrBgxfv»uUi^v~J¬mVp´£´VWrnP½ì¢BX¬hðX¹^TjVriªjtŊÄmtPGx¸bgRsT`ZozÆO]ÒFôÒOÆŊvÅpcGêsx´DR{AEOr°x|íb³Wm~DVjºéNNËÜ˛ɶ­GxŷCSt}]ûōSmtuÇÃĕNāg»íT«u}ç½BĵÞʣ¥ëÊ¡MÛ³ãȅ¡ƋaǩÈÉQG¢·lG|tvgrrf«ptęŘnÅĢrI²¯LiØsPf_vĠdxM prʹL¤¤eËÀđKïÙVY§]Ióáĥ]ķK¥j|pŇ\\kzţ¦šnņäÔVĂîĪ¬|vW®l¤èØrxm¶ă~lÄƯĄ̈́öȄEÔ¤ØQĄĄ»ƢjȦOǺ¨ìSŖÆƬyQv`cwZSÌ®ü±Ǆ]ŀç¬B¬©ńzƺŷɄeeOĨSfm ĊƀP̎ēz©ĊÄÕÊmgÇsJ¥ƔŊśæÎÑqv¿íUOµªÂnĦÁ_½ä@êí£P}Ġ[@gġ}gɊ×ûÏWXá¢užƻÌsNÍ½ƎÁ§čŐAēeL³àydl¦ĘVçŁpśǆĽĺſÊQíÜçÛġÔsĕ¬Ǹ¯YßċġHµ ¡eå`ļrĉŘóƢFìĎWøxÊkƈdƬv|I|·©NqńRŀ¤éeŊŀàŀU²ŕƀBQ£Ď}L¹Îk@©ĈuǰųǨÚ§ƈnTËÇéƟÊcfčŤ^XmHĊĕË«W·ċëx³ǔķÐċJāwİ_ĸȀ^ôWr­°oú¬ĦŨK~ȰCĐ´Ƕ£fNÎèâw¢XnŮeÂÆĶ¾¾xäLĴĘlļO¤ÒĨA¢Êɚ¨®ØCÔ ŬGƠƦYĜĘÜƬDJg_ͥœ@čŅĻA¶¯@wÎqC½Ĉ»NăëKďÍQÙƫ[«ÃígßÔÇOÝáWñuZ¯ĥŕā¡ÑķJu¤E å¯°WKÉ±_d_}}vyõu¬ï¹ÓU±½@gÏ¿rÃ½DgCdµ°MFYxw¿CG£Rƛ½Õ{]L§{qqą¿BÇƻğëܭǊË|c²}Fµ}ÙRsÓpg±QNqǫŋRwŕnéÑÉK«SeYRŋ@{¤SJ}D Ûǖ֍]gr¡µŷjqWÛham³~S«Þ]"]],encodeOffsets:[[[134456,44547]]]}},{type:"Feature",id:"320000",properties:{id:"320000",cp:[119.767413,33.041544],name:"江苏",childNum:1},geometry:{type:"Polygon",coordinates:["@@cþÅPi`ZRu¥É\\]~°Y`µÓ^phÁbnÀşúòaĬºTÖŒbe¦¦{¸ZâćNp©Hr|^mjhSEb\\afv`sz^lkljÄtg¤D­¾X¿À|ĐiZȀåB·î}GL¢õcßjayBFµÏC^ĭcÙt¿sğH]j{s©HM¢QnDÀ©DaÜÞ·jgàiDbPufjDk`dPOîhw¡ĥ¥GP²ĐobºrYî¶aHŢ´ ]´rılw³r_{£DB_Ûdåuk|Ũ¯F Cºyr{XFye³Þċ¿ÂkĭB¿MvÛpm`rÚã@Ę¹hågËÖƿxnlč¶Åì½Ot¾dJlVJĂǀŞqvnO^JZż·Q}êÍÅmµÒ]ƍ¦Dq}¬R^èĂ´ŀĻĊIÔtĲyQŐĠMNtR®òLhĚs©»}OÓGZz¶A\\jĨFäOĤHYJvÞHNiÜaĎÉnFQlNM¤B´ĄNöɂtpŬdfåqm¿QûùŞÚb¤uŃJŴu»¹ĄlȖħŴw̌ŵ²ǹǠ͛hĭłƕrçü±Yxcitğ®jű¢KOķCoy`å®VTa­_Ā]ŐÝɞï²ʯÊ^]afYǸÃĆēĪȣJđ͍ôƋÄÄÍīçÛɈǥ£­ÛmY`ó£Z«§°Ó³QafusNıǅ_k}¢m[ÝóDµ¡RLčiXyÅNïă¡¸iĔÏNÌŕoēdōîåŤûHcs}~Ûwbù¹£¦ÓCtOPrE^ÒogĉIµÛÅʹK¤½phMü`oæŀ"],encodeOffsets:[[121740,32276]]}},{type:"Feature",id:"330000",properties:{id:"330000",cp:[120.153576,29.287459],name:"浙江",childNum:45},geometry:{type:"MultiPolygon",coordinates:[["@@E^dQ]K"],["@@jX^j"],["@@sfbU"],["@@qP\\xz[ck"],["@@R¢FX}°[s_"],["@@Cb\\}"],["@@e|v\\la{u"],["@@v~u}"],["@@QxÂF¯}"],["@@¹nvÞs¯o"],["@@rSkUEj"],["@@bi­ZP"],["@@p[}INf"],["@@À¿"],["@@¹dnb"],["@@rSBnR"],["@@g~h}"],["@@FlEk"],["@@OdPc"],["@@v[u\\"],["@@FjâL~wyoo~sµL\\"],["@@¬e¹aN"],["@@\\nÔ¡q]L³ë\\ÿ®QÖ"],["@@ÊA­©[¬"],["@@Kxv­"],["@@@hlIk]"],["@@pW{o||j"],["@@Md|_mC"],["@@¢X£ÏylD¼XtH"],["@@hlÜ[LykAvyfw^E¤"],["@@fp¤MusR"],["@@®_ma~LÁ¬Z"],["@@iMxZ"],["@@ZcYd"],["@@Z~dOSo|A¿qZv"],["@@@`EN¡v"],["@@|TY{"],["@@@n@m"],["@@XWkCT\\"],["@@ºwZRkĕWO¢"],["@@X®±GrÆª\\ÔáXq{"],["@@ůTG°ĄLHm°UC"],["@@¤aÜx~}dtüGæţŎíĔcŖpMËÐjē¢·ðĄÆMzjWKĎ¢Q¶À_ê_Bıi«pZgf¤Nrq]§ĂN®«H±yƳí¾×ŸīàLłčŴǝĂíÀBŖÕªÁŖHŗŉåqûõi¨hÜ·ñt»¹ýv_[«¸mYL¯QªmĉÅdMgÇjcº«ę¬­K­´B«Âącoċ\\xKd¡gěŧ«®á[~ıxu·ÅKsËÉc¢Ù\\ĭƛëbf¹­ģSĜkáƉÔ­ĈZB{aMµfzŉfåÂŧįƋǝÊĕġć£g³ne­ą»@­¦S®\\ßðChiqªĭiAuA­µ_W¥ƣO\\lċĢttC¨£t`PZäuXßBsĻyekOđġĵHuXBµ]×­­\\°®¬F¢¾pµ¼kŘó¬Wät¸|@L¨¸µrºù³Ù~§WIZW®±Ð¨ÒÉx`²pĜrOògtÁZ}þÙ]¡FKwsPlU[}¦Rvn`hq¬\\nQ´ĘRWb_ rtČFIÖkĦPJ¶ÖÀÖJĈĄTĚòC ²@PúØz©Pî¢£CÈÚĒ±hŖl¬â~nm¨f©iļ«mntuÖZÜÄjL®EÌFª²iÊxØ¨IÈhhst"],["@@o\\VzRZ}y"],["@@@°¡mÛGĕ¨§Ianá[ýƤjfæØLäGr"]],encodeOffsets:[[[125592,31553]],[[125785,31436]],[[125729,31431]],[[125513,31380]],[[125223,30438]],[[125115,30114]],[[124815,29155]],[[124419,28746]],[[124095,28635]],[[124005,28609]],[[125e3,30713]],[[125111,30698]],[[125078,30682]],[[125150,30684]],[[124014,28103]],[[125008,31331]],[[125411,31468]],[[125329,31479]],[[125626,30916]],[[125417,30956]],[[125254,30976]],[[125199,30997]],[[125095,31058]],[[125083,30915]],[[124885,31015]],[[125218,30798]],[[124867,30838]],[[124755,30788]],[[124802,30809]],[[125267,30657]],[[125218,30578]],[[125200,30562]],[[124968,30474]],[[125167,30396]],[[124955,29879]],[[124714,29781]],[[124762,29462]],[[124325,28754]],[[123990,28459]],[[125366,31477]],[[125115,30363]],[[125369,31139]],[[122495,31878]],[[125329,30690]],[[125192,30787]]]}},{type:"Feature",id:"340000",properties:{id:"340000",cp:[117.283042,31.26119],name:"安徽",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@^iuLX^"],["@@e©Ehl"],["@@°ZÆëĎµmkǀwÌÕæhºgBĝâqÙĊzÖgņtÀÁĂÆáhEz|WzqD¹°Eŧl{ævÜcA`¤C`|´qxĲkq^³³GšµbíZ¹qpa±ď OH¦Ħx¢gPícOl_iCveaOjChß¸iÝbÛªCC¿mRV§¢A|t^iĠGÀtÚsd]ĮÐDE¶zAb àiödK¡~H¸íæAǿYj{ď¿À½W®£ChÃsikkly]_teu[bFaTign{]GqªoĈMYá|·¥f¥őaSÕėNµñĞ«Im_m¿Âa]uĜp Z_§{Cäg¤°r[_YjÆOdý[I[á·¥Q_nùgL¾mvˊBÜÆ¶ĊJhpc¹O]iŠ]¥ jtsggJÇ§w×jÉ©±EFË­KiÛÃÕYvsm¬njĻª§emná}k«ŕgđ²ÙDÇ¤í¡ªOy×Où±@DñSęćăÕIÕ¿IµĥOjNÕËT¡¿tNæŇàåyķrĕq§ÄĩsWÆßF¶X®¿mwRIÞfßoG³¾©uyHį{Ɓħ¯AFnuPÍÔzVdàôº^Ðæd´oG¤{S¬ćxã}ŧ×Kǥĩ«ÕOEÐ·ÖdÖsƘÑ¨[Û^Xr¢¼§xvÄÆµ`K§ tÒ´Cvlo¸fzŨð¾NY´ı~ÉĔēßúLÃÃ_ÈÏ|]ÂÏFlg`ben¾¢pUh~ƴĖ¶_r sĄ~cƈ]|r c~`¼{À{ȒiJjz`îÀT¥Û³]u}fïQl{skloNdjäËzDvčoQďHI¦rbtHĔ~BmlRV_ħTLnñH±DL¼Lªl§Ťa¸ĚlK²\\RòvDcÎJbt[¤D@®hh~kt°ǾzÖ@¾ªdbYhüóZ ň¶vHrľ\\ÊJuxAT|dmÀO[ÃÔG·ĚąĐlŪÚpSJ¨ĸLvÞcPæķŨ®mÐálwKhïgA¢ųÆ©Þ¤OÈm°K´"]],encodeOffsets:[[[121722,32278]],[[119475,30423]],[[119168,35472]]]}},{type:"Feature",id:"350000",properties:{id:"350000",cp:[118.306239,26.075302],name:"福建",childNum:18},geometry:{type:"MultiPolygon",coordinates:[["@@zht´]"],["@@aj^~ĆG©O"],["@@ed¨C}}i"],["@@@vPGsQ"],["@@sBzddW]Q"],["@@S¨Q{"],["@@NVucW"],["@@qptBAq"],["@@¸[mu"],["@@Q\\pD]_"],["@@jSwUadpF"],["@@eXª~"],["@@AjvFso"],["@@fT_Çí\\v|ba¦jZÆy°"],["@@IjJi"],["@@wJIx«¼AoNe{M­"],["@@K±¡ÓČäeZ"],["@@k¡¹Eh~c®wBkUplÀ¡I~Māe£bN¨gZý¡a±Öcp©PhI¢QqÇGj|¥U g[Ky¬ŏv@OptÉEF\\@ åA¬V{XģĐBycpě¼³Ăp·¤¥ohqqÚ¡ŅLs^Ã¡§qlÀhH¨MCe»åÇGD¥zPO£čÙkJA¼ßėuĕeûÒiÁŧSW¥Qûŗ½ùěcÝ§SùĩąSWó«íęACµeRåǃRCÒÇZÍ¢ź±^dlstjD¸ZpuÔâÃH¾oLUêÃÔjjēò´ĄWƛ^Ñ¥Ħ@ÇòmOw¡õyJyD}¢ďÑÈġfZda©º²z£NjD°Ötj¶¬ZSÎ~¾c°¶ÐmxO¸¢Pl´SL|¥AȪĖMņĲg®áIJČĒü` QF¬h|ĂJ@zµ |ê³È ¸UÖŬŬÀEttĸr]ðM¤ĶĲHtÏ AĬkvsq^aÎbvdfÊòSD´Z^xPsĂrvƞŀjJd×ŘÉ ®AÎ¦ĤdxĆqAZRÀMźnĊ»İÐZ YXæJyĊ²·¶q§·K@·{sXãô«lŗ¶»o½E¡­«¢±¨Y®Ø¶^AvWĶGĒĢPlzfļtàAvWYãO_¤sD§ssČġ[kƤPX¦`¶®BBvĪjv©jx[L¥àï[F¼ÍË»ğV`«Ip}ccÅĥZEãoP´B@D¸m±z«Ƴ¿å³BRØ¶Wlâþäą`]Z£Tc ĹGµ¶Hm@_©k¾xĨôȉðX«½đCIbćqK³ÁÄš¬OAwã»aLŉËĥW[ÂGIÂNxĳ¤D¢îĎÎB§°_JGs¥E@¤ućPåcuMuw¢BI¿]zG¹guĮck\\_"]],encodeOffsets:[[[123250,27563]],[[122541,27268]],[[123020,27189]],[[122916,27125]],[[122887,26845]],[[122808,26762]],[[122568,25912]],[[122778,26197]],[[122515,26757]],[[122816,26587]],[[123388,27005]],[[122450,26243]],[[122578,25962]],[[121255,25103]],[[120987,24903]],[[122339,25802]],[[121042,25093]],[[122439,26024]]]}},{type:"Feature",id:"360000",properties:{id:"360000",cp:[115.592151,27.676493],name:"江西",childNum:1},geometry:{type:"Polygon",coordinates:["@@ĢĨƐgļ¼ÂMD~ņªe^\\^§ý©j×cZØ¨zdÒa¶lÒJìõ`oz÷@¤uŞ¸´ôęöY¼HČƶajlÞƩ¥éZ[|h}^U  ¥pĄžƦO lt¸Æ Q\\aÆ|CnÂOjt­ĚĤdÈF`¶@Ðë ¦ōÒ¨SêvHĢûXD®QgÄWiØPÞìºr¤ǆNĠ¢lĄtZoCƞÔºCxrpĠV®Ê{f_Y`_eq®Aot`@oDXfkp¨|s¬\\DÄSfè©Hn¬^DhÆyøJhØxĢĀLÊƠPżċĄwȠĚ¦G®ǒĤäTŠÆ~Ħw«|TF¡nc³Ïå¹]ĉđxe{ÎÓvOEm°BƂĨİ|Gvz½ª´HàpeJÝQxnÀW­EµàXÅĪt¨ÃĖrÄwÀFÎ|ňÓMå¼ibµ¯»åDT±m[r«_gmQu~¥V\\OkxtL E¢Ú^~ýêPóqoě±_Êw§ÑªåƗā¼mĉŹ¿NQYBąrwģcÍ¥B­ŗÊcØiIƝĿuqtāwO]³YCñTeÉcaubÍ]trluīBÐGsĵıN£ï^ķqss¿FūūVÕ·´Ç{éĈýÿOER_đûIċâJh­ŅıNȩĕB¦K{Tk³¡OP·wnµÏd¯}½TÍ«YiµÕsC¯iM¤­¦¯P|ÿUHvhe¥oFTuõ\\OSsMòđƇiaºćXĊĵà·çhƃ÷Ç{ígu^đgm[×zkKN¶Õ»lčÓ{XSÆv©_ÈëJbVkĔVÀ¤P¾ºÈMÖxlò~ªÚàGĂ¢B±ÌKyáV¼Ã~­`gsÙfIƋlę¹e|~udjuTlXµf`¿Jd[\\L²"],encodeOffsets:[[116689,26234]]}},{type:"Feature",id:"370000",properties:{id:"370000",cp:[118.000923,36.275807],name:"山东",childNum:13},geometry:{type:"MultiPolygon",coordinates:[["@@Xjd]{K"],["@@itbFHy"],["@@HlGk"],["@@TGy"],["@@K¬U"],["@@WdXc"],["@@PtOs"],["@@LnXhc"],["@@ppVu]Or"],["@@cdzAUa"],["@@udRhnCI"],["@@oIpR"],["@@Ľč{fzƤîKÎMĮ]ZF½Y]â£ph¶¨râøÀÎǨ¤^ºÄGz~grĚĜlĞÆLĆǆ¢Îo¦cvKbgr°WhmZp L]LºcUÆ­nżĤÌĒbAnrOA´ȊcÀbƦUØrĆUÜøĬƞEzVL®öØBkŖÝĐĖ¹ŧ̄±ÀbÎÉnb²ĦhņBĖįĦåXćì@L¯´ywƕCéÃµė ƿ¸lµ¾Z|ZWyFY¨Mf~C¿`à_RÇzwƌfQnny´INoƬèôº|sTJULîVjǎ¾ĒØDz²XPn±ŴPè¸ŔLƔÜƺ_TüÃĤBBċÈöA´faM¨{«M`¶d¡ôÖ°mȰBÔjj´PM|c^d¤u¤Û´ä«ƢfPk¶Môl]Lb}su^ke{lCMrDÇ­]NÑFsmoõľHyGă{{çrnÓEƕZGª¹Fj¢ïWuøCǷë¡ąuhÛ¡^KxC`C\\bÅxì²ĝÝ¿_NīCȽĿåB¥¢·IŖÕy\\¹kxÃ£Č×GDyÃ¤ÁçFQ¡KtŵƋ]CgÏAùSedcÚźuYfyMmhUWpSyGwMPqŀÁ¼zK¶G­Y§Ë@´śÇµƕBm@IogZ¯uTMx}CVKï{éƵP_K«pÛÙqċtkkù]gTğwoɁsMõ³ăAN£MRkmEÊčÛbMjÝGuIZGPģãħE[iµBEuDPÔ~ª¼ęt]ûG§¡QMsğNPŏįzs£Ug{đJĿļā³]ç«Qr~¥CƎÑ^n¶ÆéÎR~Ż¸YI] PumŝrƿIā[xeÇ³L¯v¯s¬ÁY~}ťuŁgƋpÝĄ_ņī¶ÏSR´ÁP~¿Cyċßdwk´SsX|t`Ä ÈðAªìÎT°¦Dda^lĎDĶÚY°`ĪŴǒàŠv\\ebZHŖR¬ŢƱùęOÑM­³FÛWp["]],encodeOffsets:[[[123806,39303]],[[123821,39266]],[[123742,39256]],[[123702,39203]],[[123649,39066]],[[123847,38933]],[[123580,38839]],[[123894,37288]],[[123043,36624]],[[123344,38676]],[[123522,38857]],[[123628,38858]],[[118260,36742]]]}},{type:"Feature",id:"410000",properties:{id:"410000",cp:[113.665412,33.757975],name:"河南",childNum:1},geometry:{type:"Polygon",coordinates:["@@ýLùµP³swIÓxcŢĞð´E®ÚPtĴXØxÂ¶@«ŕŕQGYfa[şußǩđš_X³ĳÕčC]kbc¥CS¯ëÍB©÷³­Si_}mYTt³xlàcČzÀD}ÂOQ³ÐTĨ¯ƗòËŖ[hłŦv~}ÂZ«¤lPÇ£ªÝŴÅR§ØnhctâknÏ­ľŹUÓÝdKuķI§oTũÙďkęĆH¸Ó\\Ä¿PcnS{wBIvÉĽ[GqµuŇôYgûZca©@½Õǽys¯}lgg@­C\\£asIdÍuCQñ[L±ęk·ţb¨©kK»KC²òGKmĨS`UQnk}AGēsqaJ¥ĐGRĎpCuÌy ã iMcplk|tRkðev~^´¦ÜSí¿_iyjI|ȑ|¿_»d}q^{Ƈdă}tqµ`Ƴĕg}V¡om½faÇo³TTj¥tĠRyK{ùÓjuµ{t}uËRivGçJFjµÍyqÎàQÂFewixGw½Yŷpµú³XU½ġyłåkÚwZX·l¢Á¢KzOÎÎjc¼htoDHr|­J½}JZ_¯iPq{tę½ĕ¦Zpĵø«kQĹ¤]MÛfaQpě±ǽ¾]u­Fu÷nčÄ¯ADp}AjmcEÇaª³o³ÆÍSƇĈÙDIzËčľ^KLiÞñ[aA²zzÌ÷D|[íÄ³gfÕÞd®|`Ć~oĠƑô³ŊD×°¯CsøÀ«ìUMhTº¨¸ǡîSÔDruÂÇZÖEvPZW~ØÐtĄE¢¦Ðy¸bô´oŬ¬²Ês~]®tªapŎJ¨Öº_Ŕ`Ŗ^Đ\\Ĝu~m²Ƹ¸fWĦrƔ}Î^gjdfÔ¡J}\\n C¦þWxªJRÔŠu¬ĨĨmFdM{\\d\\YÊ¢ú@@¦ª²SÜsC}fNècbpRmlØ^gd¢aÒ¢CZZxvÆ¶N¿¢T@uC¬^ĊðÄn|lGlRjsp¢ED}Fio~ÔN~zkĘHVsǲßjŬŢ`Pûàl¢\\ÀEhİgÞē X¼Pk|m"],encodeOffsets:[[118256,37017]]}},{type:"Feature",id:"420000",properties:{id:"420000",cp:[113.298572,30.684355],name:"湖北",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@AB"],["@@lskt"],["@@¾«}{ra®pîÃ\\{øCËyyB±b\\òÝjKL ]ĎĽÌJyÚCƈćÎT´Å´pb©ÈdFin~BCo°BĎÃømv®E^vǾ½Ĝ²RobÜeN^ĺ£R¬lĶ÷YoĖ¥Ě¾|sOr°jY`~I¾®I{GqpCgyl{£ÍÍyPLÂ¡¡¸kWxYlÙæŁĢz¾V´W¶ùŸo¾ZHxjwfxGNÁ³Xéæl¶EièIH ujÌQ~v|sv¶Ôi|ú¢FhQsğ¦SiŠBgÐE^ÁÐ{čnOÂÈUÎóĔÊēĲ}Z³½Mŧïeyp·uk³DsÑ¨L¶_ÅuÃ¨w»¡WqÜ]\\Ò§tƗcÕ¸ÕFÏǝĉăxŻČƟOKÉġÿ×wg÷IÅzCg]m«ªGeçÃTC«[t§{loWeC@ps_Bp­rf_``Z|ei¡oċMqow¹DƝÓDYpûsYkıǃ}s¥ç³[§cY§HK«Qy]¢wwö¸ïx¼ņ¾Xv®ÇÀµRĠÐHM±cÏdƒǍũȅȷ±DSyúĝ£ŤĀàtÖÿï[îb\\}pĭÉI±Ñy¿³x¯No|¹HÏÛmjúË~TuęjCöAwě¬Rđl¯ Ñb­ŇTĿ_[IčĄʿnM¦ğ\\É[T·k¹©oĕ@A¾wya¥Y\\¥Âaz¯ãÁ¡k¥ne£ÛwE©Êō¶˓uoj_U¡cF¹­[WvP©whuÕyBF`RqJUw\\i¡{jEPïÿ½fćQÑÀQ{°fLÔ~wXgītêÝ¾ĺHd³fJd]HJ²EoU¥HhwQsƐ»Xmg±çve]DmÍPoCc¾_hhøYrŊU¶eD°Č_N~øĹĚ·`z]Äþp¼äÌQv\\rCé¾TnkžŐÚÜa¼ÝƆĢ¶ÛodĔňÐ¢JqPb ¾|J¾fXƐîĨ_Z¯À}úƲN_ĒÄ^ĈaŐyp»CÇÄKñL³ġM²wrIÒŭxjb[n«øæà ^²­h¯ÚŐªÞ¸Y²ĒVø}Ā^İ´LÚm¥ÀJÞ{JVųÞŃx×sxxƈē ģMřÚðòIfĊŒ\\Ʈ±ŒdÊ§ĘDvČ_Àæ~Dċ´A®µ¨ØLV¦êHÒ¤"]],encodeOffsets:[[[113712,34e3]],[[115612,30507]],[[113649,34054]]]}},{type:"Feature",id:"430000",properties:{id:"430000",cp:[111.782279,28.09409],name:"湖南",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@nFTs"],["@@ßÅÆá½ÔXrCOËRïÿĩ­TooQyÓ[ŅBE¬ÎÓXaį§Ã¸G °ITxpúxÚĳ¥ÏĢ¾edÄ©ĸGàGhM¤Â_U}Ċ}¢pczfþg¤ÇòAVM"],["@@©KA·³CQ±Á«³BUƑ¹AtćOwD]JiØSm¯b£ylXHËÑ±H«C^õľAÅ§¤É¥ïyuǙuA¢^{ÌC´­¦ŷJ£^[ª¿ĕ~ƇN skóā¹¿ï]ă~÷O§­@Vm¡Qđ¦¢Ĥ{ºjÔª¥nf´~Õo×ÛąMąıuZmZcÒ ĲĪ²SÊǄŶ¨ƚCÖŎªQØ¼rŭ­«}NÏürÊ¬mjr@ĘrTW ­SsdHzƓ^ÇÂyUi¯DÅYlŹu{hT}mĉ¹¥ěDÿë©ıÓ[Oº£¥ótł¹MÕƪ`PDiÛU¾ÅâìUñBÈ£ýhedy¡oċ`pfmjP~kZaZsÐd°wj§@Ĵ®w~^kÀÅKvNmX\\¨aŃqvíó¿F¤¡@ũÑVw}S@j}¾«pĂrªg àÀ²NJ¶¶DôK|^ª°LX¾ŴäPĪ±£EXd^¶ĲÞÜ~u¸ǔMRhsRe`ÄofIÔ\\Ø  ićymnú¨cj ¢»GČìƊÿÐ¨XeĈĀ¾Oð Fi ¢|[jVxrIQ_EzAN¦zLU`cªxOTu RLÄ¢dVi`p˔vŎµªÉF~Ød¢ºgİàw¸Áb[¦Zb¦z½xBĖ@ªpºlS¸Ö\\Ĕ[N¥ˀmĎăJ\\ŀ`ňSÚĖÁĐiOĜ«BxDõĚivSÌ}iùÜnÐºG{p°M´wÀÒzJ²ò¨ oTçüöoÛÿñőĞ¤ùTz²CȆȸǎŪƑÐc°dPÎğË¶[È½u¯½WM¡­ÉB·rínZÒ `¨GA¾\\pēXhÃRC­üWGġuTé§ŎÑ©ò³I±³}_EÃħg®ęisÁPDmÅ{b[RÅs·kPŽƥóRoOV~]{g\\êYƪ¦kÝbiċƵGZ»Ěõó·³vŝ£ø@pyö_ëIkÑµbcÑ§y×dYØªiþ¨[]f]Ņ©C}ÁN»hĻħƏĩ"]],encodeOffsets:[[[115640,30489]],[[112543,27312]],[[116690,26230]]]}},{type:"Feature",id:"440000",properties:{id:"440000",cp:[113.280637,23.125178],name:"广东",childNum:24},geometry:{type:"MultiPolygon",coordinates:[["@@QdAua"],["@@lxDLo"],["@@sbhNLo"],["@@Ă ā"],["@@WltO[["],["@@Kr]S"],["@@eI]y"],["@@I|Mym"],["@@Û³LS¼Y"],["@@nvºBëui©`¾"],["@@zdÛJw®"],["@@°¯"],["@@a yAª¸ËJIxØ@ĀHAmÃV¡ofuo"],["@@sŗÃÔėAƁZÄ ~°ČPäh"],["@@¶ÝÌvmĞh­ıQ"],["@@HdSjĒ¢D}waru«ZqadYM"],["@@el\\LqqU"],["@@~rMo\\"],["@@f^C"],["@@øPªoj÷ÍÝħXČx°Q¨ıXNv"],["@@gÇƳo[~tly"],["@@EÆC¿"],["@@OP"],["@@wđógĝ[³¡VÙæÅöMÌ³¹pÁaËýý©D©ÜJŹƕģGą¤{ÙūÇO²«BƱéAÒĥ¡«BhlmtÃPµyU¯ucd·w_bŝcīímGO|KPȏŹãŝIŕŭŕ@Óoo¿ē±ß}ŭĲWÈCőâUâǙIğŉ©IĳE×Á³AówXJþ±ÌÜÓĨ£L]ĈÙƺZǾĆĖMĸĤfÎĵlŨnÈĐtFFĤêk¶^k°f¶g}®Faf`vXŲxl¦ÔÁ²¬Ð¦pqÊÌ²iXØRDÎ}Ä@ZĠsx®AR~®ETtĄZƈfŠŠHâÒÐAµ\\S¸^wĖkRzalŜ|E¨ÈNĀňZTpBh£\\ĎƀuXĖtKL¶G|»ĺEļĞ~ÜĢÛĊrOÙîvd]n¬VÊĜ°RÖpMƂªFbwEÀ©\\¤]ŸI®¥D³|Ë]CöAŤ¦æ´¥¸Lv¼¢ĽBaôF~®²GÌÒEYzk¤°ahlVÕI^CxĈPsBƒºV¸@¾ªR²ĨN]´_eavSivc}p}Đ¼ƌkJÚe th_¸ ºx±ò_xNË²@ă¡ßH©Ùñ}wkNÕ¹ÇO½¿£ĕ]ly_WìIÇª`uTÅxYĒÖ¼kÖµMjJÚwn\\hĒv]îh|ÈƄøèg¸Ķß ĉĈWb¹ƀdéĘNTtP[öSvrCZaGubo´ŖÒÇĐ~¡zCIözx¢PnÈñ @ĥÒ¦]ƞV}³ăĔñiiÄÓVépKG½ÄÓávYoC·sitiaÀyŧÎ¡ÈYDÑům}ý|m[węõĉZÅxUO}÷N¹³ĉo_qtăqwµŁYÙǝŕ¹tïÛUÃ¯mRCºĭ|µÕÊK½Rē ó]GªęAx»HO£|ām¡diď×YïYWªŉOeÚtĐ«zđ¹TāúEá²\\ķÍ}jYàÙÆſ¿Çdğ·ùTßÇţʄ¡XgWÀǇğ·¿ÃOj YÇ÷Qěi"]],encodeOffsets:[[[117381,22988]],[[116552,22934]],[[116790,22617]],[[116973,22545]],[[116444,22536]],[[116931,22515]],[[116496,22490]],[[116453,22449]],[[113301,21439]],[[118726,21604]],[[118709,21486]],[[113210,20816]],[[115482,22082]],[[113171,21585]],[[113199,21590]],[[115232,22102]],[[115739,22373]],[[115134,22184]],[[113056,21175]],[[119573,21271]],[[119957,24020]],[[115859,22356]],[[116561,22649]],[[116285,22746]]]}},{type:"Feature",id:"450000",properties:{id:"450000",cp:[108.320004,22.82402],name:"广西",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@H TQ§A"],["@@ĨÊªLƊDÎĹĐCǦė¸zÚGn£¾rªŀÜt¬@ÖÚSx~øOŒŶÐÂæȠ\\ÈÜObĖw^oÞLf¬°bI lTØBÌF£Ć¹gñĤaYt¿¤VSñK¸¤nM¼JE±½¸ñoÜCƆæĪ^ĚQÖ¦^f´QüÜÊz¯lzUĺš@ìp¶n]sxtx¶@~ÒĂJb©gk{°~c°`Ô¬rV\\la¼¤ôá`¯¹LCÆbxEræOv[H­[~|aB£ÖsºdAĐzNÂðsÞÆĤªbab`ho¡³F«èVlo¤ÔRzpp®SĪº¨ÖºNĳd`a¦¤F³ºDÎńĀìCĜº¦Ċ~nS|gźvZkCÆj°zVÈÁƔ]LÊFZgčP­kini«qÇczÍY®¬Ů»qR×ō©DÕ§ƙǃŵTÉĩ±ıdÑnYYĲvNĆĆØÜ Öp}e³¦m©iÓ|¹ħņ|ª¦QF¢Â¬ʖovg¿em^ucà÷gÕuíÙćĝ}FĻ¼Ĺ{µHKsLSđƃrč¤[AgoSŇYMÿ§Ç{FśbkylQxĕ]T·¶[BÑÏGáşşƇeăYSs­FQ}­BwtYğÃ@~CÍQ ×WjË±rÉ¥oÏ ±«ÓÂ¥kwWűmcih³K~µh¯e]lµélEģEďsmÇŧē`ãògK_ÛsUʝćğ¶höO¤Ǜn³c`¡y¦CezYwa[ďĵűMę§]XÎ_íÛ]éÛUćİÕBƣ±dy¹T^dûÅÑŦ·PĻþÙ`K¦¢ÍeĥR¿³£[~äu¼dltW¸oRM¢ď\\z}Æzdvň{ÎXF¶°Â_ÒÂÏL©ÖTmu¼ãlīkiqéfA·Êµ\\őDc¥ÝFyÔćcűH_hLÜêĺĐ¨c}rn`½Ì@¸¶ªVLhŒ\\Ţĺk~Ġið°|gtTĭĸ^xvKVGréAébUuMJVÃO¡qĂXËSģãlýà_juYÛÒBG^éÖ¶§EGÅzěƯ¤EkN[kdåucé¬dnYpAyČ{`]þ¯TbÜÈk¡ĠvàhÂƄ¢Jî¶²"]],encodeOffsets:[[[111707,21520]],[[107619,25527]]]}},{type:"Feature",id:"460000",properties:{id:"460000",cp:[109.83119,19.031971],name:"海南",childNum:1},geometry:{type:"Polygon",coordinates:["@@¦Ŝil¢XƦƞòïè§ŞCêɕrŧůÇąĻõ·ĉ³œ̅kÇm@ċȧŧĥĽʉ­ƅſȓÒË¦ŝE}ºƑ[ÍĜȋ gÎfǐÏĤ¨êƺ\\Ɔ¸ĠĎvʄȀÐ¾jNðĀÒRZǆzÐŘÎ°H¨Ƣb²_Ġ "],encodeOffsets:[[112750,20508]]}},{type:"Feature",id:"510000",properties:{id:"510000",cp:[104.065735,30.659462],name:"四川",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@LqKr"],["@@[ĻéV£_ţġñpG réÏ·~ąSfy×Í·ºſƽiÍıƣıĻmHH}siaX@iÇ°ÁÃ×t«­T¤JJJyJÈ`Ohß¦¡uËhIyCjmÿwZGTiSsOB²fNmsPa{M{õE^Hj}gYpaeu¯oáwHjÁ½M¡pMuåmni{fk\\oÎqCwEZ¼KĝAy{m÷LwO×SimRI¯rKõBS«sFe]fµ¢óY_ÆPRcue°Cbo×bd£ŌIHgtrnyPt¦foaXďxlBowz_{ÊéWiêEGhÜ¸ºuFĈIxf®Y½ĀǙ]¤EyF²ċw¸¿@g¢§RGv»áW`ÃĵJwi]t¥wO­½a[×]`Ãi­üL¦LabbTÀåc}ÍhÆh®BHî|îºÉk­¤Sy£ia©taį·Ɖ`ō¥UhOĝLk}©Fos´JmµlŁuønÑJWÎªYÀïAetTŅÓGË«bo{ıwodƟ½OġÜÂµxàNÖ¾P²§HKv¾]|BÆåoZ`¡Ø`ÀmºĠ~ÌÐ§nÇ¿¤]wğ@srğu~Io[é±¹ ¿ſđÓ@qg¹zƱřaí°KtÇ¤V»Ã[ĩǭƑ^ÇÓ@áťsZÏÅĭƋěpwDóÖáŻneQËq·GCœýS]x·ýq³OÕ¶Qzßti{řáÍÇWŝŭñzÇWpç¿JXĩè½cFÂLiVjx}\\NŇĖ¥GeJA¼ÄHfÈu~¸Æ«dE³ÉMA|bÒćhG¬CMõƤąAvüVéŀ_VÌ³ĐwQj´·ZeÈÁ¨X´Æ¡Qu·»ÕZ³ġqDoy`L¬gdp°şp¦ėìÅĮZ°Iähzĵf²å ĚÑKpIN|Ñz]ń·FU×é»R³MÉ»GM«kiér}Ã`¹ăÞmÈnÁîRǀ³ĜoİzŔwǶVÚ£À]ɜ»ĆlƂ²ĠþTº·àUȞÏʦ¶I«dĽĢdĬ¿»Ĕ×h\\c¬ä²GêëĤł¥ÀǿżÃÆMº}BÕĢyFVvwxBèĻĒ©ĈtCĢɽŠȣ¦āæ·HĽîôNÔ~^¤Ɗu^s¼{TA¼ø°¢İªDè¾Ň¶ÝJ®Z´ğ~Sn|ªWÚ©òzPOȸbð¢|øĞŒQìÛÐ@ĞǎRS¤Á§di´ezÝúØã]HqkIþËQÇ¦ÃsÇ¤[E¬ÉŪÍxXƒ·ÖƁİlƞ¹ª¹|XÊwnÆƄmÀêErĒtD®ċæcQE®³^ĭ¥©l}äQtoŖÜqÆkµªÔĻĴ¡@Ċ°B²Èw^^RsºTĀ£ŚæQPJvÄz^Đ¹Æ¯fLà´GC²dt­ĀRt¼¤ĦOðğfÔðDŨŁĞƘïPÈ®âbMüÀXZ ¸£@Å»»QÉ­]dsÖ×_Í_ÌêŮPrĔĐÕGĂeZÜîĘqBhtO ¤tE[h|YÔZśÎs´xº±Uñt|OĩĠºNbgþJy^dÂY Į]Řz¦gC³R`Āz¢Aj¸CL¤RÆ»@­Ŏk\\Ç´£YW}z@Z}Ã¶oû¶]´^NÒ}èNªPÍy¹`S°´ATeVamdUĐwʄvĮÕ\\uÆŗ¨Yp¹àZÂmWh{á}WØǍÉüwga§áCNęÎ[ĀÕĪgÖÉªXøx¬½Ů¦¦[NÎLÜUÖ´òrÙŠxR^JkĳnDX{U~ET{ļº¦PZcjF²Ė@pg¨B{u¨ŦyhoÚD®¯¢ WòàFÎ¤¨GDäz¦kŮPġqË¥À]eâÚ´ªKxīPÖ|æ[xÃ¤JÞĥsNÖ½I¬nĨY´®ÐƐmDŝuäđđEbee_v¡}ìęǊē}qÉåT¯µRs¡M@}ůaa­¯wvƉåZw\\Z{åû^"]],encodeOffsets:[[[108815,30935]],[[110617,31811]]]}},{type:"Feature",id:"520000",properties:{id:"520000",cp:[106.713478,26.578343],name:"贵州",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@G\\lY£in"],["@@q|mc¯tÏVSÎ"],["@@hÑ£IsNgßHHªķÃh_¹¡ĝÄ§ń¦uÙùgS¯JH|sÝÅtÁïyMDč»eÕtA¤{b\\}G®u\\åPFqwÅaDK°ºâ_£ùbµmÁÛĹM[q|hlaªāI}Ñµ@swtwm^oµDéĽŠyVky°ÉûÛR³e¥]RÕěħ[ƅåÛDpJiVÂF²I»mN·£LbÒYbWsÀbpkiTZĄă¶Hq`ĥ_J¯ae«KpÝx]aĕÛPÇȟ[ÁåŵÏő÷Pw}TÙ@Õs«ĿÛq©½m¤ÙH·yǥĘĉBµĨÕnđ]K©œáGçş§ÕßgǗĦTèƤƺ{¶ÉHÎd¾ŚÊ·OÐjXWrãLyzÉAL¾ę¢bĶėy_qMĔąro¼hĊw¶øV¤w²Ĉ]ÊKx|`ź¦ÂÈdrcÈbe¸`I¼čTF´¼Óýȃr¹ÍJ©k_șl³´_pĐ`oÒh¶pa^ÓĔ}D»^Xy`d[KvJPhèhCrĂĚÂ^Êƌ wZL­Ġ£ÁbrzOIlMMĪŐžËr×ÎeŦtw|¢mKjSǘňĂStÎŦEtqFT¾Eì¬¬ôxÌO¢ K³ŀºäYPVgŎ¦ŊmŞ¼VZwVlz¤£Tl®ctĽÚó{G­AÇge~Îd¿æaSba¥KKûj®_Ä^\\Ø¾bP®¦x^sxjĶI_Ä Xâ¼Hu¨Qh¡À@Ëô}±GNìĎlT¸`V~R°tbÕĊ`¸úÛtÏFDu[MfqGH·¥yAztMFe|R_GkChZeÚ°tov`xbDnÐ{E}ZèxNEÞREn[Pv@{~rĆAB§EO¿|UZ~ìUf¨J²ĂÝÆsªB`s¶fvö¦Õ~dÔq¨¸º»uù[[§´sb¤¢zþF¢ÆÀhÂW\\ıËIÝo±ĭŠ£þÊs}¡R]ěDg´VG¢j±®èºÃmpU[Áëº°rÜbNu¸}º¼`niºÔXĄ¤¼ÔdaµÁ_ÃftQQgR·Ǔv}Ý×ĵ]µWc¤F²OĩųãW½¯K©]{LóµCIµ±Mß¿h©āq¬o½~@i~TUxŪÒ¢@£ÀEîôruńb[§nWuMÆLl¿]x}ĳ­½"]],encodeOffsets:[[[112158,27383]],[[112105,27474]],[[112095,27476]]]}},{type:"Feature",id:"530000",properties:{id:"530000",cp:[101.512251,24.740609],name:"云南",childNum:1},geometry:{type:"Polygon",coordinates:["@@[ùx½}ÑRHYīĺûsÍniEoã½Ya²ė{c¬ĝgĂsAØÅwďõzFjw}«Dx¿}Uũlê@HÅ­F¨ÇoJ´Ónũuą¡Ã¢pÒÅØ TF²xa²ËXcÊlHîAßËŁkŻƑŷÉ©hW­æßUËs¡¦}teèÆ¶StÇÇ}Fd£jĈZĆÆ¤Tč\\D}O÷£U§~ŃGåŃDĝ¸Tsd¶¶Bª¤u¢ŌĎo~t¾ÍŶÒtD¦ÚiôözØX²ghįh½Û±¯ÿm·zR¦Ɵ`ªŊÃh¢rOÔ´£Ym¼èêf¯ŪĽncÚbw\\zlvWªâ ¦gmĿBĹ£¢ƹřbĥkǫßeeZkÙIKueT»sVesbaĕ  ¶®dNĄÄpªy¼³BE®lGŭCǶwêżĔÂepÍÀQƞpC¼ŲÈ­AÎô¶RäQ^Øu¬°_Èôc´¹ò¨PÎ¢hlĎ¦´ĦÆ´sâÇŲPnÊD^¯°Upv}®BPÌªjǬxSöwlfòªvqĸ|`H­viļndĜ­Ćhňem·FyÞqóSį¯³X_ĞçêtryvL¤§z¦c¦¥jnŞklD¤øz½ĜàĂŧMÅ|áƆàÊcðÂFÜáŢ¥\\\\ºİøÒÐJĴîD¦zK²ǏÎEh~CD­hMn^ÌöÄ©ČZÀaüfɭyœpį´ěFűk]Ôě¢qlÅĆÙa¶~ÄqêljN¬¼HÊNQ´ê¼VØ¸E^ŃÒyM{JLoÒęæe±Ķygã¯JYÆĭĘëo¥Šo¯hcK«z_prC´ĢÖY¼ v¸¢RÅW³Â§fÇ¸Yi³xR´ďUË`êĿUûuĆBƣöNDH«ĈgÑaB{ÊNF´¬c·Åv}eÇÃGB»If¦HňĕM~[iwjUÁKE¾dĪçWIèÀoÈXòyŞŮÈXâÎŚj|àsRyµÖPr´þ ¸^wþTDŔHr¸RÌmfżÕâCôoxĜƌÆĮÐYtâŦÔ@]ÈǮƒ\\Ī¼Ä£UsÈ¯LbîƲŚºyhr@ĒÔƀÀ²º\\êpJ}ĠvqtĠ@^xÀ£È¨mËÏğ}n¹_¿¢×Y_æpÅA^{½Lu¨GO±Õ½ßM¶wÁĢÛPƢ¼pcĲx|apÌ¬HÐŊSfsðBZ¿©XÏÒKk÷Eû¿SrEFsÕūkóVǥŉiTL¡n{uxţÏhôŝ¬ğōNNJkyPaqÂğ¤K®YxÉƋÁ]āęDqçgOgILu\\_gz]W¼~CÔē]bµogpÑ_oď`´³Țkl`IªºÎȄqÔþ»E³ĎSJ»_f·adÇqÇc¥Á_Źw{L^É±ćxU£µ÷xgĉp»ĆqNē`rĘzaĵĚ¡K½ÊBzyäKXqiWPÏÉ¸½řÍcÊG|µƕƣGË÷k°_^ý|_zċBZocmø¯hhcæ\\lMFlư£ĜÆyHF¨µêÕ]HAàÓ^it `þßäkĤÎT~Wlÿ¨ÔPzUCNVv [jâôDôď[}z¿msSh¯{jïğl}šĹ[őgK©U·µË@¾m_~q¡f¹ÅË^»f³ø}Q¡ÖË³gÍ±^Ç\\ëÃA_¿bWÏ[¶ƛé£F{īZgm@|kHǭƁć¦UĔť×ë}ǝeďºȡȘÏíBÉ£āĘPªĳ¶ŉÿy©nď£G¹¡I±LÉĺÑdĉÜW¥}gÁ{aqÃ¥aıęÏZï`"],encodeOffsets:[[104636,22969]]}},{type:"Feature",id:"540000",properties:{id:"540000",cp:[89.132212,30.860361],name:"西藏",childNum:1},geometry:{type:"Polygon",coordinates:["@@ÂhľxŖxÒVºÅâAĪÝȆµę¯Ňa±r_w~uSÕňqOj]ɄQ£ZUDûoY»©M[L¼qãË{VÍçWVi]ë©Ä÷àyƛhÚU°adcQ~Mx¥cc¡ÙaSyFÖk­uRýq¿ÔµQĽ³aG{¿FµëªéĜÿª@¬·K·àariĕĀ«V»ŶĴūgèLǴŇƶaftèBŚ£^âǐÝ®M¦ÁǞÿ¬LhJ¾óƾÆºcxwf]Y´¦|QLn°adĊ\\¨oǀÍŎ´ĩĀd`tÊQŞŕ|¨C^©Ĉ¦¦ÎJĊ{ëĎjª²rÐl`¼Ą[t|¦Stè¾PÜK¸dƄı]s¤î_v¹ÎVòŦj£Əsc¬_Ğ´|Ł¦Av¦w`ăaÝaa­¢e¤ı²©ªSªÈMĄwÉØŔì@T¤Ę\\õª@þo´­xA sÂtŎKzó´ÇĊµ¢r^nĊ­Æ¬×üG¢³ {âĊ]G~bÀgVjzlhǶfOfdªB]pjTOtĊn¤}®¦Č¥d¢¼»ddY¼t¢eȤJ¤}Ǿ¡°§¤AÐlc@ĝsªćļđAçwxUuzEÖġ~AN¹ÄÅȀŻ¦¿ģŁéì±Hãd«g[Ø¼ēÀcīľġ¬cJµÐʥVȝ¸ßS¹ý±ğkƁ¼ą^ɛ¤Ûÿb[}¬ōõÃ]ËNm®g@Bg}ÍF±ǐyL¥íCIĳÏ÷Ñį[¹¦[âšEÛïÁÉdƅß{âNÆāŨß¾ě÷yC£k­´ÓH@Â¹TZ¥¢į·ÌAÐ§®Zcv½Z­¹|ÅWZqgW|ieZÅYVÓqdqbc²R@c¥Rã»GeeƃīQ}J[ÒK¬Ə|oėjġĠÑN¡ð¯EBčnwôɍėª²CλŹġǝʅįĭạ̃ūȹ]ΓͧgšsgȽóϧµǛęgſ¶ҍć`ĘąŌJÞä¤rÅň¥ÖÁUětęuůÞiĊÄÀ\\Æs¦ÓRb|Â^řÌkÄŷ¶½÷f±iMÝ@ĥ°G¬ÃM¥n£Øąğ¯ß§aëbéüÑOčk£{\\eµª×MÉfm«Ƒ{Å×Gŏǩãy³©WÑăû··Qòı}¯ãIéÕÂZ¨īès¶ZÈsæĔTŘvgÌsN@îá¾ó@ÙwU±ÉTå»£TđWxq¹Zobs[×¯cĩvėŧ³BM|¹kªħ¥TzNYnÝßpęrñĠĉRS~½ěVVµõ«M££µBĉ¥áºae~³AuĐh`Ü³ç@BÛïĿa©|z²Ý¼D£àč²ŸIûI āóK¥}rÝ_Á´éMaň¨~ªSĈ½½KÙóĿeƃÆB·¬ën×W|Uº}LJrƳlŒµ`bÔ`QÐÓ@s¬ñIÍ@ûws¡åQÑßÁ`ŋĴ{ĪTÚÅTSÄ³Yo|Ç[Ç¾µMW¢ĭiÕØ¿@MhpÕ]jéò¿OƇĆƇpêĉâlØwěsǩĵ¸cbU¹ř¨WavquSMzeo_^gsÏ·¥Ó@~¯¿RiīB\\qTGªÇĜçPoÿfñòą¦óQīÈáPābß{ZŗĸIæÅhnszÁCËìñÏ·ąĚÝUm®ó­L·ăUÈíoù´Êj°ŁŤ_uµ^°ìÇ@tĶĒ¡ÆM³Ģ«İĨÅ®ğRāðggheÆ¢zÊ©Ô\\°ÝĎz~ź¤PnMĪÖB£kné§żćĆKĒ°¼L¶èâz¨u¦¥LDĘz¬ýÎmĘd¾ßFzhg²Fy¦ĝ¤ċņbÎ@yĄæm°NĮZRÖíJ²öLĸÒ¨Y®ƌÐVàtt_ÚÂyĠz]ŢhzĎ{ÂĢXc|ÐqfO¢¤ögÌHNPKŖUú´xx[xvĐCûĀìÖT¬¸^}Ìsòd´_KgžLĴÀBon|H@Êx¦BpŰŌ¿fµƌA¾zǈRx¶FkĄźRzŀ~¶[´HnªVƞuĒ­È¨ƎcƽÌm¸ÁÈM¦x͊ëÀxǆBú^´W£dkɾĬpw˂ØɦļĬIŚÊnŔa¸~J°îlɌxĤÊÈðhÌ®gT´øàCÀ^ªerrƘd¢İP|Ė ŸWªĦ^¶´ÂLaT±üWƜǀRÂŶUńĖ[QhlLüAÜ\\qRĄ©"],encodeOffsets:[[90849,37210]]}},{type:"Feature",id:"610000",properties:{id:"610000",cp:[108.948024,34.263161],name:"陕西",childNum:1},geometry:{type:"Polygon",coordinates:["@@p¢ȮµûGĦ}Ħðǚ¶òƄjɂz°{ºØkÈęâ¦jªBg\\ċ°s¬]jú EȌǆ¬stRÆdĠİwÜ¸ôW¾ƮłÒ_{Ìû¼jº¹¢GǪÒ¯ĘZ`ºŊecņą~BÂgzpâēòYǠȰÌTÎ¨ÂW|fcă§uF@N¢XLRMº[ğȣſï|¥Jkc`sŉǷY¹W@µ÷Kãï³ÛIcñ·VȋÚÒķø©þ¥yÓğęmWµÎumZyOŅƟĥÓ~sÑL¤µaÅY¦ocyZ{y c]{Ta©`U_Ěē£ωÊƍKùK¶ȱÝƷ§{û»ÅÁȹÍéuĳ|¹cÑdìUYOuFÕÈYvÁCqÓTǢí§·S¹NgV¬ë÷Át°DØ¯C´ŉƒópģ}ċcEËFéGU¥×K§­¶³BČ}C¿åċ`wġB·¤őcƭ²ő[Å^axwQOÿEËßŚĤNĔwƇÄńwĪ­o[_KÓª³ÙnKÇěÿ]ďă_d©·©Ýŏ°Ù®g]±ßå¬÷m\\iaǑkěX{¢|ZKlçhLtŇîŵœè[É@ƉĄEtƇÏ³­ħZ«mJ×¾MtÝĦ£IwÄå\\Õ{OwĬ©LÙ³ÙgBƕŀrÌĢŭO¥lãyC§HÍ£ßEñX¡­°ÙCgpťzb`wIvA|§hoĕ@E±iYd¥OĻ¹S|}F@¾oAO²{tfÜ¢FǂÒW²°BĤh^Wx{@¬­F¸¡ķn£P|ªĴ@^ĠĈæbÔc¶lYi^MicĎ°Â[ävï¶gv@ÀĬ·lJ¸sn|¼u~a]ÆÈtŌºJpþ£KKf~¦UbyäIĺãnÔ¿^­ŵMThĠÜ¤ko¼Ŏìąǜh`[tRd²Ĳ_XPrɲlXiL§à¹H°Ȧqº®QCbAŌJ¸ĕÚ³ĺ§ `d¨YjiZvRĺ±öVKkjGȊÄePĞZmļKÀ[`ösìhïÎoĬdtKÞ{¬èÒÒBÔpĲÇĬJŊ¦±J«Y§@·pHµàåVKepWftsAÅqC·¬ko«pHÆuK@oHĆÛķhxenS³àǍrqƶRbzy¸ËÐl¼EºpĤ¼x¼½~Ğà@ÚüdK^mÌSj"],encodeOffsets:[[110234,38774]]}},{type:"Feature",id:"620000",properties:{id:"620000",cp:[103.823557,36.058039],name:"甘肃",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@VuUv"],["@@ũEĠtt~nkh`Q¦ÅÄÜdwAb×ĠąJ¤DüègĺqBqj°lI¡ĨÒ¤úSHbjÎB°aZ¢KJO[|A£Dx}NĂ¬HUnrk kp¼Y kMJn[aGáÚÏ[½rc}aQxOgsPMnUsncZsKúvAtÞġ£®ĀYKdnFw¢JE°Latf`¼h¬we|Æbj}GA·~W`¢MC¤tL©Ĳ°qdfObÞĬ¹ttu`^ZúE`[@Æsîz®¡CƳƜG²R¢RmfwĸgÜą G@pzJM½mhVy¸uÈÔO±¨{LfæU¶ßGĂq\\ª¬²I¥IŉÈīoıÓÑAçÑ|«LÝcspīðÍgtë_õ\\ĉñLYnĝgRǡÁiHLlõUĹ²uQjYi§Z_c¨´ĹĖÙ·ŋIaBD­R¹ȥr¯GºßK¨jWkɱOqWĳ\\a­Q\\sg_ĆǛōëp»£lğÛgSŶN®À]ÓämĹãJaz¥V}Le¤Lýo¹IsŋÅÇ^bz³tmEÁ´a¹cčecÇNĊãÁ\\č¯dNj]jZµkÓdaćå]ğĳ@ ©O{¤ĸm¢E·®«|@Xwg]Aģ±¯XǁÑǳªcwQÚŝñsÕ³ÛV_ý¥\\ů¥©¾÷w©WÕÊĩhÿÖÁRo¸V¬âDb¨hûxÊ×ǌ~Zâg|XÁnßYoº§ZÅŘv[ĭÖʃuďxcVbnUSfB¯³_TzºÎO©çMÑ~M³]µ^püµÄY~y@X~¤Z³[Èōl@®Å¼£QK·Di¡ByÿQ_´D¥hŗy^ĭÁZ]cIzýah¹MĪğPs{ò²Vw¹t³ŜË[Ñ}X\\gsF£sPAgěp×ëfYHāďÖqēŭOÏëdLü\\it^c®RÊº¶¢H°mrY£B¹čIoľu¶uI]vģSQ{UŻÅ}QÂ|Ì°ƅ¤ĩŪU ęĄÌZÒ\\v²PĔ»ƢNHĂyAmƂwVm`]ÈbH`Ì¢²ILvĜH®¤Dlt_¢JJÄämèÔDëþgºƫaʎÌrêYi~ Îİ¤NpÀA¾Ĕ¼bð÷®üszMzÖĖQdȨýv§Tè|ªHÃ¾a¸|Ð ƒwKĢx¦ivr^ÿ ¸l öæfƟĴ·PJv}n\\h¹¶v·À|\\ƁĚN´ĜçèÁz]ġ¤²¨QÒŨTIlªťØ}¼˗ƦvÄùØEÂ«FïËIqōTvāÜŏíÛßÛVj³âwGăÂíNOPìyV³ŉĖýZso§HÑiYw[ß\\X¦¥c]ÔƩÜ·«jÐqvÁ¦m^ċ±R¦΋ƈťĚgÀ»IïĨʗƮ°ƝĻþÍAƉſ±tÍEÕÞāNUÍ¡\\ſčåÒʻĘm ƭÌŹöʥëQ¤µ­ÇcƕªoIýIÉ_mkl³ăƓ¦j¡YzŇi}Msßõīʋ }ÁVm_[n}eı­Uĥ¼ªI{Î§DÓƻėojqYhĹT©oūĶ£]ďxĩǑMĝq`B´ƃ˺Чç~²ņj@¥@đ´ί}ĥtPńÇ¾V¬ufÓÉCtÓ̻¹£G³]ƖƾŎĪŪĘ̖¨ʈĢƂlɘ۪üºňUðǜȢƢż̌ȦǼĤŊɲĖÂ­Kq´ï¦ºĒǲņɾªǀÞĈĂD½ĄĎÌŗĞrôñnN¼â¾ʄľԆ|Ǆ֦ज़ȗǉ̘̭ɺƅêgV̍ʆĠ·ÌĊv|ýĖÕWĊǎÞ´õ¼cÒÒBĢ͢UĜð͒s¨ňƃLĉÕÝ@ɛƯ÷¿Ľ­ĹeȏĳëCȚDŲyê×Ŗyò¯ļcÂßYtÁƤyAã˾J@ǝrý@¤rz¸oP¹ɐÚyáHĀ[JwcVeȴÏ»ÈĖ}ƒŰŐèȭǢόĀƪÈŶë;Ñ̆ȤМľĮEŔĹŊũ~ËUă{ĻƹɁύȩþĽvĽƓÉ@ēĽɲßǐƫʾǗĒpäWÐxnsÀ^ƆwW©¦cÅ¡Ji§vúF¶¨c~c¼īeXǚ\\đ¾JwÀďksãAfÕ¦L}waoZD½Ml«]eÒÅaÉ²áo½FõÛ]ĻÒ¡wYR£¢rvÓ®y®LFLzĈôe]gx}|KK}xklL]c¦£fRtív¦PĤoH{tK"]],encodeOffsets:[[[108619,36299]],[[108589,36341]]]}},{type:"Feature",id:"630000",properties:{id:"630000",cp:[96.778916,35.623178],name:"青海",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@InJm"],["@@CÆ½OŃĦsΰ~Ē³¦@@Ņi±è}ШƄ˹A³r_ĞǒNĪĐw¤^ŬĵªpĺSZgrpiƼĘÔ¨C|ÍJ©Ħ»®VĲ~f\\m `UnÂ~ʌĬàöNt~ňjy¢ZiƔ¥Ąk´nl`JÊJþ©pdƖ®È£¶ìRʦźõƮËnʼėæÑƀĎ[¢VÎĂMÖÝÎF²sƊƀÎBļýƞ¯ʘƭðħ¼Jh¿ŦęΌƇ¥²Q]Č¥nuÂÏri¸¬ƪÛ^Ó¦d¥[Wàx\\ZjÒ¨GtpþYŊĕ´zUOëPîMĄÁxH´áiÜUàîÜŐĂÛSuŎrJðÌ¬EFÁú×uÃÎkrĒ{V}İ«O_ÌËĬ©ÓŧSRÑ±§Ģ£^ÂyèçěM³Ƃę{[¸¿uºµ[gt£¸OƤĿéYõ·kĀq]juw¥DĩƍõÇPéÄ½G©ã¤GuȧþRcÕĕNyyût­øï»a½ē¿BMoį£Íj}éZËqbʍƬh¹ìÿÓAçãnIÃ¡I`ks£CG­ěUy×Cy@¶ʡÊBnāzGơMē¼±O÷õJËĚăVĪũƆ£¯{ËL½ÌzżVR|ĠTbuvJvµhĻĖHAëáa­OÇðñęNwœľ·LmI±íĠĩPÉ×®ÿscB³±JKßĊ«`ađ»·QAmOVţéÿ¤¹SQt]]Çx±¯A@ĉĳ¢Óļ©l¶ÅÛrŕspãRk~¦ª]Į­´FRåd­ČsCqđéFn¿ÅƃmÉx{W©ºƝºįkÕƂƑ¸wWūÐ©ÈF£\\tÈ¥ÄRÈýÌJ lGr^×äùyÞ³fjc¨£ÂZ|ǓMĝÏ@ëÜőRĝ÷¡{aïȷPu°ËXÙ{©TmĠ}Y³­ÞIňµç½©C¡į÷¯B»|St»]vųs»}MÓ ÿʪƟǭA¡fs»PY¼c¡»¦cċ­¥£~msĉPSi^o©AecPeǵkgyUi¿h}aHĉ^|á´¡HØûÅ«ĉ®]m¡qĉ¶³ÈyôōLÁstB®wn±ă¥HSòė£Së@×œÊăxÇN©©T±ª£Ĳ¡fb®Þbb_Ą¥xu¥B{łĝ³«`dƐt¤ťiñÍUuºí`£^tƃĲc·ÛLO½sç¥Ts{ă\\_»kÏ±q©čiìĉ|ÍI¥ć¥]ª§D{ŝŖÉR_sÿc³ĪōƿÎ§p[ĉc¯bKmR¥{³Ze^wx¹dƽÅ½ôIg §Mĕ ƹĴ¿ǣÜÍ]Ý]snåA{eƭ`ǻŊĿ\\ĳŬűYÂÿ¬jĖqßb¸L«¸©@ěĀ©ê¶ìÀEH|´bRľÓ¶rÀQþvl®ÕETzÜdb hw¤{LRdcb¯ÙVgƜßzÃôì®^jUèXÎ|UäÌ»rK\\ªN¼pZCüVY¤ɃRi^rPŇTÖ}|br°qňbĚ°ªiƶGQ¾²x¦PmlŜ[Ĥ¡ΞsĦÔÏâ\\ªÚŒU\\f¢N²§x|¤§xĔsZPòʛ²SÐqF`ªVÞŜĶƨVZÌL`¢dŐIqr\\oäõFÎ·¤»Ŷ×h¹]ClÙ\\¦ďÌį¬řtTӺƙgQÇÓHţĒ´ÃbEÄlbʔC|CŮkƮ[ʼ¬ň´KŮÈΰÌĪ¶ƶlðļATUvdTGº̼ÔsÊDÔveOg"]],encodeOffsets:[[[105308,37219]],[[95370,40081]]]}},{type:"Feature",id:"640000",properties:{id:"640000",cp:[106.278179,37.26637],name:"宁夏",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@KëÀęĞ«Oęȿȕı]ŉ¡åįÕÔ«ǴõƪĚQÐZhv K°öqÀÑS[ÃÖHƖčËnL]ûcÙß@ĝ¾}w»»oģF¹»kÌÏ·{zP§B­¢íyÅt@@á]Yv_ssģ¼ißĻL¾ġsKD£¡N_X¸}B~HaiÅf{«x»ge_bsKF¯¡IxmELcÿZ¤­ĢÝsuBLùtYdmVtNmtOPhRw~bd¾qÐ\\âÙH\\bImlNZ»loqlVmGā§~QCw¤{A\\PKNY¯bFkC¥sks_Ã\\ă«¢ħkJi¯rrAhĹûç£CUĕĊ_ÔBixÅÙĄnªÑaM~ħpOu¥sîeQ¥¤^dkKwlL~{L~hw^ófćKyE­K­zuÔ¡qQ¤xZÑ¢^ļöÜ¾Ep±âbÊÑÆ^fk¬NC¾YpxbK~¥eÖäBlt¿Đx½I[ĒǙWf»Ĭ}d§dµùEuj¨IÆ¢¥dXªƅx¿]mtÏwßRĶX¢͎vÆzƂZò®ǢÌʆCrâºMÞzÆMÒÊÓŊZÄ¾r°Î®Ȉmª²ĈUªĚîøºĮ¦ÌĘk^FłĬhĚiĀĖ¾iİbjÕ"],["@@mfwěwMrŢªv@G"]],encodeOffsets:[[[109366,40242]],[[108600,36303]]]}},{type:"Feature",id:"650000",properties:{id:"650000",cp:[85.617733,40.792818],name:"新疆",childNum:1},geometry:{type:"Polygon",coordinates:["@@QØĔ²X¨~ǘBºjʐßØvKƔX¨vĊOÃ·¢i@~cĝe_«E}QxgɪëÏÃ@sÅyXoŖ{ô«ŸuXêÎf`C¹ÂÿÐGĮÕĞXŪōŸMźÈƺQèĽôe|¿ƸJR¤ĘEjcUóº¯Ĩ_ŘÁMª÷Ð¥OéÈ¿ÖğǤǷÂFÒzÉx[]­Ĥĝœ¦EP}ûƥé¿İƷTėƫœŕƅƱB»Đ±ēO¦E}`cȺrĦáŖuÒª«ĲπdƺÏØZƴwʄ¤ĖGĐǂZĶèH¶}ÚZצʥĪï|ÇĦMŔ»İĝǈì¥Βba­¯¥ǕǚkĆŵĦɑĺƯxūД̵nơʃĽá½M»òmqóŘĝčË¾ăCćāƿÝɽ©ǱŅ¹đ¥³ðLrÁ®ɱĕģŉǻ̋ȥơŻǛȡVï¹Ň۩ûkɗġƁ§ʇė̕ĩũƽō^ƕUv£ƁQïƵkŏ½ΉÃŭÇ³LŇʻ«ƭ\\lŭD{ʓDkaFÃÄa³ŤđÔGRÈƚhSӹŚsİ«ĐË[¥ÚDkº^Øg¼ŵ¸£EÍöůŉT¡c_ËKYƧUśĵÝU_©rETÏʜ±OñtYwē¨{£¨uM³x½şL©Ùá[ÓÐĥ Νtģ¢\\śnkOw¥±T»ƷFɯàĩÞáB¹ÆÑUwŕĽw[mG½Èå~Æ÷QyěCFmĭZīŵVÁƿQƛûXS²b½KÏ½ĉS©ŷXĕ{ĕK·¥Ɨcqq©f¿]ßDõU³h­gËÇïģÉɋwk¯í}I·œbmÉřīJɥĻˁ×xoɹīlc¤³Xù]ǅA¿w͉ì¥wÇN·ÂËnƾƍdÇ§đ®ƝvUm©³G\\}µĿQyŹlăµEwǇQ½yƋBe¶ŋÀůo¥AÉw@{Gpm¿AĳŽKLh³`ñcËtW±»ÕSëüÿďDu\\wwwù³VLŕOMËGh£õP¡erÏd{ġWÁč|yšg^ğyÁzÙs`s|ÉåªÇ}m¢Ń¨`x¥ù^}Ì¥H«YªƅAÐ¹n~ź¯f¤áÀzgÇDIÔ´AňĀÒ¶ûEYospõD[{ù°]uJqU|Soċxţ[õÔĥkŋÞŭZËºóYËüċrw ÞkrťË¿XGÉbřaDü·Ē÷AÃª[ÄäIÂ®BÕĐÞ_¢āĠpÛÄȉĖġDKwbmÄNôfƫVÉviǳHQµâFù­Âœ³¦{YGd¢ĚÜO {Ö¦ÞÍÀP^bƾl[vt×ĈÍEË¨¡Đ~´î¸ùÎhuè`¸HÕŔVºwĠââWò@{ÙNÝ´ə²ȕn{¿¥{l÷eé^eďXj©î\\ªÑòÜìc\\üqÕ[Č¡xoÂċªbØ­ø|¶ȴZdÆÂońéG\\¼C°ÌÆn´nxÊOĨŪƴĸ¢¸òTxÊǪMīĞÖŲÃɎOvʦƢ~FRěò¿ġ~åŊúN¸qĘ[Ĕ¶ÂćnÒPĒÜvúĀÊbÖ{Äî¸~Ŕünp¤ÂH¾ĄYÒ©ÊfºmÔĘcDoĬMŬS¤s²ʘÚžȂVŦ èW°ªB|ĲXŔþÈJĦÆæFĚêYĂªĂ]øªŖNÞüAfɨJ¯ÎrDDĤ`mz\\§~D¬{vJÂ«lµĂb¤pŌŰNĄ¨ĊXW|ų ¿¾ɄĦƐMTòP÷fØĶK¢ȝ˔Sô¹òEð­`Ɩ½ǒÂň×äı§ĤƝ§C~¡hlåǺŦŞkâ~}FøàĲaĞfƠ¥Ŕd®U¸źXv¢aƆúŪtŠųƠjdƺƺÅìnrh\\ĺ¯äɝĦ]èpĄ¦´LƞĬ´ƤǬ˼Ēɸ¤rºǼ²¨zÌPðŀbþ¹ļD¢¹\\ĜÑŚ¶ZƄ³àjĨoâȴLÊȮĐ­ĚăÀêZǚŐ¤qȂ\\L¢ŌİfÆs|zºeªÙæ§΢{Ā´ƐÚ¬¨Ĵà²łhʺKÞºÖTiƢ¾ªì°`öøu®Ê¾ãØ"],encodeOffsets:[[88824,50096]]}},{type:"Feature",id:"110000",properties:{id:"110000",cp:[116.405285,39.904989],name:"北京",childNum:1},geometry:{type:"Polygon",coordinates:["@@ĽOÁûtŷmiÍt_H»Ĩ±d`¹­{bwYr³S]§§o¹qGtm_SŧoaFLgQN_dV@Zom_ć\\ßcÂ±x¯oœRcfe£o§ËgToÛJíĔóu|wP¤XnO¢ÉŦ¯rNÄā¤zâŖÈRpŢZÚ{GrFt¦Òx§ø¹RóäV¤XdżâºWbwŚ¨Ud®bêņ¾jnŎGŃŶnzÚSeîĜZczî¾i]ÍQaúÍÔiþĩȨWĢü|Ėu[qb[swP@ÅğP¿{\\¥A¨ÏÑ¨j¯X\\¯MKpA³[Hīu}}"],encodeOffsets:[[120023,41045]]}},{type:"Feature",id:"120000",properties:{id:"120000",cp:[117.190182,39.125596],name:"天津",childNum:1},geometry:{type:"Polygon",coordinates:["@@ŬgX§Ü«E¶FÌ¬O_ïlÁgz±AXeµÄĵ{¶]gitgIj·¥îakS¨ÐƎk}ĕ{gBqGf{¿aU^fIư³õ{YıëNĿk©ïËZŏR§òoY×Ógcĥs¡bġ«@dekąI[nlPqCnp{ō³°`{PNdƗqSÄĻNNâyj]äÒD ĬH°Æ]~¡HO¾X}ÐxgpgWrDGpù^LrzWxZ^¨´T\\|~@IzbĤjeĊªz£®ĔvěLmV¾Ô_ÈNW~zbĬvG²ZmDM~~"],encodeOffsets:[[120237,41215]]}},{type:"Feature",id:"310000",properties:{id:"310000",cp:[121.472644,31.231706],name:"上海",childNum:6},geometry:{type:"MultiPolygon",coordinates:[["@@ɧư¬EpƸÁxc"],["@@©ª"],["@@MA"],["@@QpİE§ÉC¾"],["@@bŝÕÕEȣÚƥêImɇǦèÜĠÚÃƌÃ͎ó"],["@@ǜûȬɋŭ×^sYɍDŋŽąñCG²«ªč@h_p¯A{oloY¬j@Ĳ`gQÚhr|ǀ^MĲvtbe´R¯Ô¬¨Yô¤r]ìƬį"]],encodeOffsets:[[[124702,32062]],[[124547,32200]],[[124808,31991]],[[124726,32110]],[[124903,32376]],[[124438,32149]]]}},{type:"Feature",id:"500000",properties:{id:"500000",cp:[107.304962,29.533155],name:"重庆",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@vjG~nGŘŬĶȂƀƾ¹¸ØÎezĆT¸}êÐqHðqĖä¥^CÆIj²p\\_ æüY|[YxƊæu°xb®Űb@~¢NQt°¶Sæ Ê~rǉĔëĚ¢~uf`faĔJåĊnÖ]jƎćÊ@£¾a®£Ű{ŶĕFègLk{Y|¡ĜWƔtƬJÑxq±ĢN´òKLÈÃ¼D|s`ŋć]Ã`đMûƱ½~Y°ħ`ƏíW½eI½{aOIrÏ¡ĕŇapµÜƅġ^ÖÛbÙŽŏml½SêqDu[RãË»ÿw`»y¸_ĺę}÷`M¯ċfCVµqŉ÷Zgg`d½pDOÎCn^uf²ènh¼WtƏxRGg¦pVFI±G^Ic´ecGĹÞ½sëĬhxW}KÓe­XsbkF¦LØgTkïƵNï¶}Gyw\\oñ¡nmĈzj@Óc£»Wă¹Ój_m»¹·~MvÛaq»­ê\\ÂoVnÓØÍ²«bq¿efE Ĝ^Q~ Évýş¤²ĮpEİ}zcĺL½¿gÅ¡ýE¡ya£³t\\¨\\vú»¼§·Ñr_oÒý¥u_n»_At©ÞÅ±ā§IVeëY}{VPÀFA¨ąB}q@|Ou\\FmQFÝMwå}]|FmÏCawu_p¯sfÙgYDHl`{QEfNysB¦zG¸rHeN\\CvEsÐùÜ_·ÖĉsaQ¯}_UxÃđqNH¬Äd^ÝŰR¬ã°wećJE·vÝ·HgéFXjÉê`|ypxkAwWĐpb¥eOsmzwqChóUQl¥F^lafanòsrEvfQdÁUVfÎvÜ^eftET¬ôA\\¢sJnQTjPØxøK|nBzĞ»LYFDxÓvr[ehľvN¢o¾NiÂxGpâ¬zbfZo~hGi]öF||NbtOMn eA±tPTLjpYQ|SHYĀxinzDJÌg¢và¥Pg_ÇzIIII£®S¬ØsÎ¼£N"],["@@ifjN@s"]],encodeOffsets:[[[109628,30765]],[[111725,31320]]]}},{type:"Feature",id:"810000",properties:{id:"810000",cp:[114.173355,22.320048],name:"香港",childNum:5},geometry:{type:"MultiPolygon",coordinates:[["@@AlBk"],["@@mn"],["@@EpFo"],["@@ea¢pl¸Eõ¹hj[]ÔCÎ@lj¡uBX´AI¹[yDU]W`çwZkmcMpÅv}IoJlcafŃK°ä¬XJmÐ đhI®æÔtSHnEÒrÈc"],["@@rMUwAS®e"]],encodeOffsets:[[[117111,23002]],[[117072,22876]],[[117045,22887]],[[116975,23082]],[[116882,22747]]]}},{type:"Feature",id:"820000",properties:{id:"820000",cp:[113.54909,22.198951],name:"澳门",childNum:1},geometry:{type:"Polygon",coordinates:["@@kÊd°å§s"],encodeOffsets:[[116279,22639]]}}],UTF8Encoding:!0}):a("ECharts Map is not loaded"):a("ECharts is not Loaded")},l=[e,a("Pg0u")],void 0===(o="function"==typeof(i=n)?i.apply(e,l):i)||(t.exports=o)},BwfY:function(t,e,a){a("fWfb"),a("M6a0"),a("OYls"),a("QWe/"),t.exports=a("FeBl").Symbol},C4MV:function(t,e,a){t.exports={default:a("9bBU"),__esModule:!0}},C512:function(t,e){},CKZy:function(t,e){},CwSZ:function(t,e,a){"use strict";var i=a("p8xL"),l=a("XgCd"),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},n=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(t){return n.call(t)},skipNulls:!1,strictNullHandling:!1},r=function t(e,a,l,o,n,s,r,c,d,u,p,h){var m=e;if("function"==typeof r)m=r(a,m);else if(m instanceof Date)m=u(m);else if(null===m){if(o)return s&&!h?s(a):a;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||i.isBuffer(m))return s?[p(h?a:s(a))+"="+p(s(m))]:[p(a)+"="+p(String(m))];var g,f=[];if(void 0===m)return f;if(Array.isArray(r))g=r;else{var v=Object.keys(m);g=c?v.sort(c):v}for(var b=0;b<g.length;++b){var y=g[b];n&&null===m[y]||(f=Array.isArray(m)?f.concat(t(m[y],l(a,y),l,o,n,s,r,c,d,u,p,h)):f.concat(t(m[y],a+(d?"."+y:"["+y+"]"),l,o,n,s,r,c,d,u,p,h)))}return f};t.exports=function(t,e){var a=t,i=e||{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");var n=void 0===i.delimiter?s.delimiter:i.delimiter,c="boolean"==typeof i.strictNullHandling?i.strictNullHandling:s.strictNullHandling,d="boolean"==typeof i.skipNulls?i.skipNulls:s.skipNulls,u="boolean"==typeof i.encode?i.encode:s.encode,p="function"==typeof i.encoder?i.encoder:s.encoder,h="function"==typeof i.sort?i.sort:null,m=void 0!==i.allowDots&&i.allowDots,g="function"==typeof i.serializeDate?i.serializeDate:s.serializeDate,f="boolean"==typeof i.encodeValuesOnly?i.encodeValuesOnly:s.encodeValuesOnly;if(void 0===i.format)i.format=l.default;else if(!Object.prototype.hasOwnProperty.call(l.formatters,i.format))throw new TypeError("Unknown format option provided.");var v,b,y=l.formatters[i.format];"function"==typeof i.filter?a=(b=i.filter)("",a):Array.isArray(i.filter)&&(v=b=i.filter);var _,x=[];if("object"!=typeof a||null===a)return"";_=i.arrayFormat in o?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var w=o[_];v||(v=Object.keys(a)),h&&v.sort(h);for(var C=0;C<v.length;++C){var D=v[C];d&&null===a[D]||(x=x.concat(r(a[D],D,w,c,d,u?p:null,b,h,m,g,y,f)))}return x.join(n)}},"D+wR":function(t,e){},DDCP:function(t,e,a){"use strict";var i=a("p8xL"),l=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},n=function(t,e,a){if(!t.length)return e;var i,l=t.shift();if("[]"===l)i=(i=[]).concat(n(t,e,a));else{i=a.plainObjects?Object.create(null):{};var o="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,s=parseInt(o,10);!isNaN(s)&&l!==o&&String(s)===o&&s>=0&&a.parseArrays&&s<=a.arrayLimit?(i=[])[s]=n(t,e,a):i[o]=n(t,e,a)}return i},s=function(t,e,a){if(t){var i=a.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,s=/(\[[^[\]]*])/.exec(i),r=s?i.slice(0,s.index):i,c=[];if(r){if(!a.plainObjects&&l.call(Object.prototype,r)&&!a.allowPrototypes)return;c.push(r)}for(var d=0;null!==(s=o.exec(i))&&d<a.depth;){if(d+=1,!a.plainObjects&&l.call(Object.prototype,s[1].slice(1,-1))&&!a.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+i.slice(s.index)+"]"),n(c,e,a)}};t.exports=function(t,e){var a=e||{};if(null!==a.decoder&&void 0!==a.decoder&&"function"!=typeof a.decoder)throw new TypeError("Decoder has to be a function.");if(a.delimiter="string"==typeof a.delimiter||i.isRegExp(a.delimiter)?a.delimiter:o.delimiter,a.depth="number"==typeof a.depth?a.depth:o.depth,a.arrayLimit="number"==typeof a.arrayLimit?a.arrayLimit:o.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder="function"==typeof a.decoder?a.decoder:o.decoder,a.allowDots="boolean"==typeof a.allowDots?a.allowDots:o.allowDots,a.plainObjects="boolean"==typeof a.plainObjects?a.plainObjects:o.plainObjects,a.allowPrototypes="boolean"==typeof a.allowPrototypes?a.allowPrototypes:o.allowPrototypes,a.parameterLimit="number"==typeof a.parameterLimit?a.parameterLimit:o.parameterLimit,a.strictNullHandling="boolean"==typeof a.strictNullHandling?a.strictNullHandling:o.strictNullHandling,""===t||null===t||void 0===t)return a.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){for(var a={},i=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0;o<i.length;++o){var n,s,r=i[o],c=-1===r.indexOf("]=")?r.indexOf("="):r.indexOf("]=")+1;-1===c?(n=e.decoder(r),s=e.strictNullHandling?null:""):(n=e.decoder(r.slice(0,c)),s=e.decoder(r.slice(c+1))),l.call(a,n)?a[n]=[].concat(a[n]).concat(s):a[n]=s}return a}(t,a):t,r=a.plainObjects?Object.create(null):{},c=Object.keys(n),d=0;d<c.length;++d){var u=c[d],p=s(u,n[u],a);r=i.merge(r,p,a)}return i.compact(r)}},E9qc:function(t,e){},EGZi:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},Eh60:function(t,e,a){"use strict";var i=a("ZpFI"),l=(a("cOje"),{data:function(){return{treeWKData:i.a.treeWorkSpace,user:localStorage.getItem("user")}},methods:{changeLocale:function(){this.$confirm(this.$t("layer.toggle"),this.$t("layer.tips"),{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then(function(){var t=window.vm.$i18n.locale;window.vm.$i18n.locale="zh"===t?"en":"zh",localStorage.setItem("locale",window.vm.$i18n.locale),i.a.treeWorkSpace[0].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.label"),i.a.treeWorkSpace[0].children[0].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.children.label1"),i.a.treeWorkSpace[0].children[1].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.children.label2"),i.a.treeWorkSpace[0].children[2].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.children.label3"),i.a.treeData2d[0].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.mapLabel"),i.a.treeData2d[1].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.workLabel"),i.a.treeData2d[0].children[0].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.WFS"),i.a.treeData2d[0].children[1].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.WMS"),i.a.treeData2d[0].children[2].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.WMTS"),i.a.treeData2d[0].children[2].children[0].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.imageLabel"),i.a.treeData2d[0].children[2].children[1].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.vectorLabel"),i.a.treeData2d[0].children[2].children[2].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.taggingLabel"),i.a.treeData2d[0].children[2].children[3].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.chinaLabel"),i.a.treeData2d[0].children[2].children[4].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.asiaLabel")})},logOut:function(){var t=this;t.$confirm(window.vm.$i18n.t("headerInner.tip"),window.vm.$i18n.t("layer.tips"),{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then(function(){t.axios.post(WebConfig.ServicesIpPort+"/logout").then(function(e){0==e.data.retCode&&(t.$router.push("/LogIn"),t.$store.state.Global.twoDTempLayers=[],t.$store.state.Global.workspaceTabArr=[],t.$store.state.Global.workspaceActiveTabValue="default",t.treeWKData[0].children[0].children=[],t.treeWKData[0].children[1].children=[],t.treeWKData[0].children[2].children=[],t.$store.state.Global.algManage=!1,t.$store.state.Global.sharingProductionsManage=!1,t.$store.state.Global.suggesstionFeedBackManage=!1,t.$store.state.Global.algorithmUseStatistics=!1,t.$store.state.Global.addressDetection=!1,t.$store.state.Global.activeTabValue="工作区",localStorage.clear(),t.$store.state.LocalDB.db.deleteIndexDB(),t.$message({message:e.data.data,type:"success"}))}).catch(function(e){t.$message({type:"info",message:window.vm.$i18n.t("headerInner.logoutFail")})})}).catch(function(){})}}}),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myHeader"},[t._m(0),t._v(" "),a("div",{staticStyle:{position:"absolute",top:"0px",right:"0px","padding-right":"5px","padding-top":"5px"}},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.changeLocale}},[a("span",{staticStyle:{color:"white"}},[t._v("CN/EN")])])],1),t._v(" "),a("div",{staticClass:"myHeader-right clearfix"},[a("div",{staticClass:"myHeader-line fl"}),t._v(" "),a("div",{staticClass:"fl cp login"},[a("ul",{staticClass:"login-ul"},[a("li",[t._v("\n                      "+t._s(t.$t("userInfo.currentUsername"))),a("span",{staticClass:"userSpan"},[t._v(t._s(t.user))]),t._v(" "),a("span",{staticClass:"user",on:{click:t.logOut}},[t._v(t._s(t.$t("userInfo.logout")))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-container"},[e("div",{staticClass:"logoborder"},[e("div",{staticClass:"logo3"})])])}]};var n=a("VU/8")(l,o,!1,function(t){a("YL5P")},"data-v-ce1e96c2",null);e.a=n.exports},Emfq:function(t,e){},FUXX:function(t,e){},Ffwx:function(t,e){},HpRW:function(t,e,a){"use strict";var i=a("kM2E"),l=a("lOnJ"),o=a("+ZMJ"),n=a("NWt+");t.exports=function(t){i(i.S,t,{from:function(t){var e,a,i,s,r=arguments[1];return l(this),(e=void 0!==r)&&l(r),void 0==t?new this:(a=[],e?(i=0,s=o(r,arguments[2],2),n(t,!1,function(t){a.push(s(t,i++))})):n(t,!1,a.push,a),new this(a))}})}},If3l:function(t,e,a){var i=a("bbmn");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("2ac31245",i,!0,{})},Kh4W:function(t,e,a){e.f=a("dSzd")},LIJb:function(t,e,a){var i=a("EqjI");t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},LKZe:function(t,e,a){var i=a("NpIQ"),l=a("X8DO"),o=a("TcQ7"),n=a("MmMw"),s=a("D2L2"),r=a("SfB7"),c=Object.getOwnPropertyDescriptor;e.f=a("+E39")?c:function(t,e){if(t=o(t),e=n(e,!0),r)try{return c(t,e)}catch(t){}if(s(t,e))return l(!i.f.call(t,e),t[e])}},M3Rz:function(t,e){},M6a0:function(t,e){},MG8D:function(t,e){},Mhyx:function(t,e,a){var i=a("/bQp"),l=a("dSzd")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[l]===t)}},MsXq:function(t,e){},NBxo:function(t,e){},"NWt+":function(t,e,a){var i=a("+ZMJ"),l=a("msXi"),o=a("Mhyx"),n=a("77Pl"),s=a("QRG4"),r=a("3fs2"),c={},d={};(e=t.exports=function(t,e,a,u,p){var h,m,g,f,v=p?function(){return t}:r(t),b=i(a,u,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(h=s(t.length);h>y;y++)if((f=e?b(n(m=t[y])[0],m[1]):b(t[y]))===c||f===d)return f}else for(g=v.call(t);!(m=g.next()).done;)if((f=l(g,b,m.value,e))===c||f===d)return f}).BREAK=c,e.RETURN=d},OYls:function(t,e,a){a("crlp")("asyncIterator")},Ofov:function(t,e){},PzxK:function(t,e,a){var i=a("D2L2"),l=a("sB3e"),o=a("ax3d")("IE_PROTO"),n=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=l(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?n:null}},"Q/IR":function(t,e){},"QDA/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("UwjZ"),l=a("/sA3"),o=(a("q00Q"),a("ZpFI")),n=a("Yaes"),s=a("BmLr"),r={components:{imageExport:n.a},props:["dataId","plotlydivId","type","flagType"],data:function(){return{imageFlag:!1,max:0,min:0,colorArr:[{name:"Rainbow",color:["#9966FF","#0000FF","#00FF00","#FFFF00","#FF6600","#FF0000"],scale:[0,.2,.4,.6,.8,1]},{name:"Terrain",color:["#C8D785","#ABD9B1","#7CC478","#75C178","#AFCCA6","#DBD04E","#F1CF0E","#F2A700","#C09F0D","#D3C070","#F0DBA1","#FCECC0","#F8FAEA","#E5FEFA","#DBFFFD","#D6FBFC","#B7F4F7","#73E0F1","#1DBCEF","#0089F5","#0050FA"],scale:[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1]},{name:"Rainbow2",color:["#000000","#0000FF","#00FFFF","#009900","#FFFF00","#FF0000","#FFFFFF","#FFFFFF"],scale:[0,.11,.26,.49,.59,.8,.96,1]},{name:"Grayscale",color:["#000000","#FFFFFF"],scale:[0,1]},{name:"Jet",color:["#0001FF","#0060FF","#00BEFF","#00F8EC","#19A300","#A7DB00","#FFE600","#FFA200","#FF5F00","#FF9090","#FF1B00"],scale:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]},{name:"Gravity",color:["#FF00FF","#9900CC","#00FFFF","#00FF00","#FFFF00","#FF0000","#FFFFFF"],scale:[0,.15,.35,.55,.64,.78,1]}],Rainbow:["#0001FF","#0060FF","#00BEFF","#00F8EC","#19A300","#A7DB00","#FFE600","#FFA200","#FF5F00","#FF9090","#FF1B00"],RainbowNumber:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],colorArrNow:[],colorScaleNow:[],figure:{title:"专题图名称",xtitle:"Distance/（m）",y1title:"Distance/（m）"},showFlag:!0,Accept:".grd",colourLevelModel:"Jet",colourLevel:[{value:"Jet",img:a("aMwd")},{value:"Rainbow",img:a("ogvo")},{value:"Rainbow2",img:a("vk2z")},{value:"Terrain",img:a("iRWg")},{value:"Grayscale",img:a("R9GL")},{value:"Gravity",img:a("roq9")}],colormap:{Greys:a("cspp"),Picnic:a("7yYV"),Portland:a("Ygyn"),RdBu:a("M053"),Greens:a("M/ie"),Hot:a("VtNA"),Jet:a("aMwd"),Electric:a("XsTw"),Blackbody:a("LI+s"),Bluered:a("scUE"),Viridis:a("FoOO"),YIOrRd:a("NLy3"),YIGnBu:a("pc37"),Earth:a("J1x4")},map2d:"",switch_data:!0,hover_data:!1,slider_data:15,switch_coutourLines:!0,lineWidth:.5,plot_data:[{z:[],x:[],y:[],type:"contour",paper_bgcolor:"none",plot_bgcolor:"none",autoscale:!0,zsmooth:"best",zmax:"",zmin:"",hoverinfo:"none",colorscale:null,contours:{start:"",end:"",size:"",coloring:"contour",showlabels:!0,labelfont:{family:"Raleway",size:12,color:"black"},z:{show:!0,usecolormap:!0,highlightcolor:"#42f462",project:{z:!0}}},line:{width:.5}}],layout:{title:"等值线图",height:this.getHeight(),width:this.getWidth(),margin:{t:50,b:80,l:80,r:0},xaxis:{title:"X",showline:!0,mirror:"allticks",ticks:s.a.state.ticks,exponentformat:"none",autorange:"false",expoents:"none"},yaxis:{title:"Y",showline:!0,mirror:"allticks",expoents:"none",ticks:s.a.state.ticks,exponentformat:"none",autorange:"false",scaleanchor:"x"},annotations:[{showarrow:!1,text:"",x:0,y:0,xref:"paper",yref:"paper"}]},colorDataDefault:[{value:1,color:"rgb(0,1,255)",action:"删除"},{value:2,color:"rgb(0,96,255)",action:"删除"},{value:3,color:"rgb(0,190,255)",action:"删除"},{value:4,color:"rgb(0,248,236)",action:"删除"},{value:5,color:"rgb(0,223,174)",action:"删除"},{value:6,color:"rgb(0,198,113)",action:"删除"},{value:7,color:"rgb(0,174,51)",action:"删除"},{value:8,color:"rgb(25,163,0)",action:"删除"},{value:9,color:"rgb(167,219,0)",action:"删除"},{value:10,color:"rgb(255,230,0)",action:"删除"},{value:11,color:"rgb(255,162,0)",action:"删除"},{value:12,color:"rgb(255,95,0)",action:"删除"},{value:13,color:"rgb(255,53,53)",action:"删除"},{value:14,color:"rgb(255,144,144)",action:"删除"},{value:15,color:"rgb(255,230,230)",action:"删除"}],colorData:[],valueForColor:0,reviseValueForColor:0,colorCount:18,customColor:"#19be6b",reviseCustomColor:"#19be6b",grdData:null,dataAll:null,isColourLevelSettingsVisible:!1,isColorTableVisible:!1,isReviseColorTableVisible:!1,isFigureVisible:!1,colorTableToProject:[],switchOpeConFlag:"展开",contourLineSetting:!0,plotlydiv:null,z_ScaleValue:[],z_ScaleColor:[],colorDataProject:[],reviseColorTableIndex:null,minValue:0,maxValue:0,initColorTableFlag:!0}},methods:{colorCountChange:function(){},changeType:function(t){if(this.plot_data[0].type=t,"contour"==t)this.layout.title="等值线图",this.showContour(!0),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("heatmap"==t)this.layout.title="影像图",this.showContour(!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("surface"==t){this.showContour(!1),this.layout.title="三维图";this.plot_data[0].x,this.plot_data[0].y,this.plot_data[0].z;this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)}},changeRender:function(t){this.$nextTick(function(){this.contourLineSetting="lines"!=t&&"heatmap"!=t}),this.plot_data[0].contours.coloring=t,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},slider_widthChange:function(){this.plot_data[0].line.width=this.lineWidth,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},switch_cLines:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.lineShow")),this.plot_data[0].contours.showlines=!0):(this.$Message.info(window.vm.$i18n.t("linesMap.lineClose")),this.plot_data[0].contours.showlines=!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},changeColourLevel:function(t){for(var e=0;e<this.colorArr.length;e++)if(this.colorArr[e].name==t){this.colorArrNow=this.colorArr[e].color,this.colorScaleNow=this.colorArr[e].scale;break}},changeFigure:function(){var t={title:this.figure.title,"xaxis.title":this.figure.xtitle,"yaxis.title":this.figure.y1title};this.$Plotly.relayout(this.plotlydiv,t)},changeColor:function(t){this.plot_data[0].colorscale=t,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},showContour:function(t){this.showFlag=!!t},slider_change:function(){},switch_change:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.markShow")),this.plot_data[0].contours.showlabels=!0):(this.$Message.info(window.vm.$i18n.t("linesMap.markClose")),this.plot_data[0].contours.showlabels=!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},hover_change:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.hoverShow")),this.plot_data[0].hoverinfo="x+y+z"):(this.$Message.info(window.vm.$i18n.t("linesMap.hoverClose")),this.plot_data[0].hoverinfo="none"),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},switchState:function(t){},getWidth:function(){return window.innerWidth-280},getHeight:function(){return window.innerHeight-200},initPage:function(){var t=this.dataId;void 0!=t&&l.a.getJsonFromDatabase(t,this.initContourMap)},initContourMap:function(t){this.min=t.grdData.zmin.toFixed(2),this.max=t.grdData.zmax.toFixed(2),this.colorArrNow=this.Rainbow,this.colorScaleNow=this.RainbowNumber,this.grdData=t.grdData,this.dataAll=t,this.grdData&&this.initColorTable(this.grdData),this.plot_data[0].x=t.grdData.x,this.plot_data[0].y=t.grdData.y,this.plot_data[0].z=t.grdData.z;var e=this.colorData.map(function(t){return t.value});this.plot_data[0].type=this.type,this.plot_data[0].contours.start=e[0],this.plot_data[0].contours.end=e[e.length-1],this.plot_data[0].contours.size=(e[e.length-1]-e[0])/(e.length-1),this.plotlydiv=document.getElementById(this.plotlydivId);var a=this.getWidth()-80,i=this.getHeight()-130,l=t.grdData.xmax-t.grdData.xmin,o=t.grdData.ymax-t.grdData.ymin;if(l/o<=.926*a/i){var n=(a-i*l/o)/2;this.layout.margin.l=80+n,this.layout.margin.r=n}else{var s=(i-.92*a*o/l)/2;this.layout.margin.t=50+s,this.layout.margin.b=80+s}if(t.colorConfig){this.plot_data[0].colorscale=t.colorConfig.colorscale,this.plot_data[0].contours=t.colorConfig.contours,this.slider_data=t.colorConfig.colorscale.length-1,this.colourLevelModel=t.colorConfig.colourLevelModel,this.minValue=parseFloat(t.colorConfig.contours.start),this.maxValue=parseFloat(t.colorConfig.contours.end);for(var r=[],c=0;c<t.colorConfig.colorscale.length;c++)r.push({value:(this.minValue+c*parseFloat(t.colorConfig.contours.size)).toFixed(2),color:t.colorConfig.colorscale[c][1],action:"删除"});this.colorData=r}this.$Plotly.newPlot(this.plotlydiv,this.plot_data,this.layout,{scrollZoom:!0,displaylogo:!1,modeBarButtonsToRemove:["toImage","zoomIn2d","zoomOut2d","toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]}),this.changeType(this.type)},sort:function(t){for(var e=0;e<t.length-1;e++)for(var a=0;a<t.length-1-e;a++)if(t[a]>t[a+1]){var i=t[a];t[a]=t[a+1],t[a+1]=i}},initColorTable:function(t){if(this.minValue=parseFloat(t.zmin).toFixed(2),this.maxValue=parseFloat(t.zmax).toFixed(2),this.z_ScaleColor=[],this.z_ScaleValue=[],"0"==this.flagType){this.slider_data=19;var e=t.zmax-t.zmin;this.z_ScaleValue.push((.005*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.012*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.02*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.03*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.045*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.08*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.15*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.25*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.4*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.6*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.75*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.85*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.92*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.955*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.97*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.98*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.988*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((.995*e+t.zmin).toFixed(2)),this.z_ScaleValue.push((e+t.zmin).toFixed(2))}else for(var a=(t.zmax-t.zmin)/this.slider_data,l=0;l<=this.slider_data;l++){var o=(l*a+t.zmin).toFixed(2);this.z_ScaleValue.push(o)}function n(t){if("#"==t.charAt(0))return t;var e=t.split(/\D+/);return"#"+function(t,e){for(var a=t.toString(16);a.length<e;)a="0"+a;return a}(65536*Number(e[1])+256*Number(e[2])+Number(e[3]),6)}for(var s=0;s<this.z_ScaleValue.length;s++)for(var r=s/(this.z_ScaleValue.length-1),c=0;c<this.colorScaleNow.length;c++)if(!(r>this.colorScaleNow[c])){if(r==this.colorScaleNow[c]){this.z_ScaleColor.push([r,this.colorArrNow[c]]);break}var d=(r-this.colorScaleNow[c-1])/(this.colorScaleNow[c]-this.colorScaleNow[c-1]),u=i.a.gradientColor(n(this.colorArrNow[c-1]),n(this.colorArrNow[c]),d);this.z_ScaleColor.push([r,u[0]]);break}this.plot_data[0].colorscale=this.z_ScaleColor;for(var p=[],h=0;h<this.z_ScaleColor.length;h++)p.push({value:this.z_ScaleValue[h],color:this.z_ScaleColor[h][1],action:"删除"});this.colorData=p},clearColorItem:function(){this.colorData=[]},defaultColorRender:function(){this.colorArrNow=this.Rainbow,this.colorScaleNow=this.RainbowNumber,15==this.slider_data?this.initColorTable(this.grdData):this.slider_data=15},addColorItem:function(){if(-1==this.colorData.map(function(t){return t.value}).indexOf(this.valueForColor)){var t=void 0,e=this.grdData.zmax-this.grdData.zmin,a=(this.valueForColor-this.grdData.zmin)/e,l=this.valueForColor/this.grdData.zmax;if(a<0||a>1)this.$Notice.warning({title:"错误添加",desc:"值不存在！",duration:.5});else{for(var o=0;o<this.RainbowNumber.length;o++)if(!(l>this.RainbowNumber[o])){if(l==this.RainbowNumber[o]){this.z_ScaleColor.push([a,this.Rainbow[o]]);break}var n=(l-this.RainbowNumber[o-1])/(this.RainbowNumber[o]-this.RainbowNumber[o-1]);t=i.a.gradientColor(this.Rainbow[o-1],this.Rainbow[o],n),this.z_ScaleColor.push([a,t[0]]);break}this.plot_data[0].colorscale=this.z_ScaleColor,this.colorData.push({value:this.valueForColor,color:t[0],action:"删除"}),this.colorData.sort(function(t,e){return t.value-e.value})}}else this.$Notice.warning({title:"重复添加",desc:"值已存在！",duration:.5})},applyColourLevelSettings:function(){this.colourLevelModel&&(this.plot_data[0].colorscale=this.colourLevelModel);var t=this.grdData.zmin,e=this.grdData.zmax,a=(e-t)/(this.slider_data-1);this.plot_data[0].contours.start=t,this.plot_data[0].contours.end=e,this.plot_data[0].contours.size=a,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},applyCustomColor:function(){if(parseFloat(this.minValue)<parseFloat(this.min)||parseFloat(this.maxValue)>parseFloat(this.max))this.$message({type:"warning",message:window.vm.$i18n.t("compareMap.outLimit")+window.vm.$i18n.t("compareMap.min")+parseFloat(this.min).toFixed(2)+window.vm.$i18n.t("compareMap.max")+parseFloat(this.max).toFixed(2)});else{if(this.initColorTableFlag){var t={zmin:parseFloat(this.minValue),zmax:parseFloat(this.maxValue)};this.initColorTable(t)}var e=this.colorData.map(function(t){return t.value});this.plot_data[0].contours.start=e[0],this.plot_data[0].contours.end=e[e.length-1],this.plot_data[0].contours.size=(this.plot_data[0].contours.end-this.plot_data[0].contours.start)/(this.colorData.length-1);for(var a,i=e[0],l=[],o=e[e.length-1]-i,n=!1,s=0;s<this.colorData.length;s++){var r=(this.colorData[s].value-i)/o;0!=r&&0==s?l.push([0,this.colorData[s].color]):s==this.colorData.length-1&&1!=r&&r<=1?l.push([1,this.colorData[s].color]):r>1?n?l.push([1,a]):(l.push([1,this.colorData[s].color]),a=this.colorData[s].color,n=!0):r<0?l.push([0,this.colorData[s].color]):l.push([r,this.colorData[s].color])}this.plot_data[0].colorscale=l,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);var c=this.dataAll;c.colorConfig={},c.colorConfig.colorscale=l,c.colorConfig.contours=this.plot_data[0].contours,c.colorConfig.colourLevelModel=this.colourLevelModel,this.$store.state.LocalDB.db.updateData(this.dataId,c,function(){})}},ParameterCalculation:function(){if(this.initColorTableFlag=!0,parseFloat(this.minValue)<parseFloat(this.min)||parseFloat(this.maxValue)>parseFloat(this.max))this.$message({type:"warning",message:window.vm.$i18n.t("compareMap.outLimit")+window.vm.$i18n.t("compareMap.min")+parseFloat(this.min).toFixed(2)+window.vm.$i18n.t("compareMap.max")+parseFloat(this.max).toFixed(2)});else if(this.initColorTableFlag){var t={zmin:parseFloat(this.minValue),zmax:parseFloat(this.maxValue)};this.initColorTable(t)}},applyReviseCustomColor:function(){if(parseFloat(this.reviseValueForColor)<parseFloat(this.min)||parseFloat(this.reviseValueForColor)>parseFloat(this.max))this.$message({type:"warning",message:window.vm.$i18n.t("compareMap.outLimit")+window.vm.$i18n.t("compareMap.min")+parseFloat(this.min).toFixed(2)+window.vm.$i18n.t("compareMap.max")+parseFloat(this.max).toFixed(2)});else{var t=this.colorData.map(function(t){return t.value});this.colorData.map(function(t){return t.color});-1==t.indexOf(this.reviseValueForColor)||this.reviseValueForColor==this.colorData[this.reviseColorTableIndex].value?(this.z_ScaleColor[this.reviseColorTableIndex][1]=this.reviseCustomColor,this.z_ScaleColor.sort(function(t,e){return t[0]-e[0]}),this.colorData[this.reviseColorTableIndex].value=this.reviseValueForColor,this.colorData[this.reviseColorTableIndex].color=this.reviseCustomColor,this.colorData.sort(function(t,e){return t.value-e.value}),this.plot_data[0].colorscale=this.z_ScaleColor):this.$Notice.warning({title:"重复添加",desc:"值已存在！",duration:.5})}},closeColorTable:function(){this.isColorTableVisible=!1},openColorScale:function(){this.isColourLevelSettingsVisible=!0},openColorTable:function(){this.isColorTableVisible=!0},openFigureTable:function(){this.isFigureVisible=!0},deleteColorTableRow:function(t){this.initColorTableFlag=!1,this.colorData.splice(t,1)},reviseColorTableRow:function(t){this.initColorTableFlag=!1,this.isReviseColorTableVisible=!0,this.reviseColorTableIndex=t,this.reviseValueForColor=this.colorData[this.reviseColorTableIndex].value,this.reviseCustomColor=this.colorData[this.reviseColorTableIndex].color},projectToMap:function(t){var e=this;l.a.getJsonFromDatabase(e.dataId,function(a){e.dataAll=a,"Null"!=e.dataAll.spatialReference?"projectTo2D"==t?e.projectTo2D():e.projectTo3D():e.$message({type:"warning",message:window.vm.$i18n.t("message.noCoornate")})})},projectTo2D:function(){this.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),this.projectTo2Dand3D("2d")},projectTo3D:function(){this.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),this.projectTo2Dand3D("3d")},projectTo2Dand3D:function(t){var e=this;e.$store.state.Global.percent=0,e.$store.state.Global.progressVisible=!0,l.a.changeSpatialReference(e.dataAll.spatialReference);for(var a,i=e.dataAll.data,n={traindata:[],datainterval:[],bounds:[],size:[]},s=[],r=[],c=[],d=99999,u=9999,p=0,h=0,m=!1,g=0;a=i[g++];){var f=[a.x,a.y],v=null;v="EPSG:4326"==e.dataAll.spatialReference?[a.x,a.y]:e.ol.proj.transform(f,e.dataAll.spatialReference,"EPSG:4326"),s.push(v[0]),r.push(v[1]),"NaN"==a.z?(c.push(1e6),m=!0):c.push(a.z),v[0]<d&&(d=v[0]),v[0]>p&&(p=v[0]),v[1]<u&&(u=v[1]),v[1]>h&&(h=v[1])}setTimeout(function(){100!=e.$store.state.Global.percent&&(e.$store.state.Global.percent=45)},1e3),n.traindata[0]=s,n.traindata[1]=r,n.traindata[2]=c,n.bounds[0]=d,n.bounds[1]=u,n.bounds[2]=p,n.bounds[3]=h,n.datainterval=e.colorData.map(function(t){return t.value}),n.datainterval.push(-1e5);var b=[];e.colorData.forEach(function(t){var e={};e.color=t.color,e.value=t.value,b.push(e)});for(var y=0;y<b.length;y++)0!=y?y!=b.length-1?b[y].value=e.colorData[y-1].value+"~"+e.colorData[y].value:b[y].value="> "+e.colorData[y].value:b[y].value="< "+e.colorData[y].value;e.$nextTick(function(){e.$store.state.Global.legendsOfProjectedMap=b,e.$store.state.Global.legendsOfProjectedMapVisible=!0}),e.colorDataProject=e.colorData,m&&(n.datainterval.push(1e6),e.colorDataProject.push({value:1e6,color:""})),n.datainterval.sort(function(t,e){return t-e}),n.size=[e.dataAll.grdData.xcount,e.dataAll.grdData.ycount],e.dataAll.clipGeo&&(n.isclip=!0,n.ClipGeo=e.dataAll.clipGeo),n.smooth=!1,setTimeout(function(){100!=e.$store.state.Global.percent&&(e.$store.state.Global.percent=60)},2500),e.axios.post(WebConfig.ServicesUrl+"/GetCountourPolygon",n).then(function(a){var i=[];if("ERROR"!=a.data.status){var l=JSON.parse(a.data.data);if("2d"==t){var s=o.a.treeData2d[1].children.map(function(t){return t.id});s.sort(function(t,e){return t-e});var r=new e.ol.source.Vector({features:(new e.ol.format.GeoJSON).readFeatures(l)}),c=100+Math.floor(10*Math.random());0!=s.length&&(c=s[s.length-1]+1);var g=null,f=new e.ol.layer.Vector({id:c,source:r,style:function(t){var a=t.get("lvalue");if(-1!=i.indexOf(a)||i.push(a),m&&1e6==a){o=new e.ol.style.Style({fill:new e.ol.style.Fill({color:"rgb(0,0,0,0)"})});return o}if(m&&a==n.datainterval[n.datainterval.length-2]){o=new e.ol.style.Style({fill:new e.ol.style.Fill({color:"rgb(0,0,0,0)"})});return o}for(var l=0;l<e.colorDataProject.length;l++){if(l==e.colorDataProject.length-1){g=e.colorDataProject[l];break}if(parseFloat(e.colorDataProject[l].value)<=a&&parseFloat(e.colorDataProject[l+1].value)>a){g=e.colorDataProject[l+1];break}}var o=new e.ol.style.Style({fill:new e.ol.style.Fill({color:g.color}),text:new e.ol.style.Text({text:(1*a).toFixed(2)+""})});return o}});i.sort(),console.log(i);var v={};v.id=c,v.label=window.vm.$i18n.t("linesMap.resultName")+"_"+e.dataAll.displayName,v.layerObj=r,v.shareObj={json:l,colorConfig:e.colorDataProject};for(var b=0;b<e.colorDataProject.length;b++)1e6==parseFloat(e.colorDataProject[b].value)&&e.colorDataProject.splice(b,1);o.a.treeData2d[1].children.push(v),e.$nextTick(function(){e.$store.state.Global.twoDLayerTree.setChecked(c,!0,!1)}),setTimeout(function(){100!=e.$store.state.Global.percent&&(e.$store.state.Global.percent=100)},2e3),setTimeout(function(){e.$store.state.Global.progressVisible=!1},2500),e.$store.state.Global.map2DHandler.addLayer(f),e.$store.state.Global.map2DHandler.getView().fit(r.getExtent()),e.$store.state.Global.activeTabValue="二维地图",e.$store.state.Global.twoDTempLayers.push(f),e.$message({message:window.vm.$i18n.t("linesMap.projectSuccess"),type:"success"})}else if("3d"==t){var y={camera:e.$store.state.Global.map3DHandler.scene.camera,canvas:e.$store.state.Global.map3DHandler.scene.canvas,clampToGround:!0};e.$store.state.Global.Cesium.GeoJsonDataSource.load(l,y).then(function(t){e.$store.state.Global.map3DHandler.dataSources.add(t);for(var a=t.entities.values,i=0;i<a.length;i++){var l=a[i],n=l.properties.hvalue._value,s=e.colorData.find(function(t){return t.value==n});l.polygon&&(l.polygon.material=e.$store.state.Global.Cesium.Color.fromCssColorString(s.color),l.polygon.outlineColor=e.$store.state.Global.Cesium.Color.WHITE)}e.$store.state.Global.activeTabValue="三维地图";var r=e.$store.state.Global.map3DHandler.entities.add({position:e.Cesium.Cartesian3.fromDegrees((d+p)/2,(u+h)/2),point:{pixelSize:1,color:e.Cesium.Color.YELLOW}}),c=200+Math.floor(10*Math.random()),m={};m.id=c,m.label=window.vm.$i18n.t("linesMap.resultName")+"_"+m.id,m.imageryLayer=t,m.viewEntity=r,m.visible=!0,o.a.treeData3d[1].children.push(m),e.$message({message:window.vm.$i18n.t("linesMap.projectSuccess"),type:"success"})})}}else e.$Message.info("后台数据处理异常")}).catch(function(t){console.log(t),e.$store.state.Global.progressVisible=!1,e.$store.state.Global.percent=0,e.$Message.info("后台服务连接异常")})},importConfig:function(t){var e=this,a=new FileReader;a.readAsText(t),a.onload=function(){var t=this.result.replace(/\r|\n/," ").split(/\s+/);e.slider_data=t[1];for(var a=[],i=2;i<t.length;i+=2){var l={value:t[i],color:t[i+1],action:"删除"};a.push(l)}e.colorData=a,e.applyCustomColor()}},setConfig:function(t){if("importConfig"==t);else if("exportConfig"==t){var e="";e+="slider_data "+this.slider_data+"\r\n";for(var a=0;a<this.colorData.length;a++)e+=this.colorData[a].value+" "+this.colorData[a].color+"\r\n";e=e.substring(0,e.lastIndexOf("\r\n"));var i=new Blob([e],{type:"text/plain;charset=utf-8"});saveAs(i,"contourMap.config")}},switchOpeStatus:function(t){"展开"==this.switchOpeConFlag?(this.$refs.opeConRef.style.width="0",this.$refs.opeConRef.style.overflow="hidden",this.switchOpeConFlag="隐藏"):"隐藏"==this.switchOpeConFlag&&(this.$refs.opeConRef.style.width="unset",this.$refs.opeConRef.style.overflow="unset",this.switchOpeConFlag="展开")},showModal:function(){this.imageFlag=!0},closeModal:function(t){this.imageFlag=t},initColorScales:function(){for(var t=this.$store.state.Global.colorscales,e=0;e<t.length;e++){for(var a={value:t[e].name,img:t[e].img},i={name:t[e].name,color:[],scale:[]},l=0;l<t[e].value.length;l++)i.scale.push(t[e].value[l][0]),i.color.push(t[e].value[l][1]);this.colormap[t[e].name]=t[e].img,this.colorArr.push(i),this.colourLevel.push(a)}}},watch:{colourLevelModel:function(t,e){this.changeColourLevel(t)}},computed:{thematicFlag:function(){return this.$store.state.Global.thematicFlag},colorColumn:function(){var t=this;return[{title:window.vm.$i18n.t("linesMap.setColor.value"),key:"value",render:function(t,e){return t("div",{},e.row.value)}},{title:window.vm.$i18n.t("linesMap.setColor.color"),key:"color",render:function(t,e){return t("div",[t("div",{style:{color:"#19be6b",background:e.row.color,width:"90px",height:"20px"},on:{click:function(){}}})])}},{title:window.vm.$i18n.t("linesMap.setColor.handle"),key:"action",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.reviseColorTableRow(a.index)}}},window.vm.$i18n.t("linesMap.setColor.operate")),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.deleteColorTableRow(a.index)}}},window.vm.$i18n.t("linesMap.setColor.delete"))])}}]}},mounted:function(){this.initColorScales(),this.initPage()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerOpeBanner"},[a("el-button",{staticClass:"switchContainer",staticStyle:{padding:"5px 10px"},attrs:{plain:"",size:"mini",title:"菜单 展开/收缩"},on:{click:t.switchOpeStatus}},[a("i",{staticClass:"el-icon-arrow-left",class:{transition:"展开"!=this.switchOpeConFlag}})]),t._v(" "),a("div",{ref:"opeConRef",staticClass:"operationContainerWrap"},[a("div",{staticClass:"counterMenuGroup operationContainer",style:{width:.7*this.getWidth()+"px"}},[a("span",[a("Dropdown",{staticClass:"menubutton",on:{"on-click":t.changeType}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("\n                                    "+t._s(t.$t("linesMap.mapType.title"))+"\n                                    "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"contour"}},[t._v(t._s(t.$t("linesMap.mapType.contour")))]),t._v(" "),a("DropdownItem",{attrs:{name:"heatmap"}},[t._v(t._s(t.$t("linesMap.mapType.heatmap")))])],1)],1),t._v(" "),a("Dropdown",{staticClass:"menubutton",style:{display:1==this.showFlag?"block":"none"},on:{"on-click":t.changeRender}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n                                    "+t._s(t.$t("linesMap.RenderType.title"))+"\n                                    "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"contour"}},[t._v(t._s(t.$t("linesMap.RenderType.contour")))]),t._v(" "),a("DropdownItem",{attrs:{name:"lines"}},[t._v(t._s(t.$t("linesMap.RenderType.lines")))]),t._v(" "),a("DropdownItem",{attrs:{name:"heatmap"}},[t._v(t._s(t.$t("linesMap.RenderType.heatmap")))])],1)],1),t._v(" "),a("span",{staticClass:"menubutton",staticStyle:{display:"none"}},[a("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.switchState("/map2d")}}},[t._v("地图投影")])],1)],1),t._v(" "),t.thematicFlag?a("el-button",{staticClass:"menubutton",attrs:{type:"primary",size:"mini"},on:{click:t.openFigureTable}},[t._v(t._s(t.$t("linesMap.styleModify.title")))]):t._e(),t._v(" "),a("el-button",{staticClass:"menubutton",attrs:{type:"primary",size:"mini"},on:{click:t.openColorTable}},[t._v(t._s(t.$t("linesMap.setColor.title")))]),t._v(" "),t._e(),t._v(" "),a("Dropdown",{staticClass:"menubutton",on:{"on-click":t.projectToMap}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n              "+t._s(t.$t("linesMap.project.title"))+"\n              "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"projectTo2D"}},[t._v(t._s(t.$t("linesMap.project.projectTo2d")))])],1)],1),t._v(" "),a("span",{staticClass:"menubutton",style:{display:1==this.showFlag?"inline":"none"}},[t.contourLineSetting?a("span",[t._v("\n                                "+t._s(t.$t("linesMap.contour"))+"\n                                "),a("i-switch",{on:{"on-change":t.switch_cLines},model:{value:t.switch_coutourLines,callback:function(e){t.switch_coutourLines=e},expression:"switch_coutourLines"}})],1):t._e(),t._v("\n                            "+t._s(t.$t("linesMap.tagging"))+"\n                            "),a("i-switch",{on:{"on-change":t.switch_change},model:{value:t.switch_data,callback:function(e){t.switch_data=e},expression:"switch_data"}}),t._v("\n                            "+t._s(t.$t("linesMap.hover"))+"\n                            "),a("i-switch",{on:{"on-change":t.hover_change},model:{value:t.hover_data,callback:function(e){t.hover_data=e},expression:"hover_data"}}),t._v("\n                            "+t._s(t.$t("linesMap.lineWide"))+"\n                            "),a("Slider",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"middle"},attrs:{min:.5,max:2,step:.1},on:{"on-change":t.slider_widthChange},model:{value:t.lineWidth,callback:function(e){t.lineWidth=e},expression:"lineWidth"}})],1),t._v("\n           \n          "),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.showModal}},[t._v("\n            "+t._s(t.$t("linesMap.exportImage"))+"\n          ")])],1)])],1),t._v(" "),a("imageExport",{attrs:{imageConfigShow:t.imageFlag,plotlyDiv:t.plotlydiv},on:{closeModal:t.closeModal}}),t._v(" "),a("Modal",{attrs:{draggable:"",title:"色阶设置",width:"420"},on:{"on-ok":t.applyColourLevelSettings},model:{value:t.isColourLevelSettingsVisible,callback:function(e){t.isColourLevelSettingsVisible=e},expression:"isColourLevelSettingsVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v("色阶数：")])],1),t._v(" "),a("Col",[a("Slider",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"middle"},attrs:{min:10,max:20},on:{"on-change":t.slider_change},model:{value:t.slider_data,callback:function(e){t.slider_data=e},expression:"slider_data"}})],1)],1),t._v(" "),a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v("色阶设置：")])],1),t._v(" "),a("Col",[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.changeColourLevel},model:{value:t.colourLevelModel,callback:function(e){t.colourLevelModel=e},expression:"colourLevelModel"}},t._l(t.colourLevel,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[a("img",{attrs:{src:e.img}}),t._v(t._s(e.value))])}),1)],1)],1)],1),t._v(" "),a("Modal",{attrs:{cancelText:t.$t("button.cancel"),okText:t.$t("button.ok"),draggable:"",title:t.$t("linesMap.styleModify.title"),width:"420"},on:{"on-ok":t.changeFigure},model:{value:t.isFigureVisible,callback:function(e){t.isFigureVisible=e},expression:"isFigureVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("linesMap.styleModify.name")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.title,callback:function(e){t.$set(t.figure,"title",e)},expression:"figure.title"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("linesMap.styleModify.X1Title")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.xtitle,callback:function(e){t.$set(t.figure,"xtitle",e)},expression:"figure.xtitle"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("linesMap.styleModify.Y1Title")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.y1title,callback:function(e){t.$set(t.figure,"y1title",e)},expression:"figure.y1title"}})],1)],1)],1)],1),t._v(" "),a("Modal",{attrs:{cancelText:t.$t("button.cancel"),okText:t.$t("button.ok"),draggable:"",title:t.$t("linesMap.setColor.title"),width:"460"},on:{"on-ok":t.applyCustomColor},model:{value:t.isColorTableVisible,callback:function(e){t.isColorTableVisible=e},expression:"isColorTableVisible"}},[a("el-alert",{attrs:{title:t.$t("linesMap.setColor.tips"),type:"info"}}),t._v(" "),a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"5"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("linesMap.setColor.min")))])],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Input",{attrs:{number:!0},model:{value:t.minValue,callback:function(e){t.minValue=e},expression:"minValue"}})],1),t._v(" "),a("Col",{attrs:{span:"5"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px","margin-left":"5px"}},[t._v(t._s(t.$t("linesMap.setColor.max")))])],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Input",{attrs:{number:!0},model:{value:t.maxValue,callback:function(e){t.maxValue=e},expression:"maxValue"}})],1)],1),t._v(" "),a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("linesMap.setColor.colorNum")))])],1),t._v(" "),a("Col",[a("Slider",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"middle"},attrs:{min:10,max:20},on:{"on-input":t.slider_change},model:{value:t.slider_data,callback:function(e){t.slider_data=e},expression:"slider_data"}})],1)],1),t._v(" "),a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("linesMap.setColor.reference")))])],1),t._v(" "),a("Col",[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.changeColourLevel},model:{value:t.colourLevelModel,callback:function(e){t.colourLevelModel=e},expression:"colourLevelModel"}},t._l(t.colourLevel,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[a("img",{staticStyle:{width:"100px",height:"14px"},attrs:{src:e.img}}),t._v(t._s(e.value))])}),1)],1)],1),t._v(" "),a("el-divider"),t._v(" "),a("Row",{staticStyle:{margin:"0px"}},[a("el-button",{staticClass:"menubutton",staticStyle:{"margin-top":"-15px","margin-left":"-0.3%","margin-bottom":"2px"},attrs:{type:"primary",size:"small"},on:{click:t.ParameterCalculation}},[t._v(t._s(t.$t("linesMap.setColor.colorCal")))])],1),t._v(" "),a("Table",{attrs:{border:"",size:"small",columns:t.colorColumn,data:t.colorData,height:"320"}})],1),t._v(" "),a("Modal",{attrs:{cancelText:t.$t("button.cancel"),okText:t.$t("button.ok"),draggable:"",title:t.$t("linesMap.setColor.argsModify"),width:"420","z-index":2e3},on:{"on-ok":t.applyReviseCustomColor},model:{value:t.isReviseColorTableVisible,callback:function(e){t.isReviseColorTableVisible=e},expression:"isReviseColorTableVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("Input",{staticStyle:{width:"100px"},model:{value:t.reviseValueForColor,callback:function(e){t.reviseValueForColor=e},expression:"reviseValueForColor"}})],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("ColorPicker",{attrs:{recommend:""},model:{value:t.reviseCustomColor,callback:function(e){t.reviseCustomColor=e},expression:"reviseCustomColor"}})],1)],1)],1),t._v(" "),a("Content",[a("div",{attrs:{id:t.plotlydivId}})])],1)},staticRenderFns:[]};var d=a("VU/8")(r,c,!1,function(t){a("rxPK")},"data-v-904ca012",null);e.default=d.exports},QPkp:function(t,e){},"QWe/":function(t,e,a){a("crlp")("observable")},R3y8:function(t,e){},RPLV:function(t,e,a){var i=a("7KvD").document;t.exports=i&&i.documentElement},"RY/4":function(t,e,a){var i=a("R9M2"),l=a("dSzd")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,a,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),l))?a:o?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},Rrel:function(t,e,a){var i=a("TcQ7"),l=a("n0T6").f,o={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return n&&"[object Window]"==o.call(t)?function(t){try{return l(t)}catch(t){return n.slice()}}(t):l(i(t))}},T3zb:function(t,e){},U3sn:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__=__webpack_require__("fZjL"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_set__=__webpack_require__("lHA8"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_set___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_set__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_array_from__=__webpack_require__("c/Tr"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_array_from___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_array_from__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_6__static_js_common_js__=__webpack_require__("/sA3"),__WEBPACK_IMPORTED_MODULE_7_file_saver__=__webpack_require__("t4zo"),__WEBPACK_IMPORTED_MODULE_7_file_saver___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_file_saver__),__WEBPACK_IMPORTED_MODULE_8_xlsx__=__webpack_require__("uXZL"),__WEBPACK_IMPORTED_MODULE_8_xlsx___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_xlsx__),__WEBPACK_IMPORTED_MODULE_9_echarts__=__webpack_require__("Pg0u"),__WEBPACK_IMPORTED_MODULE_9_echarts___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_echarts__),__WEBPACK_IMPORTED_MODULE_10__static_config_tree_2dmap__=__webpack_require__("ZpFI");__webpack_exports__.a={props:["dataId","plotlydivId"],data:function(){return{mapconfig:__WEBPACK_IMPORTED_MODULE_10__static_config_tree_2dmap__.a,sameFieldFlag:!1,dynamicValidateForm:{domains:[{value:"",field:"",min:0,max:0,key:0}]},flag:!1,tableData:[],totalData:[],fieldInfo:[],columnData:[],dataLength:0,param:{},currentPage:1,dialogVisible:!1,calDialogVisible:!1,filterVisible:!1,field1:"",field2:"",constantNum:0,activeName:"字段与字段",calLabel:"相加",calculation:"+",calRowName:"",formItems:[{key1:this.createRandom(),key2:this.createRandom(),selectValue:"",order:"升序"}],statisticSelectValue:"",statisticInfo:{max:0,min:0,sum:0,count:0,range:0,average:0,variance:0,standardDevition:0}}},methods:{initPage:function(){var t=this.dataId;void 0!=t&&__WEBPACK_IMPORTED_MODULE_6__static_js_common_js__.a.getJsonFromDatabase(t,this.initTable)},initTable:function(t){this.param={bindX:t.bindX,bindY:t.bindY,data:null,datatype:t.datatype,displayName:t.displayName,file:null,guid:"",separation:t.separation,spatialReference:"Null"};var e=t.data;for(var a in this.dataLength=e.length,this.tableData.length=0,this.columnData.length=0,this.totalData.length=0,this.statisticSelectValue="",this.currentPage=1,this.statisticInfo)this.statisticInfo[a]=0;var i=0;for(var l in e[0])i+=1,this.columnData.push({id:i,label:l.replace("!#!","."),value:l});for(var o=0,n=this.dataLength;o<n;o++){for(var s={},r=0;r<this.columnData.length;r++){var c=this.columnData[r].value;s[c]=e[o][c]}this.totalData.push(s)}for(o=0;o<100;o++)this.tableData.push(this.totalData[o])},handleCurrentChange:function(t){this.currentPage=t,this.tableData.length=0;var e=100*this.currentPage;e>this.totalData.length&&(e=this.totalData.length);for(var a=100*(this.currentPage-1);a<e;a++)this.tableData.push(this.totalData[a])},addSection:function(){this.formItems.length<2?this.formItems.push({index:this.createRandom(),selectValue:"",order:"升序"}):this.$message({message:window.vm.$i18n.t("fileContent.message"),type:"warning"})},deleteSection:function(){0!=this.formItems.length&&this.formItems.pop()},createRandom:function(){return 10*Math.random()+Math.random()},handleClose:function(){this.dialogVisible=!1,this.formItems.length=0,this.formItems.push({key1:this.createRandom(),key2:this.createRandom(),selectValue:"",order:"升序"})},handleCloseCal:function(){this.calDialogVisible=!1,this.field1="",this.field2="",this.calRowName=""},handleCloseFilter:function(){this.filterVisible=!1,this.dynamicValidateForm={domains:[{value:"",field:"",min:0,max:0}]}},handleFilter:function(){var t=this,e=this.dynamicValidateForm.domains,a=this.totalData,i=JSON.parse(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_json_stringify___default()(t.param)),l=__WEBPACK_IMPORTED_MODULE_6__static_js_common_js__.a.newGuid(),o=void 0,n=e.map(function(t){return t.field});if(this.sameFieldFlag){var s=function(){if(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_set___default.a(n)).length>1)return t.$message({message:"当前过滤模式为:相同字段，请调整过滤字段...",type:"error"}),{v:void 0};for(var l=[],o=function(t){var i=a.filter(function(a){return Number(a[e[t].field])>=Number(e[t].min)&&Number(a[e[t].field])<=Number(e[t].max)});null!=i&&0!==i.length&&(l=l.concat(i.filter(function(t){return!(l.indexOf(t)>-1)})))},s=0;s<e.length;s++)o(s);i.data=l}();if("object"===(void 0===s?"undefined":__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(s)))return s.v}else{if(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_set___default.a(n)).length!=e.length)return void t.$message({message:"当前过滤模式为:非相同字段，请调整过滤字段...",type:"error"});for(var r=function(t){var i=a.filter(function(a){return Number(a[e[t].field])>=Number(e[t].min)&&Number(a[e[t].field])<=Number(e[t].max)});if(a=i,null==i||0==i.length)return"break"},c=0;c<e.length;c++){if("break"===r(c))break}i.data=a}if(t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),-1!=this.param.datatype.indexOf("dat")||-1!=this.param.datatype.indexOf("txt")||-1!=this.param.datatype.indexOf("csv")||-1!=this.param.datatype.indexOf("xyz")){var d="";if(null!=a&&0!=a.length){var u=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(a[0]);for(c=0;c<u.length;c++)d+=u[c].replace("!#!","."),c!=u.length-1&&(d+=this.param.separation);for(var p=0;p<a.length;p++){d+="\n";for(var h=0;h<u.length;h++)d+=a[p][u[h]],h!=u.length-1&&(d+=this.param.separation)}}o=new Blob([d],{type:""})}i.file=o,i.guid=l,i.displayName=this.param.displayName.substring(0,this.param.displayName.indexOf("."))+"_过滤."+this.param.datatype,this.$store.state.LocalDB.db.addData(i,function(){t.mapconfig.treeWorkSpace[0].children[0].children.push({label:i.displayName,datatype:i.datatype,guid:i.guid,isView:i.isView}),t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"})})},handleCal:function handleCal(){var _this=this,flag=!0;if(this.columnData.find(function(t){t.label===_this.calRowName?(_this.$message({message:"您所指定的列名已存在，请更换...",type:"error"}),flag=!1):-1!=_this.calRowName.indexOf(".")&&(_this.$message({message:"暂不支持含有.的列名...",type:"error"}),flag=!1)}),flag){var data=this.totalData;if("字段与字段"===_this.activeName)for(var i=0;i<data.length;i++){var floatNum=0,field1FloatNum=0,field2FloatNum=0;-1!=data[i][_this.field1].toString().indexOf(".")&&(field1FloatNum=data[i][_this.field1].toString().split(".")[1].length),-1!=data[i][_this.field2].toString().indexOf(".")&&(field2FloatNum=data[i][_this.field2].toString().split(".")[1].length),floatNum=field1FloatNum>=field2FloatNum?field1FloatNum:field2FloatNum,data[i][_this.calRowName]=eval("Number(data[i][_this.field1]) "+_this.calculation+" Number(data[i][_this.field2])").toFixed(floatNum)}else for(var j=0;j<data.length;j++){var _floatNum=0,_field1FloatNum=0,constantNumFloatNum=0;-1!=data[j][_this.field1].toString().indexOf(".")&&(_field1FloatNum=data[j][_this.field1].toString().split(".")[1].length),-1!=_this.constantNum.toString().indexOf(".")&&(constantNumFloatNum=_this.constantNum.toString().split(".")[1].length),_floatNum=_field1FloatNum>=constantNumFloatNum?_field1FloatNum:constantNumFloatNum,data[j][_this.calRowName]=eval("Number(data[j][_this.field1]) "+_this.calculation+" Number(_this.constantNum)").toFixed(_floatNum)}var tempID=_this.columnData[_this.columnData.length-1].id+1;_this.columnData.push({id:tempID,label:_this.calRowName,value:_this.calRowName});var params={};__WEBPACK_IMPORTED_MODULE_6__static_js_common_js__.a.getJsonFromDatabase(_this.dataId,function(t){if(-1!=t.datatype.indexOf("dat")||-1!=t.datatype.indexOf("txt")||-1!=t.datatype.indexOf("csv")||-1!=t.datatype.indexOf("xyz")){for(var e="",a=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(_this.totalData[0]),i=0;i<a.length;i++)e+=a[i].replace("!#!","."),i!=a.length-1&&(e+=t.separation);for(var l=0;l<_this.totalData.length;l++){e+="\n";for(var o=0;o<a.length;o++)e+=_this.totalData[l][a[o]],o!=a.length-1&&(e+=t.separation)}var n=new Blob([e],{type:""});params.file=n}}),params.data=_this.totalData,this.$store.state.LocalDB.db.updateData(_this.dataId,params,function(t){"1"==t?_this.$message({message:window.vm.$i18n.t("message.updateSuccess"),type:"success"}):_this.$message({message:window.vm.$i18n.t("message.updateFail"),type:"error"})}),this.field1="",this.field2="",this.calRowName=""}},handleSort:function(){if(0!=this.formItems.length)if(1!=this.formItems.length){if(2==this.formItems.length)if(""==this.formItems[0].selectValue||""==this.formItems[1].selectValue)this.$message({message:window.vm.$i18n.t("fileContent.message2"),type:"warning"});else if(this.formItems[0].selectValue==this.formItems[1].selectValue)this.$message({message:this.formItems[0].selectValue+window.vm.$i18n.t("fileContent.message3"),type:"warning"});else{var t=this.formItems[0].selectValue,e=this.formItems[1].selectValue,a=this.formItems[0].order,i=this.formItems[1].order,l="";switch("升序"==a?("升序"==i&&(l="upup"),"降序"==i&&(l="updown")):"降序"==a&&("升序"==i&&(l="downup"),"降序"==i&&(l="downdown")),l){case"upup":this.totalData=this.totalData.sort(function(a,i){return a[t]==i[t]?a[e]-i[e]:a[t]-i[t]});break;case"updown":this.totalData=this.totalData.sort(function(a,i){return a[t]==i[t]?i[e]-a[e]:a[t]-i[t]});break;case"downup":this.totalData=this.totalData.sort(function(a,i){return a[t]==i[t]?a[e]-i[e]:i[t]-a[t]});break;case"downdown":this.totalData=this.totalData.sort(function(a,i){return a[t]==i[t]?i[e]-a[e]:i[t]-a[t]})}this.handleClose(),this.handleCurrentChange(1)}}else if(""==this.formItems[0].selectValue)this.$message({message:window.vm.$i18n.t("fileContent.message2"),type:"warning"});else{var o=this.formItems[0].selectValue;"升序"==this.formItems[0].order?this.totalData=this.totalData.sort(function(t,e){return t[o]-e[o]}):this.totalData=this.totalData.sort(function(t,e){return e[o]-t[o]}),this.handleClose(),this.handleCurrentChange(1)}else this.$message({message:window.vm.$i18n.t("fileContent.message1"),type:"warning"})},exportXLS:function(t){var e=JSON.parse(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_json_stringify___default()(this.totalData)),a=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(e[0]),i={};a.forEach(function(t){i[t]=t.replace("!#!",".")}),e.unshift(i);var l={};e.map(function(t,e){return a.map(function(a,i){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({},{value:t[a],position:i>25?function(t){var e="",a=0;for(;t>0;)a=t%26+1,e=String.fromCharCode(a+64)+e,t=(t-a)/26;return e}(i):String.fromCharCode(65+i)+(e+1)})})}).reduce(function(t,e){return t.concat(e)}).forEach(function(t,e){l[t.position]={v:t.value}});var o=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(l),n={SheetNames:["Sheet1"],Sheets:{Sheet1:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({},l,{"!ref":o[0]+":"+o[o.length-1]})}},s=__WEBPACK_IMPORTED_MODULE_8_xlsx___default.a.write(n,{bookType:"xlsx",bookSST:!1,type:"binary"}),r=new Blob([function(t){for(var e=new ArrayBuffer(t.length),a=new Uint8Array(e),i=0;i!=t.length;++i)a[i]=255&t.charCodeAt(i);return e}(s)],{type:""});saveAs(r,"data.xls")},dataStatistics:function(){if(""!=this.statisticSelectValue){var t=this.statisticSelectValue,e=[];this.statisticInfo={max:0,min:0,sum:0,count:0,range:0,average:0,variance:0,standardDevition:0};for(var a=0,i=this.totalData.length;a<i;a++)e.push(this.totalData[a][t]),this.statisticInfo.sum+=Number(this.totalData[a][t]);this.statisticInfo.max=Math.max.apply(null,e),this.statisticInfo.min=Math.min.apply(null,e),this.statisticInfo.count=this.totalData.length,this.statisticInfo.range=this.statisticInfo.max-this.statisticInfo.min,this.statisticInfo.average=parseFloat(this.statisticInfo.sum/this.statisticInfo.count).toFixed(4);for(var l=0,o=0,n=e.length;o<n;o++)l+=(e[o]-this.statisticInfo.average)*(e[o]-this.statisticInfo.average);this.statisticInfo.variance=parseFloat(l/this.statisticInfo.count).toFixed(3),this.statisticInfo.standardDevition=parseFloat(Math.sqrt(this.statisticInfo.variance)).toFixed(4),this.initChart(e)}else this.$message({message:window.vm.$i18n.t("fileContent.message4"),type:"warning"})},initChart:function(t){for(var e=parseFloat(this.statisticInfo.range/20).toFixed(2),a=[],i=0;i<21;i++){var l={key:parseFloat(this.statisticInfo.min+e*i).toFixed(2)+"-"+parseFloat(this.statisticInfo.min+e*(i+1)).toFixed(2),number:0};a.push(l)}i=0;for(var o=t.length;i<o;i++){a[Math.floor((t[i]-this.statisticInfo.min)/e)].number+=1}var n=[],s=[];for(i=0,o=a.length;i<o;i++)n.push(a[i].key),s.push(a[i].number);var r={color:["#3398DB"],title:{text:window.vm.$i18n.t("fileContent.histogram"),textStyle:{fontSize:16},top:15,left:20},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:n,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:window.vm.$i18n.t("fileContent.chartCount"),type:"bar",barWidth:"90%",data:s}]};__WEBPACK_IMPORTED_MODULE_9_echarts___default.a.init(document.getElementById(this.plotlydivId)).setOption(r)},calField:function(){this.flag=!1,this.filterVisible=!1,this.calDialogVisible=!0},switchStatistic:function(){this.calDialogVisible=!1,this.filterVisible=!1},dataFilter:function(){this.flag=!1,this.calDialogVisible=!1,this.filterVisible=!0},removeDomain:function(t){var e=this.dynamicValidateForm.domains.indexOf(t);-1!==e&&this.dynamicValidateForm.domains.splice(e,1)},addDomain:function(){this.dynamicValidateForm.domains.push({value:"",key:Date.now(),min:0,max:0,field:""})},getFieldInfo:function(t,e){var a=this.totalData.map(function(t){return t[e]}).concat([]).sort(function(t,e){return t-e}),i=a[0],l=a[a.length-1];this.dynamicValidateForm.domains[t].min=i,this.dynamicValidateForm.domains[t].max=l}},watch:{calLabel:function(t){switch(t.substr(-1)){case"加":this.calculation="+";break;case"减":this.calculation="-";break;case"乘":this.calculation="*";break;case"除":this.calculation="/"}}},computed:{getTableHeight:function(){return this.$store.state.Global.screenHeight-340},getTotalDataLength:function(){return this.dataLength},getTotalPage:function(){return Math.ceil(this.dataLength/100)},tableContainerChange:function(){return this.flag?"tableContainer":this.calDialogVisible?"tableContainer3":this.filterVisible?"tableContainerFilter":"tableContainer2"}},mounted:function(){this.initPage(),document.oncontextmenu=function(){return!1}}}},UwjZ:function(t,e,a){"use strict";const i={gradientColor:null,colorRgb:null,colorHex:null};i.gradientColor=function(t,e,a){var i=this.colorRgb(t),l=i[0],o=i[1],n=i[2],s=this.colorRgb(e),r=s[0]-l,c=s[1]-o,d=s[2]-n,u=[],p=this.colorHex("rgb("+parseInt(r*a+l)+","+parseInt(c*a+o)+","+parseInt(d*a+n)+")");return u.push(p),u},i.colorRgb=function(t){if((t=t.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var e="#",a=1;a<4;a+=1)e+=t.slice(a,a+1).concat(t.slice(a,a+1));t=e}var i=[];for(a=1;a<7;a+=2)i.push(parseInt("0x"+t.slice(a,a+2)));return i}return t},i.colorHex=function(t){var e=t;if(/^(rgb|RGB)/.test(e)){for(var a=e.replace(/(?:(|)|rgb|RGB)*/g,"").split(","),i="#",l=0;l<a.length;l++){var o=Number(a[l]).toString(16);"0"===(o=o<10?"0"+o:o)&&(o+=o),i+=o}return 7!==i.length&&(i=e),i}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;var n=e.replace(/#/,"").split("");if(6===n.length)return e;if(3===n.length){var s="#";for(l=0;l<n.length;l+=1)s+=n[l]+n[l];return s}},e.a=i},VMWF:function(t,e){},Vpj9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),o=a("ZpFI"),n=a("/sA3"),s=a("mvHQ"),r=a.n(s),c=(a("q00Q"),{data:function(){return{map:null,drawPanel:null,vectorSource:null,vectorLayer:null,helpTooltip:null,sketch:null,helpTooltipElement:null}},created:function(){this.removeDraw(),this.clearLayer()},methods:{createHelpTooltip:function(){this.helpTooltipElement&&this.helpTooltipElement.parentNode&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=new this.ol.Overlay({element:this.helpTooltipElement,offset:[15,0],positioning:"center-left"}),this.$store.state.Global.map2DHandler.addOverlay(this.helpTooltip)},pointerMoveHandler:function(t){if(1!=t.dragging){var e,a=this.ChineseConvert(this.sketch);e="点"==a||"矩形"==a?"矩形"==a?window.vm.$i18n.t("drawPanel.leftClickStart")+a+"  "+window.vm.$i18n.t("drawPanel.clickAgainFinish"):window.vm.$i18n.t("drawPanel.leftClickStart")+a:window.vm.$i18n.t("drawPanel.leftClickStart")+a+" "+window.vm.$i18n.t("drawPanel.rightClickFinish"),this.helpTooltipElement.innerHTML=e,this.helpTooltip.setPosition(t.coordinate),this.helpTooltipElement.classList.remove("hidden")}},closeDrawPanel:function(){this.removeDraw(),this.clearLayer(),this.$store.state.Global.showDrawCard2D=!1},drawShapes:function(t){this.sketch=t,this.createHelpTooltip(),this.$store.state.Global.map2DHandler.on("pointermove",this.pointerMoveHandler),null!=this.drawPanel&&this.$store.state.Global.map2DHandler.removeInteraction(this.drawPanel),null!=this.vectorLayer&&null!=this.vectorLayer||(this.vectorSource=new this.ol.source.Vector({wrapX:!1}),this.vectorLayer=new this.ol.layer.Vector({source:this.vectorSource,zIndex:100}),this.map.addLayer(this.vectorLayer)),"Point"==t?(this.drawPanel=new this.ol.interaction.Draw({source:this.vectorSource,type:"Point",freehand:!1}),this.map.addInteraction(this.drawPanel)):"LineString"==t?(this.drawPanel=new this.ol.interaction.Draw({source:this.vectorSource,type:"LineString",freehand:!1}),this.map.addInteraction(this.drawPanel),this.drawPanel.on("drawend",function(){this.removeDraw()},this)):"Polygon"==t?(this.drawPanel=new this.ol.interaction.Draw({source:this.vectorSource,type:"Polygon",freehand:!1}),this.map.addInteraction(this.drawPanel),this.drawPanel.on("drawend",function(){this.removeDraw()},this)):"Circle"==t?(this.drawPanel=new this.ol.interaction.Draw({source:this.vectorSource,type:"Circle",geometryFunction:null}),this.map.addInteraction(this.drawPanel),this.drawPanel.on("drawend",function(){this.removeDraw()},this)):"Box"==t&&(this.drawPanel=new this.ol.interaction.Draw({source:this.vectorSource,type:"Circle",freehand:!1,geometryFunction:this.ol.interaction.Draw.createBox()}),this.map.addInteraction(this.drawPanel),this.drawPanel.on("drawend",function(){this.removeDraw()},this))},removeDraw:function(){this.helpTooltipElement&&this.helpTooltipElement.parentNode&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.$store.state.Global.map2DHandler.removeOverlay(this.helpTooltip),this.$store.state.Global.map2DHandler.removeInteraction(this.drawPanel)},clearLayer:function(){null!=this.vectorSource&&this.vectorSource.clear(),null!=this.drawPanel&&this.$store.state.Global.map2DHandler.removeInteraction(this.drawPanel)},saveAsGeoJson:function(){var t={type:"FeatureCollection",features:[]};if(null!=this.vectorSource&&this.vectorSource.getFeatures()instanceof Array){var e=this.vectorSource.getFeatures();if(!(e.length>0))return;for(var a,i=0,l=e.length;i<l;i++)switch(e[i].getGeometry().getType()){case"Point":a=e[i].getGeometry().getCoordinates(),t.features.push({type:"Feature",geometry:{type:"Point",coordinates:a}});break;case"LineString":a=e[i].getGeometry().getCoordinates(),t.features.push({type:"Feature",geometry:{type:"LineString",coordinates:a}});break;case"Polygon":a=e[i].getGeometry().getCoordinates(),t.features.push({type:"Feature",geometry:{type:"Polygon",coordinates:a}})}var o=new Blob([r()(t)],{type:"text/plain;charset=utf-8"});saveAs(o,"FeatureGeoJson.txt")}},saveAsPng:function(){this.map=this.$store.state.Global.map2DHandler,this.$store.state.Global.map2DHandler.once("postcompose",function(t){t.context.canvas.toBlob(function(t){saveAs(t,"map.png")})}),this.map.renderSync()},ChineseConvert:function(t){switch(t){case"Point":return"点";case"LineString":return"线";case"Polygon":return"面";case"Circle":return"圆";case"Box":return"矩形";default:return}}},mounted:function(){this.map=this.$store.state.Global.map2DHandler}}),d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{style:{height:"50px",position:"absolute",top:"5px",right:"0px"}},[a("div",{staticClass:"drawBtnContainer"},[a("a",{attrs:{href:"javascript:void(0)",title:t.$t("drawPanel.point")},on:{click:function(e){return t.drawShapes("Point")}}},[t._v("\n            \n        ")]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)",title:t.$t("drawPanel.line")},on:{click:function(e){return t.drawShapes("LineString")}}},[t._v("\n            \n        ")]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)",title:t.$t("drawPanel.polygon")},on:{click:function(e){return t.drawShapes("Polygon")}}},[t._v("\n            \n        ")]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)",title:t.$t("drawPanel.box")},on:{click:function(e){return t.drawShapes("Box")}}},[t._v("\n            \n        ")]),t._v(" "),a("span",{staticStyle:{color:"rgb(181, 184, 191)","font-family":"'iconfont'","margin-right":"-10px"}},[t._v("")]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)",title:t.$t("drawPanel.removePan")},on:{click:function(e){return t.removeDraw()}}},[t._v("\n            \n        ")]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)",title:t.$t("drawPanel.export")},on:{click:function(e){return t.saveAsGeoJson()}}},[t._v("\n            \n        ")]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)",title:t.$t("drawPanel.close")},on:{click:function(e){return t.closeDrawPanel()}}},[t._v("\n            \n        ")])])])},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("D+wR")},null,null).exports,p=a("nvAS"),h={props:{mapObj:{}},data:function(){return{files:["文件1","文件2"],fields:["字段1","字段2","字段3"],json:null,model:!0,xFiled:"",yFiled:"",valueFiled:""}},methods:{initForm:function(){var t=this;this.$store.state.LocalDB.db.getAllKeys(function(e){t.files=e})},fileSelected:function(t){var e=this;this.$store.state.LocalDB.db.getData(t,function(t){e.json=t.value;var a=[],i=t.value[0];for(var l in i)a.push(l);e.fields=a})},xFiledSelect:function(t){this.xFiled=t},yFiledSelect:function(t){this.yFiled=t},valueFiledSelect:function(t){this.valueFiled=t},close:function(){this.$emit("inputMess",!1)},addDataToMap:function(){var t=this.xFiled,e=this.yFiled,a=this.valueFiled;p.a.defs("EPSG:2384","+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs");var i=new this.ol.proj.Projection({code:"EPSG:2384",extent:[345754.23,2501018.29,607809.05,5528581.54],units:"m",axisOrientation:"neu",global:!1});this.ol.proj.addProjection(i),this.ol.proj.addCoordinateTransforms("EPSG:4326","EPSG:2384",function(t){return Object(p.a)("EPSG:4326","EPSG:2384",t)},function(t){return Object(p.a)("EPSG:2384","EPSG:4326",t)});var l=9999,o=9999,n=0,s=0,r=new this.ol.source.Vector,c=new this.ol.layer.Vector({source:r,declutter:!0});this.mapObj.addLayer(c);for(var d,u=[],h=0;d=this.json[h++];){var m=[d[t],d[e]],g=this.ol.proj.transform(m,"EPSG:2384","EPSG:4326");g[0]<l&&(l=g[0]),g[0]>n&&(n=g[0]),g[1]<o&&(o=g[1]),g[1]>s&&(s=g[1]);var f=new this.ol.Feature({geometry:new this.ol.geom.Point(g),name:"P:"+(1*d[a]).toFixed(2)});f.setStyle(new this.ol.style.Style({text:new this.ol.style.Text({text:"P: "+(1*d[a]).toFixed(2),offsetX:30,offsetY:-10}),image:new this.ol.style.Circle({radius:4,fill:new this.ol.style.Fill({color:"rgba(255, 0, 0, 0.1)"}),stroke:new this.ol.style.Stroke({color:"red",width:1})})})),u.push(f)}r.addFeatures(u),this.mapObj.getView().setCenter([(l+n)/2,(o+s)/2])}},mounted:function(){this.initForm()}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("Card",{staticStyle:{width:"400px",height:"300px"},attrs:{title:"散点图"}},[a("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"6"}},[a("p",[t._v("选择数据：")])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("Select",{on:{"on-change":t.fileSelected}},t._l(t.files,function(t){return a("Option",{key:t,attrs:{value:t}})}),1)],1),t._v(" "),a("Col",{attrs:{span:"6"}})],1),t._v(" "),a("Row",{staticClass:"code-row-bg row-buffer",attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"6"}},[a("p",[t._v("横坐标：")])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("Select",{on:{"on-change":t.xFiledSelect}},t._l(t.fields,function(t){return a("Option",{key:t,attrs:{value:t}})}),1)],1),t._v(" "),a("Col",{attrs:{span:"6"}})],1),t._v(" "),a("Row",{staticClass:"code-row-bg row-buffer",attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"6"}},[a("p",[t._v("纵坐标：")])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("Select",{on:{"on-change":t.yFiledSelect}},t._l(t.fields,function(t){return a("Option",{key:t,attrs:{value:t}})}),1)],1),t._v(" "),a("Col",{attrs:{span:"6"}})],1),t._v(" "),a("Row",{staticClass:"code-row-bg row-buffer",attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"6"}},[a("p",[t._v("值：")])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("Select",{on:{"on-change":t.valueFiledSelect}},t._l(t.fields,function(t){return a("Option",{key:t,attrs:{value:t}})}),1)],1),t._v(" "),a("Col",{attrs:{span:"6"}})],1)],1),t._v(" "),a("Card",[a("Button",{attrs:{type:"primary",inline:""},on:{click:t.addDataToMap}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("Button",{attrs:{type:"primary",inline:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var g=a("VU/8")(h,m,!1,function(t){a("twwa")},"data-v-e668ebca",null).exports,f=(a("If3l"),a("7t+N")),v=a.n(f),b={data:function(){return{measureType:"length",draw:null,sketch:null,helpTooltipElement:null,measureTooltipElement:null,helpTooltip:null,continuePolygonMsg:"单击鼠标左键并移动鼠标画多边形  右键结束绘制",continueLineMsg:"单击鼠标左键并移动鼠标画线  右键结束绘制",source:null,vector:null,wgs84Sphere:null,showMeasureBox:!1}},methods:{showDrawCard2D:function(){this.$store.state.Global.showDrawCard2D=!0},clearScreen:function(){this.$store.state.Global.twoDTempLayers;this.source&&(this.source.clear(),this.$store.state.Global.map2DHandler.removeOverlay(this.helpTooltip),this.$store.state.Global.map2DHandler.removeOverlay(this.measureTooltip),v()("#map2d").find(".ol-overlay-container.ol-selectable").remove()),this.showMeasureBox=!1,this.$store.state.Global.map2DHandler.removeInteraction(this.draw)},addVectorLayer:function(){this.vector=new this.ol.layer.Vector({source:this.source,style:new this.ol.style.Style({fill:new this.ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new this.ol.style.Stroke({color:"#ffcc33",width:2}),image:new this.ol.style.Circle({radius:7,fill:new this.ol.style.Fill({color:"#ffcc33"})})})}),this.$store.state.Global.map2DHandler.addLayer(this.vector)},pointerMoveHandler:function(t){if(1!=t.dragging){var e="单击鼠标左键开始测量";if(this.sketch){var a=this.sketch.getGeometry();a instanceof this.ol.geom.Polygon?e=this.continuePolygonMsg:a instanceof this.ol.geom.LineString&&(e=this.continueLineMsg)}this.helpTooltipElement.innerHTML=e,this.helpTooltip.setPosition(t.coordinate),this.helpTooltipElement.classList.remove("hidden")}},formatLength:function(t){var e,a=t.getCoordinates();e=0;for(var i=this.$store.state.Global.map2DHandler.getView().getProjection(),l=0;l<a.length-1;l++){var o=this.ol.proj.transform(a[l],i,"EPSG:4326"),n=this.ol.proj.transform(a[l+1],i,"EPSG:4326");e+=this.wgs84Sphere.haversineDistance(o,n)}return e>100?Math.round(e/1e3*100)/100+" km":Math.round(100*e)/100+" m"},formatArea:function(t){var e,a=this.$store.state.Global.map2DHandler.getView().getProjection(),i=t.clone().transform(a,"EPSG:4326").getLinearRing(0).getCoordinates();return(e=Math.abs(this.wgs84Sphere.geodesicArea(i)))>1e4?Math.round(e/1e6*100)/100+" km<sup>2</sup>":Math.round(100*e)/100+" m<sup>2</sup>"},onlineMeasure:function(){this.draw&&this.$store.state.Global.map2DHandler.removeInteraction(this.draw),this.showMeasureBox=!0;var t,e,a="area"==this.measureType?"Polygon":"LineString";this.wgs84Sphere=new this.ol.Sphere(6378137),this.draw=new this.ol.interaction.Draw({source:this.source,type:a,style:new this.ol.style.Style({fill:new this.ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new this.ol.style.Stroke({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new this.ol.style.Circle({radius:5,stroke:new this.ol.style.Stroke({color:"rgba(0, 0, 0, 0.7)"}),fill:new this.ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"})})})}),this.$store.state.Global.map2DHandler.addInteraction(this.draw),this.createMeasureTooltip(),this.createHelpTooltip();var i=this;e=this.$store.state.Global.map2DHandler.on("pointermove",this.pointerMoveHandler),this.draw.on("drawstart",function(e){i.sketch=e.feature;var a=e.coordinate;t=i.sketch.getGeometry().on("change",function(t){var e,l=t.target;l instanceof i.ol.geom.Polygon?(e=i.formatArea(l),a=l.getInteriorPoint().getCoordinates()):l instanceof i.ol.geom.LineString&&(e=i.formatLength(l),a=l.getLastCoordinate()),i.measureTooltipElement.innerHTML=e,i.measureTooltip.setPosition(a)},this)}),this.draw.on("drawend",function(){i.measureTooltipElement.className="tooltip tooltip-static",i.measureTooltip.setOffset([0,-7]),i.sketch=null,i.measureTooltipElement=null,i.ol.Observable.unByKey(t),i.ol.Observable.unByKey(e),i.helpTooltipElement.parentNode.removeChild(i.helpTooltipElement),i.$store.state.Global.map2DHandler.removeInteraction(this.draw)},this)},createHelpTooltip:function(){this.helpTooltipElement&&this.helpTooltipElement.parentNode&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=new this.ol.Overlay({element:this.helpTooltipElement,offset:[15,0],positioning:"center-left"}),this.$store.state.Global.map2DHandler.addOverlay(this.helpTooltip)},createMeasureTooltip:function(){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="tooltip tooltip-measure",this.measureTooltip=new this.ol.Overlay({element:this.measureTooltipElement,offset:[0,-15],positioning:"bottom-center"}),this.$store.state.Global.map2DHandler.addOverlay(this.measureTooltip)}},watch:{measureType:function(){this.$store.state.Global.map2DHandler.removeInteraction(this.draw),this.onlineMeasure()}},mounted:function(){this.source=new this.ol.source.Vector,this.addVectorLayer()}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu2d"},[a("el-button-group",[a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-edit"},on:{click:function(e){return t.showDrawCard2D()}}},[t._v(t._s(t.$t("map2D.assistMake")))]),t._v(" "),a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-s-grid"},on:{click:function(e){return t.onlineMeasure()}}},[t._v(t._s(t.$t("map2D.measure")))]),t._v(" "),a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-delete"},on:{click:function(e){return t.clearScreen()}}},[t._v(t._s(t.$t("map2D.clear")))]),t._v(" "),a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-download"}},[t._v(t._s(t.$t("map2D.export")))])],1),t._v(" "),t.showMeasureBox?a("form",{staticClass:"form-inline",staticStyle:{"margin-top":"10px","margin-left":"-5px"}},[a("el-select",{model:{value:t.measureType,callback:function(e){t.measureType=e},expression:"measureType"}},[a("el-option",{attrs:{label:t.$t("map2D.length"),value:"length"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("map2D.area"),value:"area"}})],1)],1):t._e()],1)},staticRenderFns:[]};var _=a("VU/8")(b,y,!1,function(t){a("R3y8")},null,null).exports,x=l()({props:["pHeight"],data:function(){return{map:null,flag:!0,treeData:o.a.treeData2d,legendColumns:[{title:"数值",key:"value",render:function(t,e){return t("div",{style:{width:"200px",height:"20px"}},e.row.value)}},{title:"颜色",key:"color",render:function(t,e){return t("div",[t("div",{style:{color:"#19be6b",background:e.row.color,width:"100px",height:"20px"},on:{click:function(){}}})])}}],tempVectorLayers:[],rightPanelWidth:500,isScatterFormShow:!1}},methods:{initMap:function(){var t=this,e=new this.ol.Map({target:"map2d",view:new this.ol.View({center:[o.a.x,o.a.y],projection:this.ol.proj.get("EPSG:4326"),zoom:o.a.zoom,minZoom:4,maxZoom:23,extent:[-180,-52,180,52]})});return e.on("moveend",function(a){if(e.getView().getZoom()<16)for(var i=e.getLayers().a,l=0;l<t.treeData.length;l++)for(var o=0;o<t.treeData[l].children.length;o++)t.treeData[l].children[o].children?t.treeData[l].children[o].children.forEach(function(t){if("point"==t.geometry)for(var e=0;e<i.length;e++){if(i[e].N.id==t.id){var a=i[e].getSource();if(a)for(var l=a.getFeatures(),o=0,n=l.length;o<n;o++)l[o].getStyle().getText().setScale(0),l[o].changed()}break}}):t.treeData[l].children.forEach(function(t){if("point"==t.geometry)for(var e=0;e<i.length;e++)if(i[e].N.id==t.id){var a=i[e].getSource();if(a)for(var l=a.getFeatures(),o=0,n=l.length;o<n;o++)l[o].getStyle().getText().setScale(0),l[o].changed();break}});else for(i=e.getLayers().a,l=0;l<t.treeData.length;l++)for(o=0;o<t.treeData[l].children.length;o++)t.treeData[l].children[o].children?t.treeData[l].children[o].children.forEach(function(t){if("point"==t.geometry)for(var e=0;e<i.length;e++){if(i[e].N.id==t.id){var a=i[e].getSource();if(a)for(var l=a.getFeatures(),o=0,n=l.length;o<n;o++)l[o].getStyle().getText().setScale(1),l[o].changed()}break}}):t.treeData[l].children.forEach(function(t){if("point"==t.geometry)for(var e=0;e<i.length;e++)if(i[e].N.id==t.id){var a=i[e].getSource();if(a)for(var l=a.getFeatures(),o=0,n=l.length;o<n;o++)l[o].getStyle().getText().setScale(1),l[o].changed();break}})}),e},initLayer:function(t){for(var e=0,a=t.length;e<a;e++)if(t[e].isDir&&t[e].children)this.initLayer(t[e].children);else{var i=n.a.createOnlineServerLayer(t[e]);i&&this.map.addLayer(i)}},showScatterForm:function(){this.isScatterFormShow=!0},closeScatterFrom:function(t){this.isScatterFormShow=t},createLayerId:function(){for(var t,e=[],a=0;t=o.a.treeData[4].children[a++];)e.push(t.id);return e.sort(function(t,e){return t-e}),e[e.length-1]+1},getCurrentDisplay:function(){return 1==this.flag?"block":"二维地图"==this.getCurrentTab?"block":"none"}},computed:{showDrawCard2D:function(){return this.$store.state.Global.showDrawCard2D},getCurrentTab:function(){return this.$store.state.Global.activeTabValue},getInitMap2DFlag:function(){return this.$store.state.Global.showMenu2DFlag},tableData:function(){return this.$store.state.Global.legendsOfProjectedMap},legendVisible:function(){return this.$store.state.Global.legendsOfProjectedMapVisible}},watch:{},components:{drawPanel:u,scatterPoint:g,menuMap2d:_},mounted:function(){this.rightPanelWidth=window.innerWidth-250,this.map=this.initMap(),n.a.map=this.map,this.initLayer(this.treeData),this.$store.state.Global.map2DHandler=this.map,this.$store.state.Global.showLayerPanelFlag=!0,this.$store.state.Global.showMenu2DFlag=!0,this.$nextTick(function(){this.flag=!1}),document.getElementById("map2d").oncontextmenu=function(t){return!1}}},"watch",{}),w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("div",{attrs:{id:"map2d"}}),t._v(" "),t.getInitMap2DFlag?a("menuMap2d",{staticStyle:{position:"absolute",top:"5px",left:"35px","z-index":"100"}}):t._e(),t._v(" "),a("Content",{directives:[{name:"show",rawName:"v-show",value:t.legendVisible,expression:"legendVisible"}],staticClass:"legendTable"},[a("label",[t._v("图例")]),t._v(" "),a("br"),t._v(" "),a("Table",{attrs:{size:"small",data:t.tableData,columns:t.legendColumns,height:"240",width:"230"}})],1),t._v(" "),t.showDrawCard2D?a("drawPanel"):t._e(),t._v(" "),t.isScatterFormShow?a("scatterPoint",{attrs:{mapObj:t.map},on:{inputMess:t.closeScatterFrom}}):t._e()],1)},staticRenderFns:[]};var C=a("VU/8")(x,w,!1,function(t){a("0z/1")},null,null).exports,D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu"},[a("el-button-group",[a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-edit"},on:{click:function(e){return t.showDrawCard3D()}}},[t._v("辅助制图")]),t._v(" "),a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-s-grid"},on:{click:function(e){return t.onLineMeasure()}}},[t._v("在线测量")]),t._v(" "),a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-delete"},on:{click:function(e){return t.clearScreen()}}},[t._v("清屏")]),t._v(" "),a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-download"}},[t._v("导出")])],1)],1)},staticRenderFns:[]};var k={data:function(){return{btnSize:"small"}},methods:{getSurfaceLength:function(){MeasureTool.measureLineSpace(this.getHander3D,null,this.$store)},getSpaceArea:function(){MeasureTool.measureAreaSpace(this.getHander3D,null,this.$store)},getPlaneLength:function(){MeasureTool.measurePlaneLength(this.getHander3D,null,this.$store)},getHeight:function(){MeasureTool.measureHeight(this.getHander3D,null,this.$store)},clearScreen:function(){this.$store.state.Global.map3DHandler.entities.removeAll()}},computed:{getHander3D:function(){return this.$store.state.Global.map3DHandler}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{attrs:{shadow:"always",id:"measurePanel3D"}},[a("div",{staticClass:"measureBtnContainer"},[a("el-button",{attrs:{type:"primary",plain:"",size:t.btnSize},on:{click:function(e){return t.getSurfaceLength()}}},[t._v(" 空间距离")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:"",size:t.btnSize},on:{click:function(e){return t.getPlaneLength()}}},[t._v(" 平面距离")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:"",size:t.btnSize},on:{click:function(e){return t.getSpaceArea()}}},[t._v(" 空间面积")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:"",size:t.btnSize},on:{click:function(e){return t.getHeight()}}},[t._v(" 测高")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:"",size:t.btnSize},on:{click:function(e){return t.clearScreen()}}},[t._v(" 清除")])],1)])},staticRenderFns:[]};var S={data:function(){return{map3D:"map3D",cesiumViewer:null,tableHeight:800,columns:[{title:"值",key:"value"},{title:"颜色",key:"color"}],tableData:[],legendVisible:!1,progressBarVisible:!1,progressPercent:0}},methods:{clearEntities:function(){this.cesiumViewer.entities.removeAll(),this.legendVisible=!1,o.a.treeData3d[1].children=[]},addLayers:function(t,e){for(var a,i=0;a=t[i++];)if(a.children&&a.children.length>0)this.addLayers(a.children,e);else switch(a.type){case"ArcGIS_WMS":break;case"ArcGIS_WMTS":break;case"WMS":break;case"WMTS":var l,o=new this.Cesium.WebMapTileServiceImageryProvider({url:a.url,layer:a.layer,style:"default",format:"image/jpeg",tileMatrixSetID:"GoogleMapsCompatible"});(l=new this.Cesium.ImageryLayer(o)).show=a.visible,a.imageryLayer=l,e.imageryLayers.add(l);break;case"DEM":if(a.visible){var n=new this.Cesium.CesiumTerrainProvider({url:a.url});e.scene.terrainProvider=n}}}},computed:{getInitMap3DFlag:function(){return this.$store.state.Global.showLayerPanelFlag},getShowMeasure3DFlag:function(){return this.$store.state.Global.showMeasure3DFlag},getCurrentActiveTab:function(){return this.$store.state.Global.activeTabValue}},components:{menuMap3d:a("VU/8")({data:function(){return{}},methods:{clearScreen:function(){this.$store.state.Global.map3DHandler.dataSources.removeAll(!0),this.$store.state.Global.map3DHandler.entities.removeAll(),this.$store.state.Global.showMeasure3DFlag=!1},onLineMeasure:function(){this.$store.state.Global.showMeasure3DFlag=!0},showDrawCard3D:function(){}}},D,!1,function(t){a("viiW")},"data-v-a9b8d97a",null).exports,measurePanel:a("VU/8")(k,$,!1,function(t){a("qLLt")},null,null).exports}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Content",{style:{padding:"0px",height:"100%",width:"100%",background:"#fff"}},[a("div",{style:{display:"三维地图"==this.getCurrentActiveTab?"block":"none"},attrs:{id:"cesiumContainer"}}),t._v("\n      ;\n      "),a("menuMap3d",{staticStyle:{position:"absolute",top:"5px",left:"5px","z-index":"100"}}),t._v(" "),t.getShowMeasure3DFlag?a("measurePanel",{staticStyle:{position:"absolute",top:"50px",left:"5px","z-index":"100"}}):t._e(),t._v(" "),a("div",{staticStyle:{display:"none",position:"absolute",height:"20px",width:"127px",background:"olive",top:"0px",left:"0px",color:"#fff"},attrs:{id:"toolTip"}})],1),t._v(" "),a("Content",{directives:[{name:"show",rawName:"v-show",value:t.progressBarVisible,expression:"progressBarVisible"}],attrs:{id:"progressBar"}},[a("label",[t._v("正在处理中...")]),t._v(" "),a("Progress",{attrs:{percent:t.progressPercent,status:"active"}})],1),t._v(" "),a("Content",{directives:[{name:"show",rawName:"v-show",value:t.legendVisible,expression:"legendVisible"}],attrs:{id:"legendTable"}},[a("label",[t._v("图例")]),t._v(" "),a("br"),t._v(" "),a("Table",{attrs:{id:"tuliTable",size:"small",data:t.tableData,columns:t.columns,height:"240"}})],1)],1)},staticRenderFns:[]};var T=a("VU/8")(S,F,!1,function(t){a("dHmz")},null,null).exports,M=(a("GRLA"),{data:function(){return{layerType:"地图图层",addLayerModal:!1,map3dViewer:null,loading:!0,initTreeFlag:!1,treeData3d:o.a.treeData3d,treeData3d_DefaultLayers:o.a.tree3dDefaultLayers,defaultLayers:[],defaultProps:{children:"children",label:"label"},ruleValidate:{name:[{required:!0,message:"The name cannot be empty",trigger:"blur"}],url:[{required:!0,message:"url cannot be empty",trigger:"blur"},{type:"url",message:"Incorrect url format",trigger:"blur"}],select:[{required:!0,message:"Please select the type",trigger:"change"}]},formItem:{url:"",select:"",name:"",position:{bottom:"",top:"",right:"",left:""}},allowDelete:!1,allowPosition:!1,treeModalVisible:!1,screenLeft:0,screenTop:0,treeNode:null,treeObj:null}},methods:{handleCheck_3d:function(t,e){if(t.children&&t.children instanceof Array&&t.children.length>0)for(var a=0;a<t.children.length;a++)this.handleCheck_3d(t.children[a]);else if(t.imageryLayer)t.visible?(t.imageryLayer.show=!1,t.visible=!1):(t.imageryLayer.show=!0,t.visible=!0);else if("DEM"==t.type){var i,l=this.map3dViewer.scene;t.visible?(i=new this.Cesium.EllipsoidTerrainProvider({}),t.visible=!1):(i=new this.Cesium.CesiumTerrainProvider({url:t.url}),t.visible=!0),l.terrainProvider=i}},initDefaultCheckedLayer:function(t){if(t instanceof Array)for(var e=0,a=t.length;e<a;e++)t[e].children&&t[e].children.length>0?this.initDefaultCheckedLayer(t[e].children):1==t[e].visible&&this.defaultLayers.push(t[e].id)},ImportDataFromFile:function(t){var e=this;n.a.ImportDataTo3d(t,function(t){e.treeData3d[1].children.push(t),e.$nextTick(function(){e.$refs.tree.setChecked(t.id,!0),e.loading=!0})})},ok:function(){var t=this;"地图图层"==this.layerType?this.addMapLayer():"数据图层"==this.layerType&&(setTimeout(function(){t.loading=!1,t.$nextTick(function(){t.loading=!0})},1e3),this.cancel())},cancel:function(){for(var t in this.formItem)this.formItem[t]="";this.addLayerModal=!1},onFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件 "+t.name+" 格式不正确，请上传【.xls,.grd】文件。"})},handleRightClick:function(t,e,a,i){this.screenLeft=160,this.screenTop=t.screenY-270,document.addEventListener("click",this.foo),this.treeNode=a,this.treeObj=e,1==!e.remove?this.allowDelete=!0:this.allowDelete=!1,e.isDir?this.allowPosition=!0:this.allowPosition=!1,this.treeModalVisible=!0},foo:function(){this.treeModalVisible=!1,document.removeEventListener("click",this.foo)},positionClick:function(){var t=this.treeNode.data.viewEntity;t&&this.$store.state.Global.map3DHandler.zoomTo(t,new this.Cesium.HeadingPitchRange(60,-30,8e3))},deleteClick:function(){}},mounted:function(){this.map3dViewer=this.$store.state.Global.map3DHandler,n.a.cesiumViewer=this.map3dViewer,n.a.Cesium=this.$store.state.Global.Cesium,this.initDefaultCheckedLayer(this.treeData3d),this.initTreeFlag=!0,this.$nextTick(function(){this.$store.state.Global.threeDLayerTree=this.$refs.tree})}}),L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layer-container",staticStyle:{position:"relative"}},[t.initTreeFlag?a("el-tree",{ref:"tree",attrs:{data:t.treeData3d,"show-checkbox":"","node-key":"id","expand-on-click-node":!0,"default-expanded-keys":[1],"default-checked-keys":t.defaultLayers,props:t.defaultProps},on:{check:t.handleCheck_3d,"node-contextmenu":t.handleRightClick}}):t._e(),t._v(" "),t.treeModalVisible?a("div",{staticStyle:{position:"absolute",background:"#fff","border-radius":"4px","box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"},style:{left:t.screenLeft+"px",top:t.screenTop+"px"}},[a("ButtonGroup",{attrs:{vertical:""}},[a("Button",{attrs:{icon:"md-close-circle",disabled:t.allowDelete},on:{click:t.deleteClick}},[t._v("删除")]),t._v(" "),a("Button",{attrs:{icon:"ios-pin",disabled:t.allowPosition},on:{click:function(e){return e.stopPropagation(),t.positionClick.apply(null,arguments)}}},[t._v("定位")])],1)],1):t._e(),t._v(" "),a("Modal",{attrs:{title:"添加图层",loading:t.loading,"mask-closable":!1},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.addLayerModal,callback:function(e){t.addLayerModal=e},expression:"addLayerModal"}},[a("RadioGroup",{attrs:{size:"small"},model:{value:t.layerType,callback:function(e){t.layerType=e},expression:"layerType"}},[a("Radio",{attrs:{label:"地图图层"}}),t._v(" "),a("Radio",{attrs:{label:"数据图层"}})],1),t._v(" "),"地图图层"==t.layerType?a("Form",{key:"form1",staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":75,rules:t.ruleValidate}},[a("FormItem",{attrs:{label:"服务类型",prop:"select"}},[a("Select",{model:{value:t.formItem.select,callback:function(e){t.$set(t.formItem,"select",e)},expression:"formItem.select"}},[a("Option",{attrs:{value:"XYZ"}},[t._v("XYZ")]),t._v(" "),a("Option",{attrs:{value:"Image"}},[t._v("Image")]),t._v(" "),a("Option",{attrs:{value:"Arcgis"}},[t._v("Arcgis")]),t._v(" "),a("Option",{attrs:{value:"WMTS"}},[t._v("WMTS")])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"服务地址",prop:"url"}},[a("Input",{attrs:{placeholder:"请输入服务地址"},model:{value:t.formItem.url,callback:function(e){t.$set(t.formItem,"url",e)},expression:"formItem.url"}})],1),t._v(" "),a("FormItem",{attrs:{label:"图层名称",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入图层名称"},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),t._v(" "),"Image"==this.formItem.select?a("FormItem",{attrs:{label:"图片位置"}},[a("Input",{staticStyle:{width:"80px"},attrs:{placeholder:"left"},model:{value:t.formItem.position.left,callback:function(e){t.$set(t.formItem.position,"left",e)},expression:"formItem.position.left"}}),t._v(" "),a("Input",{staticStyle:{width:"80px"},attrs:{placeholder:"bottom"},model:{value:t.formItem.position.bottom,callback:function(e){t.$set(t.formItem.position,"bottom",e)},expression:"formItem.position.bottom"}}),t._v(" "),a("Input",{staticStyle:{width:"80px"},attrs:{placeholder:"right"},model:{value:t.formItem.position.right,callback:function(e){t.$set(t.formItem.position,"right",e)},expression:"formItem.position.right"}}),t._v(" "),a("Input",{staticStyle:{width:"80px"},attrs:{placeholder:"top"},model:{value:t.formItem.position.top,callback:function(e){t.$set(t.formItem.position,"top",e)},expression:"formItem.position.top"}})],1):t._e()],1):t._e(),t._v(" "),"数据图层"==t.layerType?a("Form",{key:"form2",staticStyle:{"margin-top":"20px"},attrs:{"label-width":75}},[a("FormItem",{attrs:{label:"上传文件"}},[a("Upload",{attrs:{action:"","before-upload":t.ImportDataFromFile,format:["grd","xls"],"on-format-error":t.onFormatError}},[a("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("选择文件")])],1)],1)],1):t._e()],1)],1)},staticRenderFns:[]};var z=a("VU/8")(M,L,!1,function(t){a("Q/IR")},null,null).exports,A=a("woOf"),G=a.n(A),N=a("fZjL"),P=a.n(N),I=a("uXZL"),V=a.n(I),E=a("xrTZ"),O=a("t4zo"),R=a.n(O),j={data:function(){return{treeData:o.a.treeWorkSpace,treeModalBox:!1,screenLeft:0,screenTop:0,dataGuid:"",dataName:"",defaultProps:{children:"children",label:"label"},pointModal:!1,freType:[{value:1,label:"高通滤波"},{value:-1,label:"低通滤波"}],mf_time:2,mf_width:1,mf_name:"",freValue:.01,selectedFreType:1,fre_name:"",fileTypeXls:!0,viewData:!0,fileTypeGrd:!0,Diagram:!0,txt:!1,map3d:!1,currentTreeItem:"",currentTarget:null}},computed:{getPanelHeight:function(){return 0==this.$store.state.Global.screenHeight?document.body.clientHeight-170:this.$store.state.Global.screenHeight-170}},methods:{LeadOut_xlsx:function(){n.a.getJsonFromDatabase(this.dataGuid,function(t){var e=t.data,a=e.length,i=[],l=[],o=0;for(var n in e[0])o+=1,i.push({id:o,label:n,value:n});for(var s=0,c=a;s<c;s++){for(var d={},u=0;u<i.length;u++){var p=i[u].value;d[p]=e[s][p]}l.push(d)}var h=JSON.parse(r()(l)),m=P()(h[0]),g={};m.forEach(function(t){g[t]=t}),h.unshift(g);var f={};h.map(function(t,e){return m.map(function(a,i){return G()({},{value:t[a],position:i>25?function(t){var e="",a=0;for(;t>0;)a=t%26+1,e=String.fromCharCode(a+64)+e,t=(t-a)/26;return e}(i):String.fromCharCode(65+i)+(e+1)})})}).reduce(function(t,e){return t.concat(e)}).forEach(function(t,e){f[t.position]={v:t.value}});var v=P()(f),b={SheetNames:["Sheet1"],Sheets:{Sheet1:G()({},f,{"!ref":v[0]+":"+v[v.length-1]})}},y=V.a.write(b,{bookType:"xlsx",bookSST:!1,type:"binary"}),_=new Blob([function(t){for(var e=new ArrayBuffer(t.length),a=new Uint8Array(e),i=0;i!=t.length;++i)a[i]=255&t.charCodeAt(i);return e}(y)],{type:""});saveAs(_,"data.xls")})},LeadOut:function(){n.a.getJsonFromDatabase(this.dataGuid,function(t){var e=void 0,a=void 0,i=[],l=0;if(t.isView){e=t.data;for(var o=0;o<e.length;o++)i.push(e[o].x+" "+e[o].dt);a="X, Dat\n"+i}else{a=(e=t.grdData).type+"\n"+e.xcount+" "+e.ycount+"\n"+e.xmin+" "+e.xmax+"\n"+e.ymin+" "+e.ymax+"\n"+e.zmin+" "+e.zmax+"\n";for(var n=0;n<e.z.length;n++){for(var s=0;s<e.z[n].length;s++)l++,a+=e.z[n][s]+" ",10==l&&(a+="\n",l=0);(l=0)||(l=0,a+="\n")}}var r=new RegExp(",","g"),c=a.replace(/NaN/g,"1.70141E38").replace(r," "),d=new Blob([c],{type:""});R.a.saveAs(d,t.displayName)})},LeadOut_txt:function(){n.a.getJsonFromDatabase(this.dataGuid,function(t){R.a.saveAs(t.file,t.displayName)})},handleLeftClick:function(t,e,a){if(this.treeModalBox=!1,document.removeEventListener("click",this.foo),"grd"==t.datatype){if(2==event.detail)if(t.isView);else{if(1==t.id||2==t.id||3==t.id||4==t.id||5==t.id)return;if(this.dataGuid=t.guid,this.dataName=t.label,0!=this.$store.state.Global.workspaceTabArr.length)for(var i=0;i<this.$store.state.Global.workspaceTabArr.length;i++)if(this.$store.state.Global.workspaceTabArr[i].id==this.dataGuid&&"heatmap"==this.$store.state.Global.workspaceTabArr[i].type)return void(this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("linesMap.mapType.heatmap"));this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("linesMap.mapType.heatmap"),componentName:"contourMap",id:this.dataGuid,title:window.vm.$i18n.t("linesMap.mapType.heatmap")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"heatmap"}),this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("linesMap.mapType.heatmap")}}else if("xyzval"==t.datatype){if(2==event.detail){if(this.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),this.dataGuid=t.guid,this.dataName=t.label,0==this.$store.state.Global.workspaceTabArr.length)this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("type.specialChart.volumn"),componentName:"threeDimensional",id:this.dataGuid,title:window.vm.$i18n.t("type.specialChart.volumn")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"});else for(i=0;i<this.$store.state.Global.workspaceTabArr.length&&(this.$store.state.Global.workspaceTabArr[i].id!=this.dataGuid||"threeDimensional"!=this.$store.state.Global.workspaceTabArr[i].componentName);i++)i==this.$store.state.Global.workspaceTabArr.length-1&&(this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("type.specialChart.volumn"),componentName:"threeDimensional",id:this.dataGuid,title:window.vm.$i18n.t("type.specialChart.volumn")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"}));this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("type.specialChart.volumn")}}else if(2==event.detail){if(1==t.id||2==t.id||3==t.id||4==t.id||5==t.id)return;if(this.dataGuid=t.guid,this.dataName=t.label,0==this.$store.state.Global.workspaceTabArr.length)this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("workspace.viewData"),componentName:"fileContent",id:this.dataGuid,title:window.vm.$i18n.t("workspace.viewData")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex});else for(i=0;i<this.$store.state.Global.workspaceTabArr.length&&(this.$store.state.Global.workspaceTabArr[i].id!=this.dataGuid||"fileContent"!=this.$store.state.Global.workspaceTabArr[i].componentName);i++)i==this.$store.state.Global.workspaceTabArr.length-1&&(this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("workspace.viewData"),componentName:"fileContent",id:this.dataGuid,title:window.vm.$i18n.t("workspace.viewData")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex}));this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("workspace.viewData")}},handleRightClick:function(t,e,a,i){if(this.$store.state.Global.thematicFlag=!1,this.currentTarget=t.currentTarget,this.currentTreeItem=i.$refs,this.dataGuid=e.guid,this.dataName=e.label,1!=e.id&&2!=e.id&&3!=e.id&&4!=e.id&&5!=e.id){switch(this.screenLeft=90,this.screenTop=t.clientY-145,document.addEventListener("click",this.foo),this.treeModalBox=!0,e.datatype){case"grd":this.Diagram=!1,this.fileTypeXls=!1,this.viewData=!1,this.txt=!1,this.fileTypeGrd=!0,this.map3d=!1;break;case"xls":this.Diagram=!0,this.fileTypeXls=!0,this.viewData=!0,this.txt=!1,this.fileTypeGrd=!1,this.map3d=!1;break;case"xlsx":this.Diagram=!0,this.fileTypeXls=!0,this.viewData=!0,this.fileTypeGrd=!1,this.txt=!1,this.map3d=!1;break;case"dat":case"txt":case"csv":case"xyz":this.Diagram=!1,this.fileTypeXls=!1,this.viewData=!0,this.txt=!0,this.fileTypeGrd=!1,this.map3d=!1;break;case"xyzval":this.Diagram=!1,this.fileTypeXls=!1,this.viewData=!1,this.txt=!1,this.fileTypeGrd=!1,this.map3d=!0}e.isView&&(this.Diagram=!0,this.fileTypeXls=!1,this.fileTypeGrd=!1,this.viewData=!0)}},foo:function(){this.treeModalBox=!1,document.removeEventListener("click",this.foo)},deleteData:function(){var t=this;this.$confirm(window.vm.$i18n.t("workspace.message"),window.vm.$i18n.t("layer.tips"),{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then(function(){for(var e=t,a=t.$store.state.Global.workspaceTabArr.filter(function(t){return t.id==e.dataGuid}),i=function(i){var l=a[i].name,o=t.$store.state.Global.workspaceTabArr,n=t.$store.state.Global.workspaceActiveTabValue;n===l&&o.forEach(function(t,e){if(t.name===l){var a=o[e+1]||o[e-1];a&&(n=a.name)}}),"algManage"===l&&(t.algManage=!1,t.$store.state.Global.algManage=!1),"sharingProductionsManage"===l&&(t.sharingProductionsManage=!1,t.$store.state.Global.sharingProductionsManage=!1),"algorithmUseStatistics"===l&&(t.algorithmUseStatistics=!1,t.$store.state.Global.algorithmUseStatistics=!1),"addressDetection"===l&&(t.addressDetection=!1,t.$store.state.Global.addressDetection=!1),t.$store.state.Global.workspaceTabArr=o.filter(function(t){return t.id!==e.dataGuid}),0==t.$store.state.Global.workspaceTabArr.length?t.$store.state.Global.workspaceActiveTabValue="default":t.$store.state.Global.workspaceActiveTabValue=n},l=0;l<a.length;l++)i(l);t.$store.state.LocalDB.db.deleteData(t.dataGuid,t.getAllData),t.$message({type:"success",message:window.vm.$i18n.t("workspace.deleteSuccess")})}).catch(function(){})},algorithmCommon:function(t,e,a){var i=" ";i+=e+t.grdData.type+"\n"+t.grdData.xcount+"\n"+t.grdData.ycount+"\n"+t.grdData.xmin+"\n"+t.grdData.xmax+"\n"+t.grdData.ymin+"\n"+t.grdData.ymax+"\n"+t.grdData.zmin+"\n"+t.grdData.zmax+"\n";for(var l=0;l<t.grdData.z.length;l++)for(var o=0;o<t.grdData.z[l].length;o++)i+=t.grdData.z[l][o]+"\n";var n={};return n.fun=a,n.par=i,n},cancel:function(){this.$Message.info("Clicked cancel")},text2grd:function(t,e,a){var i,l,o,n,s,r,c,d,u=E.Base64.decode(t.data.res),p=new Array,h=new Array,m=new Array,g=new Array;(g=u.replace(/\r|\n/," ").split(/\s+/))[0],i=parseInt(g[1]),l=parseInt(g[2]),o=parseFloat(g[3]),n=parseFloat(g[4]),s=parseFloat(g[5]),r=parseFloat(g[6]),c=parseFloat(g[7]),d=parseFloat(g[8]);for(var f=(n-o)/(i-1),v=0;v<i;v++)p[v]=o+v*f;var b=(r-s)/(l-1);for(v=0;v<l;v++)h[v]=s+v*b;for(v=0;v<l;v++){m[v]=new Array;for(var y=0;y<i;y++){m[v][y]=parseFloat(g[v*i+y+0+9]);var _={x:p[y],y:h[v],z:m[v][y]};a.push(_)}}e.type="DSAA",e.nx=i,e.ny=l,e.xmin=o,e.xmax=n,e.ymin=s,e.ymax=r,e.zmin=c,e.zmax=d,e.dx=f,e.dy=b,e.x=p,e.y=h,e.z=m},getAllData:function(){var t=this;n.a.getAllJsonFromDatabase(function(e){for(var a=0;a<t.treeData[0].children.length;a++)t.treeData[0].children[a].children=[];if(e.length>0)for(a=0;a<e.length;a++){var i=e[a].datatype;"xls"==i||"xlsx"==i?t.treeData[0].children[0].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid,Data:e[a].data,isView:e[a].isView}):"txt"==i||"dat"==i||"csv"==i||"xyz"==i?t.treeData[0].children[0].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid,Data:e[a].data,isView:e[a].isView}):"grd"==i?t.treeData[0].children[1].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid,column:e[a].isView}):"xyzval"==i?t.treeData[0].children[2].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid}):"shp"==i?t.treeData[0].children[2].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid}):t.treeData[0].children[3].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid})}})},handleContour:function(){var t=this.currentTarget;if(null!=t&&(v()(".el-tree-node__children").find(".el-tree-node").removeClass("workspace-active-layer"),v()(t).addClass("workspace-active-layer")),0!=this.$store.state.Global.workspaceTabArr.length)for(var e=0;e<this.$store.state.Global.workspaceTabArr.length;e++)if(this.$store.state.Global.workspaceTabArr[e].id==this.dataGuid&&"contourMap"==this.$store.state.Global.workspaceTabArr[e].componentName)return void(this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("linesMap.resultName"));this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("linesMap.resultName"),componentName:"contourMap",id:this.dataGuid,title:window.vm.$i18n.t("linesMap.resultName")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"}),this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("linesMap.resultName")},handleContour2:function(){var t=this.currentTarget;if(null!=t&&(v()(".el-tree-node__children").find(".el-tree-node").removeClass("workspace-active-layer"),v()(t).addClass("workspace-active-layer")),0!=this.$store.state.Global.workspaceTabArr.length)for(var e=0;e<this.$store.state.Global.workspaceTabArr.length;e++)if(this.$store.state.Global.workspaceTabArr[e].id==this.dataGuid&&"contour"==this.$store.state.Global.workspaceTabArr[e].type)return void(this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("linesMap.resultName"));this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("linesMap.resultName"),componentName:"chemistryMap",id:this.dataGuid,title:"化学图_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour",flagType:"0"}),this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("linesMap.resultName")},handleDiagram:function(){var t=this.currentTarget;if(null!=t&&(v()(".el-tree-node__children").find(".el-tree-node").removeClass("workspace-active-layer"),v()(t).addClass("workspace-active-layer")),0==this.$store.state.Global.workspaceTabArr.length)this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("compareMap.diagram"),componentName:"diagram",id:this.dataGuid,title:window.vm.$i18n.t("compareMap.diagram")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"});else for(var e=0;e<this.$store.state.Global.workspaceTabArr.length&&(this.$store.state.Global.workspaceTabArr[e].id!=this.dataGuid||"diagram"!=this.$store.state.Global.workspaceTabArr[e].componentName);e++)e==this.$store.state.Global.workspaceTabArr.length-1&&(this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("compareMap.diagram"),componentName:"diagram",id:this.dataGuid,title:window.vm.$i18n.t("compareMap.diagram")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"}));this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("compareMap.diagram")},handle3Dmap:function(){var t=this.currentTarget;if(null!=t&&(v()(".el-tree-node__children").find(".el-tree-node").removeClass("workspace-active-layer"),v()(t).addClass("workspace-active-layer")),0==this.$store.state.Global.workspaceTabArr.length)this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("type.specialChart.volumn"),componentName:"threeDimensional",id:this.dataGuid,title:window.vm.$i18n.t("type.specialChart.volumn")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"});else for(var e=0;e<this.$store.state.Global.workspaceTabArr.length&&(this.$store.state.Global.workspaceTabArr[e].id!=this.dataGuid||"threeDimensional"!=this.$store.state.Global.workspaceTabArr[e].componentName);e++)e==this.$store.state.Global.workspaceTabArr.length-1&&(this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("type.specialChart.volumn"),componentName:"threeDimensional",id:this.dataGuid,title:window.vm.$i18n.t("type.specialChart.volumn")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"}));this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("type.specialChart.volumn")},handleChemicalAnomaly:function(){var t=this.currentTarget;if(null!=t&&(v()(".el-tree-node__children").find(".el-tree-node").removeClass("workspace-active-layer"),v()(t).addClass("workspace-active-layer")),0==this.$store.state.Global.workspaceTabArr.length)this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("voxels.name"),componentName:"chemicalAnomaly",id:this.dataGuid,title:window.vm.$i18n.t("voxels.name")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"});else for(var e=0;e<this.$store.state.Global.workspaceTabArr.length&&(this.$store.state.Global.workspaceTabArr[e].id!=this.dataGuid||"chemicalAnomaly"!=this.$store.state.Global.workspaceTabArr[e].componentName);e++)e==this.$store.state.Global.workspaceTabArr.length-1&&(this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("voxels.name"),componentName:"chemicalAnomaly",id:this.dataGuid,title:window.vm.$i18n.t("voxels.name")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"}));this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("voxels.name")},handleChemicalAnomalyCompose:function(){var t=this.currentTarget;if(null!=t&&(v()(".el-tree-node__children").find(".el-tree-node").removeClass("workspace-active-layer"),v()(t).addClass("workspace-active-layer")),0==this.$store.state.Global.workspaceTabArr.length)this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("groupElement.name"),componentName:"chemicalAnomalyCompose",id:this.dataGuid,title:window.vm.$i18n.t("groupElement.name")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"});else for(var e=0;e<this.$store.state.Global.workspaceTabArr.length&&(this.$store.state.Global.workspaceTabArr[e].id!=this.dataGuid||"chemicalAnomalyCompose"!=this.$store.state.Global.workspaceTabArr[e].componentName);e++)e==this.$store.state.Global.workspaceTabArr.length-1&&(this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("groupElement.name"),componentName:"chemicalAnomalyCompose",id:this.dataGuid,title:window.vm.$i18n.t("groupElement.name")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex,type:"contour"}));this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("groupElement.name")},handlePoint:function(){var t=this.currentTarget;if(null!=t&&(v()(".el-tree-node__children").find(".el-tree-node").removeClass("workspace-active-layer"),v()(t).addClass("workspace-active-layer")),0==this.$store.state.Global.workspaceTabArr.length)this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("pointMap.title"),componentName:"pointerMap",id:this.dataGuid,title:window.vm.$i18n.t("pointMap.title")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex});else for(var e=0;e<this.$store.state.Global.workspaceTabArr.length&&(this.$store.state.Global.workspaceTabArr[e].id!=this.dataGuid||"pointerMap"!=this.$store.state.Global.workspaceTabArr[e].componentName);e++)e==this.$store.state.Global.workspaceTabArr.length-1&&(this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("pointMap.title"),componentName:"pointerMap",id:this.dataGuid,title:window.vm.$i18n.t("pointMap.title")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex}));this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("pointMap.title")},handleSection:function(){var t=this.currentTarget;if(null!=t&&(v()(".el-tree-node__children").find(".el-tree-node").removeClass("workspace-active-layer"),v()(t).addClass("workspace-active-layer")),0==this.$store.state.Global.workspaceTabArr.length)this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("sectionMap.title"),componentName:"sectionMap",id:this.dataGuid,title:window.vm.$i18n.t("sectionMap.title")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex});else for(var e=0;e<this.$store.state.Global.workspaceTabArr.length&&(this.$store.state.Global.workspaceTabArr[e].id!=this.dataGuid||"sectionMap"!=this.$store.state.Global.workspaceTabArr[e].componentName);e++)e==this.$store.state.Global.workspaceTabArr.length-1&&(this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("sectionMap.title"),componentName:"sectionMap",id:this.dataGuid,title:window.vm.$i18n.t("sectionMap.title")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex}));this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("sectionMap.title")},handleShowFileInfo:function(){var t=this.currentTarget;if(null!=t&&(v()(".el-tree-node__children").find(".el-tree-node").removeClass("workspace-active-layer"),v()(t).addClass("workspace-active-layer")),0==this.$store.state.Global.workspaceTabArr.length)this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("workspace.viewData"),componentName:"fileContent",id:this.dataGuid,title:window.vm.$i18n.t("workspace.viewData")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex});else for(var e=0;e<this.$store.state.Global.workspaceTabArr.length&&(this.$store.state.Global.workspaceTabArr[e].id!=this.dataGuid||"fileContent"!=this.$store.state.Global.workspaceTabArr[e].componentName);e++)e==this.$store.state.Global.workspaceTabArr.length-1&&(this.$store.state.Global.workspaceTabIndex=this.$store.state.Global.workspaceTabIndex+1,this.$store.state.Global.workspaceTabArr.push({name:this.dataGuid+window.vm.$i18n.t("workspace.viewData"),componentName:"fileContent",id:this.dataGuid,title:window.vm.$i18n.t("workspace.viewData")+"_"+this.dataName,index:this.$store.state.Global.workspaceTabIndex}));this.$store.state.Global.workspaceActiveTabValue=this.dataGuid+window.vm.$i18n.t("workspace.viewData")}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layerctrl",staticStyle:{overflow:"auto"},style:{height:t.getPanelHeight+"px"}},[a("el-tree",{staticStyle:{height:"100%"},attrs:{data:t.treeData,"default-expanded-keys":[1,2,3],"node-key":"id","highlight-current":"",props:t.defaultProps},on:{"node-click":t.handleLeftClick,"node-contextmenu":t.handleRightClick}}),t._v(" "),t.treeModalBox?a("div",{staticStyle:{position:"absolute",background:"#fff","text-align":"left"},style:{left:t.screenLeft+"px",top:t.screenTop+"px"}},[t.fileTypeXls?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handlePoint}},[t._v(t._s(t.$t("pointMap.title"))+"\n        ")]):t._e(),t._v(" "),t.txt?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handlePoint}},[t._v(t._s(t.$t("pointMap.title"))+"\n      ")]):t._e(),t._v(" "),a("span"),t._v(" "),t.fileTypeGrd?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handleContour}},[t._v(t._s(t.$t("linesMap.title"))+"\n        ")]):t._e(),t._v(" "),t.Diagram?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handleDiagram}},[t._v(t._s(t.$t("compareMap.diagram"))+"\n        ")]):t._e(),t._v(" "),t.txt?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handleDiagram}},[t._v(t._s(t.$t("compareMap.diagram"))+"\n      ")]):t._e(),t._v(" "),a("span"),t._v(" "),t.fileTypeXls?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handleSection}},[t._v(t._s(t.$t("sectionMap.title"))+"\n        ")]):t._e(),t._v(" "),a("span"),t._v(" "),t.viewData?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handleShowFileInfo}},[t._v("\n          "+t._s(t.$t("workspace.viewData"))+"\n        ")]):t._e(),t._v(" "),a("span"),t._v(" "),t.fileTypeGrd?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.LeadOut}},[t._v(t._s(t.$t("workspace.exportData"))+"\n        ")]):t._e(),t._v(" "),t.Diagram?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.LeadOut_xlsx}},[t._v(t._s(t.$t("workspace.exportData"))+"\n        ")]):t._e(),t._v(" "),t.txt?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.LeadOut_txt}},[t._v(t._s(t.$t("workspace.exportData"))+"\n      ")]):t._e(),t._v(" "),a("span"),t._v(" "),t.map3d?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handle3Dmap}},[t._v(t._s(t.$t("type.specialChart.volumn"))+"\n      ")]):t._e(),t._v(" "),a("span"),t._v(" "),t.fileTypeGrd?a("el-button",{staticStyle:{width:"100%","text-align":"center"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handleChemicalAnomaly}},[t._v(t._s(t.$t("voxels.name"))+"\n      ")]):t._e(),t._v(" "),a("span"),t._v(" "),t.fileTypeGrd?a("el-button",{staticStyle:{width:"100%","text-align":"center"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handleChemicalAnomalyCompose}},[t._v(t._s(t.$t("groupElement.name"))+"\n      ")]):t._e(),t._v(" "),a("span"),t._v(" "),t.map3d?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.LeadOut_txt}},[t._v(t._s(t.$t("workspace.exportData")))]):t._e(),t._v(" "),a("span"),t._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{icon:"el-icon-delete",size:"mini",type:"danger",plain:""},on:{click:t.deleteData}},[t._v(t._s(t.$t("workspace.delete"))+"\n        ")])],1):t._e()],1)},staticRenderFns:[]};var B={props:["toChildrenObj"],data:function(){return{dialogVisible:!0,resultName:"",resultDescrip:"",isPublic:!0,shareResult:"",resultVisible:!1,options:[{value:!0,label:"是"},{value:!1,label:"否"}]}},methods:{close:function(){this.$emit("inputMess","")},share:function(){""==this.resultName&&e.$message({type:"warning",message:"成果名称不能为空",duration:2e3});var t=n.a.newGuid(),e=this;e.$message({type:"success",message:"正在上传中...",duration:5e3});var a={guid:t,name:e.resultName,description:e.resultDescrip,geojson:e.toChildrenObj.json,colorConfig:e.toChildrenObj.colorConfig,isPublic:e.isPublic,authorId:"001"};e.axios.post(WebConfig.ServicesUrl+"/insertGeoshare",a).then(function(a){e.$message({type:"success",message:"共享成功!"}),e.shareResult=t,e.resultVisible=!0}).catch(function(t){e.$Message.error("共享失败！")})}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:"数据成果共享",visible:t.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"450px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("共享名称：")])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"请输入",size:"small"},model:{value:t.resultName,callback:function(e){t.resultName=e},expression:"resultName"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("内容描述：")])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:3,maxRows:5},resize:"none","show-word-limit":"",maxlength:"200",rows:3,size:"small"},model:{value:t.resultDescrip,callback:function(e){t.resultDescrip=e},expression:"resultDescrip"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable",staticStyle:{"margin-bottom":"10px"}},[t._v("是否共享：")])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.isPublic,callback:function(e){t.isPublic=e},expression:"isPublic"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),t.resultVisible?a("el-row",{attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("共享ID编号：")])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{readonly:"",size:"small"},model:{value:t.shareResult,callback:function(e){t.shareResult=e},expression:"shareResult"}})],1)],1):t._e(),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.share}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var U={props:["isHide"],data:function(){return{map:null,loading:!0,treeData2d:o.a.treeData2d,nodeKey:100,defaultProps:{children:"children",label:"label"},defaultLayer:[],tabPanelHeight:0,treeModalVisible:!1,markIf:!1,screenLeft:0,screenTop:0,treeNode:null,treeObj:null,allowDelete:!1,allowPosition:!1,initTreeFlag:!1,activeTab:"",screenHeight:0,resultShareVisible:!1,toPublicObj:null,layerTransparency:0,transpanceVisible:!1}},components:{map3dLayerControl:z,workspaceLayerControl:a("VU/8")(j,W,!1,function(t){a("W+ao")},null,null).exports,resultShare:a("VU/8")(B,H,!1,function(t){a("3CjG")},"data-v-d3b18446",null).exports},watch:{getCurActiveTab:function(t,e){"三维地图"!=t&&"二维地图"!=t&&"工作区"!=t||(this.activeTab=t)},activeTab:function(t,e){this.$store.state.Global.activeTabValue=t}},computed:{getCurActiveTab:function(){return this.$store.state.Global.activeTabValue},getPanelHeight:function(){return 0==this.$store.state.Global.screenHeight?document.body.clientHeight-180:this.$store.state.Global.screenHeight-180}},methods:{handleCheck_2d:function(t,e){if(t.children&&t.children instanceof Array&&t.children.length>0)for(var a=0;a<t.children.length;a++)this.handleCheck_2d(t.children[a],e);else this.map.getLayers().forEach(function(a){a.N.id==t.id&&(e.checkedKeys.indexOf(a.N.id)>-1?a.setVisible(!0):a.setVisible(!1))})},removeLayer:function(t){if(t.childNodes.length>0)for(var e=0;e<t.childNodes.length;e++)this.removeLayer(t.childNodes[e]);else{var a=t.data.id,i=this.map.getLayers().a;for(e=0;e<i.length;e++)i[e].N.id==a&&this.map.removeLayer(i[e])}},remove:function(t,e){var a=this;this.$Modal.confirm({title:"提示",content:"<p>删除图层后将不能恢复，确定删除该图层吗？</p>",onOk:function(){var i=t.parent,l=i.data.children||i.data,o=l.findIndex(function(t){return t.id===e.id});l.splice(o,1),a.removeLayer(t),a.$store.state.Global.legendsOfProjectedMapVisible=!1},onCancel:function(){}})},handleRightClick:function(t,e,a,i){this.screenLeft=135,this.screenTop=t.clientY-150,document.addEventListener("click",this.foo),this.treeNode=a,this.treeObj=e,"point"==this.treeNode.data.geometry?this.markIf=!0:this.markIf=!1,1==!e.remove?this.allowDelete=!0:this.allowDelete=!1,e.isDir?this.allowPosition=!0:this.allowPosition=!1,this.treeModalVisible=!0},foo:function(){this.treeModalVisible=!1,document.removeEventListener("click",this.foo)},handleLeftClick:function(){this.treeModalVisible=!1,document.removeEventListener("click",this.foo)},deleteClick:function(){this.remove(this.treeNode,this.treeObj)},markClick:function(){if("point"==this.treeNode.data.geometry)if(this.treeNode.childNodes.length>0)for(var t=0;t<this.treeNode.childNodes.length;t++)this.markClick(this.treeNode.childNodes[t]);else{var e=this.treeNode.data.id,a=this.map.getLayers().a;for(t=0;t<a.length;t++)if(a[t].N.id==e){var i=a[t].getSource();if(i)for(var l=i.getFeatures(),o=0,n=l.length;o<n;o++){0!=l[o].getStyle().getText().getScale()?(l[o].getStyle().getText().setScale(0),l[o].changed()):(l[o].getStyle().getText().setScale(1),l[o].changed())}}}},positionClick:function(){var t=this.treeNode.data.layerObj;t&&this.$store.state.Global.map2DHandler.getView().fit(t.getExtent())},setTranspance:function(t){this.transpanceVisible=!0},shareResult:function(){this.toPublicObj=this.treeNode.data.shareObj,this.resultShareVisible=!0;var t=this.treeNode.data.layerObj;t&&this.$store.state.Global.map2DHandler.getView().fit(t.getExtent())},closeShareForm:function(){this.resultShareVisible=!1},initDefaultCheckedLayer:function(t){if(t instanceof Array)for(var e=0,a=t.length;e<a;e++)t[e].isDir&&t[e].children&&t[e].children.length>0?this.initDefaultCheckedLayer(t[e].children):1==t[e].visible&&this.defaultLayer.push(t[e].id)},getActiveTab:function(){return this.$store.state.Global.activeTabValue},closeTranspance:function(){this.transpanceVisible=!1},transpanceValueChange:function(){var t=(100-this.layerTransparency)/100,e=this.treeObj.id;this.map.getLayers().forEach(function(a){a.N.id==e&&a.setOpacity(t)})},showLegend:function(){this.$nextTick(function(){this.$store.state.Global.legendsOfProjectedMapVisible=!this.$store.state.Global.legendsOfProjectedMapVisible})}},mounted:function(){this.map=this.$store.state.Global.map2DHandler,n.a.map=this.map,this.initDefaultCheckedLayer(this.treeData2d),this.initTreeFlag=!0,this.activeTab=this.$store.state.Global.activeTabValue,this.$nextTick(function(){this.$store.state.Global.twoDLayerTree=this.$refs.tree})}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{hide:t.isHide},attrs:{id:"layerControlWrap"}},[a("div",{staticClass:"layerControlWrap"},[a("Tabs",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",id:"layerControlTab"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("TabPane",{attrs:{icon:"ios-globe-outline",label:t.$t("type.map2d"),name:"二维地图"}},[a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"layer-container",staticStyle:{overflow:"auto"}},[t.initTreeFlag?a("el-tree",{ref:"tree",staticClass:"tree2DStyle",attrs:{data:t.treeData2d,"show-checkbox":"","node-key":"id","expand-on-click-node":!0,"default-expanded-keys":[1],"default-checked-keys":t.defaultLayer,props:t.defaultProps},on:{check:t.handleCheck_2d,"node-contextmenu":t.handleRightClick,"node-click":t.handleLeftClick}}):t._e(),t._v(" "),t.treeModalVisible?a("div",{staticStyle:{position:"absolute",background:"#fff","text-align":"left",width:"100px","z-index":"101"},style:{left:t.screenLeft+"px",top:t.screenTop+"px"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",icon:"el-icon-location",type:"primary",plain:"",disabled:t.allowPosition},on:{click:t.positionClick}},[t._v(t._s(t.$t("layerpanel.position")))]),t._v(" "),a("span"),t._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",icon:"el-icon-location",type:"primary",plain:"",disabled:t.allowPosition},on:{click:t.setTranspance}},[t._v(t._s(t.$t("layerpanel.transpance")))]),t._v(" "),a("span"),t._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",icon:"el-icon-location",type:"primary",plain:"",disabled:t.allowPosition},on:{click:t.showLegend}},[t._v(t._s(t.$t("layerpanel.legend")))]),t._v(" "),a("span"),t._v(" "),t.markIf?a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",icon:"el-icon-location",type:"primary",plain:"",disabled:t.allowPosition},on:{click:t.markClick}},[t._v(t._s(t.$t("layerpanel.mark")))]):t._e(),t._v(" "),a("span"),t._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini",icon:"el-icon-delete",type:"danger",plain:"",disabled:t.allowPosition},on:{click:t.deleteClick}},[t._v(t._s(t.$t("layerpanel.delete")))]),t._v(" "),a("span")],1):t._e()],1),t._v(" "),t.transpanceVisible?a("div",{staticStyle:{margin:"10px",height:"100px",position:"relative"}},[t._v("\n                    "+t._s(t.$t("layerpanel.mapTranspance"))),a("el-link",{staticStyle:{position:"absolute",right:"0px"},attrs:{type:"danger"},on:{click:t.closeTranspance}},[t._v(t._s(t.$t("button.cancel")))]),t._v(" "),a("el-slider",{on:{change:t.transpanceValueChange},model:{value:t.layerTransparency,callback:function(e){t.layerTransparency=e},expression:"layerTransparency"}})],1):t._e()])]),t._v(" "),a("TabPane",{attrs:{icon:"ios-create-outline",label:t.$t("type.workspace"),name:"工作区"}},[a("workspaceLayerControl")],1)],1)],1),t._v(" "),t.resultShareVisible?a("resultShare",{attrs:{toChildrenObj:t.toPublicObj},on:{inputMess:t.closeShareForm}}):t._e()],1)},staticRenderFns:[]};var Y=a("VU/8")(U,q,!1,function(t){a("nx/8")},null,null).exports,X=a("Eh60"),Z=a("hPqZ"),J=a("QDA/"),K=a("Yaes"),Q=a("BmLr"),tt={components:{imageExport:K.a},props:["dataId","plotlydivId"],data:function(){return{colorCustom:[],color2Flag:!0,addDiagramVisible:!1,newY:"",doubleShow:!0,colunmNames:[],imageFlag:!1,switchOpeConFlag:"展开",isFigureVisible:!1,plotlydiv:null,theheight:750,color1:[],color2:[],color:[],double:!1,xtitle:"X",y1title:"原始数据",y2title:"结果数据",zeroline:!1,zeroright:!1,yrange:[],plot_data:[{type:"scatter",mode:"lines+markers",name:"原始数据",marker:{size:6,color:"#1F77B4"},line:{},x:[],y:[]},{type:"scatter",name:"结果数据",mode:"lines+markers",x:[],y:[],yaxis:"y",marker:{size:6,color:"#FF7F0E"},line:{}}],layout:{hovermode:"closest",uirevision:"true",legend:{y:"0.93"},xaxis:{showline:!0,mirror:"allticks",ticks:Q.a.state.ticks,zeroline:!1,title:"X"},yaxis:{showline:!0,mirror:"allticks",ticks:Q.a.state.ticks,title:"原始数据",zeroline:!1,range:[]},yaxis2:{title:"结果数据",overlaying:"y",side:"right",zeroline:!1}}}},methods:{changeZero:function(t){this.layout.xaxis.zeroline=t,this.layout.yaxis.zeroline=t,this.layout.yaxis2.zeroline=t,1==this.double&&1==this.zeroline&&1==this.zeroright?this.layout.yaxis.zeroline=!t:1==this.double&&1==this.zeroline&&0==this.zeroright&&(this.layout.yaxis2.zeroline=!t)},changeFigure:function(){var t={"xaxis.title":this.xtitle,"yaxis.title":this.y1title,"yaxis2.title":this.y2title};this.changeZero(this.zeroline),this.isFigureVisible=!1,this.$Plotly.relayout(this.plotlydiv,t);for(var e=0;e<this.colorCustom.length;e++){var a={"marker.color":this.colorCustom[e],"line.color":this.colorCustom[e]};this.$Plotly.restyle(this.plotlydiv,a,e)}},changeDouble:function(t){0==t?3!=this.flag?this.$Plotly.restyle(this.plotlydiv,{yaxis:"y"},[1]):this.$Plotly.restyle(this.plotlydiv,{yaxis:"y"},[0]):(3==this.flag?this.plot_data[0].yaxis="y2":this.plot_data[1].yaxis="y2",this.$Plotly.newPlot(this.plotlydiv,this.plot_data,this.layout,{displaylogo:!1}))},initPage:function(){var t=this.dataId;void 0!=t&&n.a.getJsonFromDatabase(t,this.initContourMap)},initContourMap:function(t){if(t.grdData){this.colorCustom=["#1F77B4","#ff7f0e"],this.color2Flag=!0,this.plot_data[1].x=t.grdData.x,this.plot_data[1].y=t.grdData.y,this.plot_data[0].x=t.grdData.x,this.plot_data[0].y=t.grdData.y2;var e=t.grdData.y[0]-0,a=t.grdData.y[0]-0,i=t.grdData.y2[0]-0,l=t.grdData.y2[0]-0;this.color1=[],this.color2=[];for(var o=0;o<t.grdData.y.length;o++)e=e<t.grdData.y[o]?e:t.grdData.y[o]-0,a=a>t.grdData.y[o]?a:t.grdData.y[o]-0,this.color2.push(this.colorCustom[1]);for(var n=0;n<t.grdData.y2.length;n++)i=i<t.grdData.y2[n]?i:t.grdData.y2[n]-0,l=l>t.grdData.y2[n]?l:t.grdData.y2[n]-0,this.color1.push(this.colorCustom[0]);if(this.plot_data[0].marker.color=this.color1,this.plot_data[1].marker.color=this.color2,this.layout.yaxis.tick0=i,this.layout.yaxis2.tick0=e,this.layout.yaxis.dtick=(l-i)/5,this.layout.yaxis2.dtick=(a-e)/5,this.double=!1,this.flag=t.flag,0==t.flag)this.double=!0,this.plot_data[1].yaxis="y2";else if(1==t.flag){var s=.0638*(l-i);this.yrange=[i-s,l+s],this.layout.yaxis.range=[i-s,l+s]}else if(2==t.flag){var r=.0638*(l-i);this.yrange=[i-r,l+r],this.layout.yaxis.range=[i-r,l+r]}else if(3==t.flag){this.layout.yaxis2.tick0=i,this.layout.yaxis.tick0=e,this.layout.yaxis2.dtick=(l-i)/5,this.layout.yaxis.dtick=(a-e)/5,this.layout.yaxis.title="处理数据",this.layout.yaxis2.title="原始数据";var c=.0638*(a-e);this.yrange=[e-c,a+c],this.layout.yaxis.range=[e-c,a+c]}this.layout.yaxis.title=window.vm.$i18n.t("diagram.styleModify.inputY1Title"),this.layout.yaxis2.title=window.vm.$i18n.t("diagram.styleModify.inputY2Title"),this.plot_data[0].name=window.vm.$i18n.t("diagram.styleModify.inputY1Title"),this.plot_data[1].name=window.vm.$i18n.t("diagram.styleModify.inputY2Title"),this.plotlydiv=document.getElementById(this.plotlydivId),this.$Plotly.newPlot(this.plotlydiv,this.plot_data,this.layout,{displaylogo:!1});var d=this;this.plotlydiv.on("plotly_hover",function(t){for(var e=0;e<t.points.length;e++)t.points[e].pointNumber,t.points[e].curveNumber,t.points[e].data.marker.color,d.tempcolor=t.points[e].data.marker.color})}else{var u=this;this.doubleShow=!1,this.color2Flag=!1,this.plot_data.pop(),this.colorCustom=["#1F77B4"],P()(t.data[0]).forEach(function(t){u.colunmNames.push({label:t,value:t})}),this.plot_data[0].x=t.data.map(function(e){return e[t.bindX]}),this.plot_data[0].y=t.data.map(function(e){return e[t.bindY]});var p=Math.min.apply(Math,t.data.map(function(e){return e[t.bindY]})),h=Math.max.apply(Math,t.data.map(function(e){return e[t.bindY]}));this.color=[],this.plot_data[0].y.forEach(function(){u.color.push([]),u.color[0].push(u.colorCustom[0])}),this.plot_data[0].marker.color=this.color[0],this.plot_data[0].name=t.bindY,this.plot_data[0].yaxis="y",this.layout.yaxis.tick0=p,this.layout.yaxis.dtick=(h-p)/5,this.double=!1,this.flag=t.flag,this.layout.yaxis.title=t.bindY,this.layout.xaxis.title=t.bindX,this.xtitle=t.bindX,this.y1title=t.bindY,this.plotlydiv=document.getElementById(this.plotlydivId),this.$Plotly.newPlot(this.plotlydiv,this.plot_data,this.layout,{displaylogo:!1})}},addDiagram:function(){var t=this.dataId;void 0!=t&&n.a.getJsonFromDatabase(t,this.addDiagram1)},addDiagram1:function(t){this.addDiagramVisible=!1;for(var e="",a=["#1F77B4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],i=0;i<a.length;i++)if(-1==this.colorCustom.indexOf(a[i])){e=a[i];break}this.colorCustom.push(e);var l=this,o={type:"scatter",mode:"lines+markers",x:[],y:[],marker:{size:6,color:l.colorCustom[l.colorCustom.length-1]},line:{color:l.colorCustom[l.colorCustom.length-1]},name:""};o.x=t.data.map(function(e){return e[t.bindX]}),o.y=t.data.map(function(t){return t[l.newY]}),o.name=this.newY,this.plot_data.push(o),this.plotlydiv=document.getElementById(this.plotlydivId),this.$Plotly.update(this.plotlydiv,this.plot_data,this.layout)},deleteDiagram:function(t){this.plot_data.splice(t,1),this.colorCustom.splice(t,1),this.plotlydiv=document.getElementById(this.plotlydivId),this.$Plotly.update(this.plotlydiv,this.plot_data,this.layout)},switchOpeStatus:function(){"展开"==this.switchOpeConFlag?(this.$refs.opeConRef.style.width="0",this.$refs.opeConRef.style.overflow="hidden",this.switchOpeConFlag="隐藏"):"隐藏"==this.switchOpeConFlag&&(this.$refs.opeConRef.style.width="unset",this.$refs.opeConRef.style.overflow="unset",this.switchOpeConFlag="展开")},getWidth:function(){return window.innerWidth-260},showModal:function(){this.imageFlag=!0},closeModal:function(t){this.imageFlag=t}},computed:{y1Title:{get:function(){return"原始数据"==this.y1title?window.vm.$i18n.t("diagram.styleModify.inputY1Title"):this.y1title},set:function(t){this.y1title=t}},y2Title:{get:function(){return"结果数据"==this.y2title?window.vm.$i18n.t("diagram.styleModify.inputY2Title"):this.y2title},set:function(t){this.y2title=t}},widthasd:function(){return this.$store.state.Global.showLayerPanelFlag?1660:1760}},mounted:function(){this.initPage()}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerOpeBanner"},[a("el-button",{staticClass:"switchContainer",staticStyle:{padding:"5px 10px"},attrs:{plain:"",size:"mini",title:"菜单 展开/收缩"},on:{click:t.switchOpeStatus}},[a("i",{staticClass:"el-icon-arrow-left",class:{transition:"展开"!=this.switchOpeConFlag}})]),t._v(" "),a("div",{ref:"opeConRef",staticClass:"operationContainerWrap"},[a("div",{staticClass:"operationContainer",style:{width:.7*this.getWidth()+"px"}},[a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"primary",size:"mini"},on:{click:function(e){t.isFigureVisible=!0}}},[t._v(t._s(t.$t("diagram.styleModify.title")))]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.showModal}},[t._v("\n          "+t._s(t.$t("pointMap.exportImage"))+"\n        ")]),t._v(" "),t.doubleShow?t._e():a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"primary",size:"mini"},on:{click:function(e){t.addDiagramVisible=!0}}},[t._v(t._s(t.$t("diagram.addDiagram.title")))])],1)])],1),t._v(" "),a("Content",[a("div",{style:{width:t.widthasd+"px",height:t.theheight+"px"},attrs:{id:t.plotlydivId}})]),t._v(" "),a("el-dialog",{attrs:{"custom-class":"geo-dialog-custom",width:"660px",title:t.$t("diagram.styleModify.title"),"show-close":!1,visible:t.isFigureVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.isFigureVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.styleModify.XTitle")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"small"},model:{value:t.xtitle,callback:function(e){t.xtitle=e},expression:"xtitle"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.styleModify.Y1Title")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"small"},model:{value:t.y1Title,callback:function(e){t.y1Title=e},expression:"y1Title"}})],1)],1),t._v(" "),t._l(t.colorCustom,function(e,i){return a("el-row",{key:i,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.addDiagram.diagram"))+t._s(i+1)+":")])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-color-picker",{attrs:{size:"mini"},model:{value:t.colorCustom[i],callback:function(e){t.$set(t.colorCustom,i,e)},expression:"colorCustom[index]"}})],1),t._v(" "),t.doubleShow?t._e():a("span",{staticStyle:{"font-size":"17px",cursor:"pointer",color:"#409EFF"},on:{click:function(e){return t.deleteDiagram(i)}}},[a("i",{staticClass:"el-icon-remove-outline"})])],1)}),t._v(" "),1==t.double?a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.styleModify.Y2Title")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"small"},model:{value:t.y2Title,callback:function(e){t.y2Title=e},expression:"y2Title"}})],1)],1):t._e(),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.styleModify.zeroShow")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-switch",{staticClass:"geo-dialog-lable",on:{change:t.changeZero},model:{value:t.zeroline,callback:function(e){t.zeroline=e},expression:"zeroline"}})],1),t._v(" "),1==t.double&&1==t.zeroline?a("el-col",{attrs:{span:2}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.styleModify.leftScale")))])]):t._e(),t._v(" "),1==t.double&&1==t.zeroline?a("el-col",{attrs:{span:2}},[a("el-switch",{staticClass:"geo-dialog-lable",model:{value:t.zeroright,callback:function(e){t.zeroright=e},expression:"zeroright"}})],1):t._e(),t._v(" "),1==t.double&&1==t.zeroline?a("el-col",{attrs:{span:2}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.styleModify.rightScale")))])]):t._e()],1),t._v(" "),t.doubleShow?a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.styleModify.doubleScale")))])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.styleModify.single")))])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-switch",{staticClass:"geo-dialog-lable",on:{change:t.changeDouble},model:{value:t.double,callback:function(e){t.double=e},expression:"double"}})],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.styleModify.double")))])])],1):t._e(),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.changeFigure}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.isFigureVisible=!1}}},[t._v(t._s(t.$t("button.cancel")))])],1)],2),t._v(" "),a("el-dialog",{attrs:{"custom-class":"geo-dialog-custom",width:"660px",title:t.$t("diagram.addDiagram.title"),"show-close":!1,visible:t.addDiagramVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.addDiagramVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("diagram.addDiagram.field")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{size:"small"},model:{value:t.newY,callback:function(e){t.newY=e},expression:"newY"}},t._l(t.colunmNames,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.addDiagram()}}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.addDiagramVisible=!1}}},[t._v(t._s(t.$t("button.cancel")))])],1)],1),t._v(" "),a("imageExport",{attrs:{imageConfigShow:t.imageFlag,plotlyDiv:t.plotlydiv},on:{closeModal:t.closeModal}})],1)},staticRenderFns:[]};var at=a("VU/8")(tt,et,!1,function(t){a("VMWF")},"data-v-23dc40ee",null).exports,it={props:["dataId","plotlydivId","type"],data:function(){var t=this;return{plotlydiv:null,showFlag:!1,Accept:".grd",colourLevelModel:"",colourLevel:[{value:"Greys",img:a("cspp")},{value:"Picnic",img:a("7yYV")},{value:"Portland",img:a("Ygyn")},{value:"RdBu",img:a("M053")},{value:"Greens",img:a("M/ie")},{value:"Hot",img:a("VtNA")},{value:"Jet",img:a("aMwd")},{value:"Electric",img:a("XsTw")},{value:"Blackbody",img:a("LI+s")},{value:"Bluered",img:a("scUE")},{value:"Viridis",img:a("FoOO")},{value:"YIOrRd",img:a("NLy3")},{value:"YIGnBu",img:a("pc37")},{value:"Earth",img:a("J1x4")}],colormap:{Greys:a("cspp"),Picnic:a("7yYV"),Portland:a("Ygyn"),RdBu:a("M053"),Greens:a("M/ie"),Hot:a("VtNA"),Jet:a("aMwd"),Electric:a("XsTw"),Blackbody:a("LI+s"),Bluered:a("scUE"),Viridis:a("FoOO"),YIOrRd:a("NLy3"),YIGnBu:a("pc37"),Earth:a("J1x4")},map2d:"",switch_data:!0,slider_data:15,switch_coutourLines:!0,lineWidth:.5,plot_data:[{z:[],x:[],y:[],type:"contour",paper_bgcolor:"none",plot_bgcolor:"none",autoscale:!0,zmax:"",zmin:"",colorscale:null,contours:{start:"",end:"",size:"",coloring:"contour",showlabels:!0,labelfont:{family:"Raleway",size:12,color:"black"},z:{show:!0,usecolormap:!0,highlightcolor:"#42f462",project:{z:!0}}},line:{width:.5}}],layout:{title:"等值线图",height:this.getHeight(),width:this.getWidth(),margin:{t:50,b:40,l:90},xaxis:{title:"X",showline:!0,mirror:"allticks",ticks:"inside",exponentformat:"none",autorange:"false"},yaxis:{title:"Y",showline:!0,mirror:"allticks",ticks:"inside",exponentformat:"none",autorange:"false",scaleanchor:"x"},annotations:[{showarrow:!1,text:"",x:0,y:0,xref:"paper",yref:"paper"}]},colorColumn:[{title:"值",key:"value",render:function(t,e){return t("div",{},e.row.value)}},{title:"颜色",key:"color",render:function(t,e){return t("div",[t("div",{style:{color:"#19be6b",background:e.row.color,width:"90px",height:"20px"},on:{click:function(){}}})])}},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.deleteColorTableRow(a.index)}}},"删除")])}}],colorDataDefault:[{value:1,color:"rgb(0,1,255)",action:"删除"},{value:2,color:"rgb(0,96,255)",action:"删除"},{value:3,color:"rgb(0,190,255)",action:"删除"},{value:4,color:"rgb(0,248,236)",action:"删除"},{value:5,color:"rgb(0,223,174)",action:"删除"},{value:6,color:"rgb(0,198,113)",action:"删除"},{value:7,color:"rgb(0,174,51)",action:"删除"},{value:8,color:"rgb(25,163,0)",action:"删除"},{value:9,color:"rgb(167,219,0)",action:"删除"},{value:10,color:"rgb(255,230,0)",action:"删除"},{value:11,color:"rgb(255,162,0)",action:"删除"},{value:12,color:"rgb(255,95,0)",action:"删除"},{value:13,color:"rgb(255,53,53)",action:"删除"},{value:14,color:"rgb(255,144,144)",action:"删除"},{value:15,color:"rgb(255,230,230)",action:"删除"}],colorData:[],valueForColor:0,colorCount:18,customColor:"#19be6b",grdData:null,dataAll:null,isColourLevelSettingsVisible:!1,isColorTableVisible:!1,colorTableToProject:[],switchOpeConFlag:"展开",contourLineSetting:!0}},methods:{colorCountChange:function(){alert("1")},changeType:function(t){if(this.plot_data[0].type=t,"contour"==t)this.layout.title="等值线图",this.showContour(!0),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("heatmap"==t)this.layout.title="影像图",this.showContour(!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("surface"==t){this.showContour(!1),this.layout.title="三维图";this.plot_data[0].x,this.plot_data[0].y,this.plot_data[0].z;this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)}},changeRender:function(t){this.$nextTick(function(){this.contourLineSetting="lines"!=t&&"heatmap"!=t}),this.plot_data[0].contours.coloring=t,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},slider_widthChange:function(){this.plot_data[0].line.width=this.lineWidth,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},switch_cLines:function(t){1==t?(this.$Message.info("等值线数值显示已开启"),this.plot_data[0].contours.showlines=!0):(this.$Message.info("等值线数值显示已关闭"),this.plot_data[0].contours.showlines=!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},changeColourLevel:function(t){this.colourLevelModel=t},changeColor:function(t){this.plot_data[0].colorscale=t,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},showContour:function(t){this.showFlag=!!t},slider_change:function(){this.initColorTable(this.grdData)},switch_change:function(t){1==t?(this.$Message.info("等值线数值显示已开启"),this.plot_data[0].contours.showlabels=!0):(this.$Message.info("等值线数值显示已关闭"),this.plot_data[0].contours.showlabels=!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},switchState:function(t){},getWidth:function(){return window.innerWidth-280},getHeight:function(){return window.innerHeight-130-30-31},initPage:function(){var t=this.dataId;void 0!=t&&n.a.getJsonFromDatabase(t,this.initContourMap)},initContourMap:function(t){this.grdData=t.grdData,this.dataAll=t,this.grdData&&this.initColorTable(this.grdData),this.plot_data[0].x=t.grdData.x,this.plot_data[0].y=t.grdData.y,this.plot_data[0].z=t.grdData.z,this.plot_data[0].type=this.type,this.plot_data[0].contours.start=t.grdData.zmin,this.plot_data[0].contours.end=t.grdData.zmax,this.plot_data[0].contours.size=(t.grdData.zmax-t.grdData.zmin)/(this.slider_data-1),this.plotlydiv=document.getElementById(this.plotlydivId),this.$Plotly.newPlot(this.plotlydiv,this.plot_data,this.layout,{displaylogo:!1})},initColorTable:function(t){var e=[{value:1,color:"rgb(0,1,255)",action:"删除"},{value:2,color:"rgb(0,96,255)",action:"删除"},{value:3,color:"rgb(0,190,255)",action:"删除"},{value:4,color:"rgb(0,248,236)",action:"删除"},{value:5,color:"rgb(0,223,174)",action:"删除"},{value:6,color:"rgb(0,198,113)",action:"删除"},{value:7,color:"rgb(0,174,51)",action:"删除"},{value:8,color:"rgb(25,163,0)",action:"删除"},{value:9,color:"rgb(167,219,0)",action:"删除"},{value:10,color:"rgb(255,230,0)",action:"删除"},{value:11,color:"rgb(255,162,0)",action:"删除"},{value:12,color:"rgb(255,95,0)",action:"删除"},{value:13,color:"rgb(255,53,53)",action:"删除"},{value:14,color:"rgb(255,144,144)",action:"删除"},{value:15,color:"rgb(255,230,230)",action:"删除"}],a=t.zmin,i=t.zmax,l=i-a,o=(i-a)/(this.slider_data-1),n=[];e=e.slice(0,this.slider_data);for(var s=0;s<this.slider_data;s++)s>=e.length?(e.push({value:(a+o*s).toFixed(3),color:e[e.length-1].color,action:"删除"}),n.push([(o*s/l).toFixed(2)+"",e[s].color])):(e[s].value=(a+o*s).toFixed(3),n.push([(o*s/l).toFixed(2)+"",e[s].color]));this.plot_data[0].colorscale=n,this.colorData=e},clearColorItem:function(){this.colorData=[]},defaultColorRender:function(){if(this.grdData){for(var t=[{value:1,color:"rgb(0,1,255)",action:"删除"},{value:2,color:"rgb(0,96,255)",action:"删除"},{value:3,color:"rgb(0,190,255)",action:"删除"},{value:4,color:"rgb(0,248,236)",action:"删除"},{value:5,color:"rgb(0,223,174)",action:"删除"},{value:6,color:"rgb(0,198,113)",action:"删除"},{value:7,color:"rgb(0,174,51)",action:"删除"},{value:8,color:"rgb(25,163,0)",action:"删除"},{value:9,color:"rgb(167,219,0)",action:"删除"},{value:10,color:"rgb(255,230,0)",action:"删除"},{value:11,color:"rgb(255,162,0)",action:"删除"},{value:12,color:"rgb(255,95,0)",action:"删除"},{value:13,color:"rgb(255,53,53)",action:"删除"},{value:14,color:"rgb(255,144,144)",action:"删除"},{value:15,color:"rgb(255,230,230)",action:"删除"}],e=this.grdData.zmin,a=this.grdData.zmax,i=a-e,l=(a-e)/14,o=[],n=0;n<t.length;n++)t[n].value=(e+l*n).toFixed(3),o.push([(l*n/i).toFixed(2)+"",t[n].color]);this.plot_data[0].colorscale=o,this.colorData=t,this.slider_data=15}},addColorItem:function(){-1==this.colorData.map(function(t){return t.value}).indexOf(this.valueForColor)?(this.colorData.push({value:this.valueForColor,color:this.customColor,action:"删除"}),this.colorData.sort(function(t,e){return t.value-e.value})):this.$Notice.warning({title:"重复添加",desc:"值已存在！",duration:.5})},applyColourLevelSettings:function(){this.colourLevelModel&&(this.plot_data[0].colorscale=this.colourLevelModel);var t=this.grdData.zmin,e=this.grdData.zmax,a=(e-t)/(this.slider_data-1);this.plot_data[0].contours.start=t,this.plot_data[0].contours.end=e,this.plot_data[0].contours.size=a,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},applyCustomColor:function(){this.plot_data[0].contours.start=this.colorData[0].value,this.plot_data[0].contours.end=this.colorData[this.colorData.length-1].value,this.plot_data[0].contours.size=(this.plot_data[0].contours.end-this.plot_data[0].contours.start)/(this.colorData.length-1);for(var t=[],e=this.grdData.zmin,a=this.grdData.zmax-e,i=(this.colorData.length,0);i<this.colorData.length;i++){var l=((this.colorData[i].value-e)/a).toFixed(2);t.push([l,this.colorData[i].color])}this.plot_data[0].colorscale=t,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},closeColorTable:function(){this.isColorTableVisible=!1},openColorScale:function(){this.isColourLevelSettingsVisible=!0},openColorTable:function(){this.isColorTableVisible=!0},deleteColorTableRow:function(t){this.colorData.splice(t,1)},projectToMap:function(t){var e=this.grdData.zmin;this.grdData.zmax,this.slider_data;"projectTo2D"==t?this.projectTo2D():this.projectTo3D()},projectTo2D:function(){this.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),this.projectTo2Dand3D("2d")},projectTo3D:function(){this.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),this.projectTo2Dand3D("3d")},projectTo2Dand3D:function(t){var e=this;n.a.changeSpatialReference(e.dataAll.spatialReference);for(var a,i=e.dataAll.data,l={traindata:[],datainterval:[],bounds:[],size:[]},s=[],r=[],c=[],d=99999,u=9999,p=0,h=0,m=0;a=i[m++];){var g=[a.x,a.y],f=e.ol.proj.transform(g,e.dataAll.spatialReference,"EPSG:4326");s.push(f[0]),r.push(f[1]),c.push(a.z),f[0]<d&&(d=f[0]),f[0]>p&&(p=f[0]),f[1]<u&&(u=f[1]),f[1]>h&&(h=f[1])}l.traindata[0]=s,l.traindata[1]=r,l.traindata[2]=c,l.bounds[0]=d,l.bounds[1]=u,l.bounds[2]=p,l.bounds[3]=h,l.datainterval=e.colorData.map(function(t){return t.value}),l.size=[e.dataAll.grdData.xcount,e.dataAll.grdData.ycount],e.dataAll.clipGeo&&(l.isclip=!0,l.ClipGeo=e.dataAll.clipGeo),e.axios.post(WebConfig.ServicesUrl+"/GetCountourPolygon",l).then(function(a){if("ERROR"!=a.data.status){var i=JSON.parse(a.data.data);if("2d"==t){var l=o.a.treeData2d[1].children.map(function(t){return t.id});l.sort(function(t,e){return t-e});var n=new e.ol.source.Vector({features:(new e.ol.format.GeoJSON).readFeatures(i)}),s=100+Math.floor(10*Math.random());0!=l.length&&(s=l[l.length-1]+1);var r=new e.ol.layer.Vector({id:s,source:n,style:function(t){var a=t.get("lvalue"),i=e.colorData.find(function(t){return t.value==a}),l=new e.ol.style.Style({fill:new e.ol.style.Fill({color:i.color}),stroke:new e.ol.style.Stroke({color:"black",width:.2}),text:new e.ol.style.Text({text:(1*a).toFixed(2)+""})});return l}}),c={};c.id=s,c.label="等值面_"+e.dataAll.displayName,c.layerObj=n,c.shareObj={json:i,colorConfig:e.colorData},o.a.treeData2d[1].children.push(c),e.$nextTick(function(){e.$store.state.Global.twoDLayerTree.setCheckedKeys([s])}),e.$store.state.Global.map2DHandler.addLayer(r),e.$store.state.Global.map2DHandler.getView().fit(n.getExtent()),e.$store.state.Global.activeTabValue="二维地图",e.$store.state.Global.twoDTempLayers.push(r),e.$message({message:"投影完成！",type:"success"})}else if("3d"==t){var m={camera:e.$store.state.Global.map3DHandler.scene.camera,canvas:e.$store.state.Global.map3DHandler.scene.canvas,clampToGround:!0};e.$store.state.Global.Cesium.GeoJsonDataSource.load(i,m).then(function(t){e.$store.state.Global.map3DHandler.dataSources.add(t);for(var a=t.entities.values,i=0;i<a.length;i++){var l=a[i],n=l.properties.hvalue._value,s=e.colorData.find(function(t){return t.value==n});l.polygon&&(l.polygon.material=e.$store.state.Global.Cesium.Color.fromCssColorString(s.color),l.polygon.outlineColor=e.$store.state.Global.Cesium.Color.WHITE)}e.$store.state.Global.activeTabValue="三维地图";var r=e.$store.state.Global.map3DHandler.entities.add({position:e.Cesium.Cartesian3.fromDegrees((d+p)/2,(u+h)/2),point:{pixelSize:1,color:e.Cesium.Color.YELLOW}}),c=200+Math.floor(10*Math.random()),m={};m.id=c,m.label="等值面_"+m.id,m.imageryLayer=t,m.viewEntity=r,m.visible=!0,o.a.treeData3d[1].children.push(m),e.$nextTick(function(){e.$store.state.Global.threeDLayerTree.setCheckedKeys([c])}),e.$message({message:"投影完成！",type:"success"})})}}else e.$Message.info("后台数据处理异常")}).catch(function(t){console.log(t),e.$Message.info("后台服务连接异常")})},importConfig:function(t){var e=this,a=new FileReader;a.readAsText(t),a.onload=function(){var t=this.result.replace(/\r|\n/," ").split(/\s+/);e.slider_data=t[1];for(var a=[],i=2;i<t.length;i+=2){var l={value:t[i],color:t[i+1],action:"删除"};a.push(l)}e.colorData=a,e.applyCustomColor()}},setConfig:function(t){if("importConfig"==t);else if("exportConfig"==t){var e="";e+="slider_data "+this.slider_data+"\r\n";for(var a=0;a<this.colorData.length;a++)e+=this.colorData[a].value+" "+this.colorData[a].color+"\r\n";e=e.substring(0,e.lastIndexOf("\r\n"));var i=new Blob([e],{type:"text/plain;charset=utf-8"});saveAs(i,"contourMap.config")}},switchOpeStatus:function(t){"展开"==this.switchOpeConFlag?(this.$refs.opeConRef.style.width="0",this.$refs.opeConRef.style.overflow="hidden",this.switchOpeConFlag="隐藏"):"隐藏"==this.switchOpeConFlag&&(this.$refs.opeConRef.style.width="unset",this.$refs.opeConRef.style.overflow="unset",this.switchOpeConFlag="展开")}},watch:{type:function(t){this.changeType(t)}},computed:{},mounted:function(){this.initPage()}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerOpeBanner"},[a("el-button",{staticClass:"switchContainer",staticStyle:{padding:"5px 10px"},attrs:{plain:"",size:"mini",title:"菜单 展开/收缩"},on:{click:t.switchOpeStatus}},[a("i",{staticClass:"el-icon-arrow-left",class:{transition:"展开"!=this.switchOpeConFlag}})]),t._v(" "),a("div",{ref:"opeConRef",staticClass:"operationContainerWrap"},[a("div",{staticClass:"counterMenuGroup operationContainer",style:{width:.7*this.getWidth()+"px"}},[a("span",[a("Dropdown",{staticClass:"menubutton",on:{"on-click":t.changeType}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("\n                                  绘图类型\n                                  "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"contour"}},[t._v("等值线图")]),t._v(" "),a("DropdownItem",{attrs:{name:"heatmap"}},[t._v("影像图")]),t._v(" "),a("DropdownItem",{attrs:{name:"surface"}},[t._v("三维图")])],1)],1),t._v(" "),a("Dropdown",{staticClass:"menubutton",style:{display:1==this.showFlag?"block":"none"},on:{"on-click":t.changeRender}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n                                  渲染方式\n                                  "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"contour"}},[t._v("等值面")]),t._v(" "),a("DropdownItem",{attrs:{name:"lines"}},[t._v("等值线")]),t._v(" "),a("DropdownItem",{attrs:{name:"heatmap"}},[t._v("影像")])],1)],1),t._v(" "),a("el-button",{staticClass:"menubutton",attrs:{type:"primary",size:"mini"},on:{click:t.openColorScale}},[t._v("色阶设置")]),t._v(" "),a("span",{staticClass:"menubutton",staticStyle:{display:"none"}},[a("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.switchState("/map2d")}}},[t._v("地图投影")])],1)],1),t._v(" "),a("el-button",{staticClass:"menubutton",attrs:{type:"primary",size:"mini"},on:{click:t.openColorTable}},[t._v("分级设色")]),t._v(" "),a("Dropdown",{staticClass:"menubutton",on:{"on-click":t.setConfig}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n              配置\n              "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("Upload",{attrs:{"before-upload":t.importConfig,action:""}},[a("DropdownItem",{attrs:{name:""}},[t._v("导入配置")])],1),t._v(" "),a("DropdownItem",{attrs:{name:"exportConfig"}},[t._v("导出配置")])],1)],1),t._v(" "),a("Dropdown",{staticClass:"menubutton",on:{"on-click":t.projectToMap}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n              投影\n              "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"projectTo2D"}},[t._v("投影到二维")]),t._v(" "),a("DropdownItem",{attrs:{name:"projectTo3D"}},[t._v("投影到三维")])],1)],1),t._v(" "),a("span",{staticClass:"menubutton",style:{display:1==this.showFlag?"inline":"none"}},[t.contourLineSetting?a("span",[t._v("\n                              等值线：\n                              "),a("i-switch",{on:{"on-change":t.switch_cLines},model:{value:t.switch_coutourLines,callback:function(e){t.switch_coutourLines=e},expression:"switch_coutourLines"}})],1):t._e(),t._v("\n                          标注：\n                          "),a("i-switch",{on:{"on-change":t.switch_change},model:{value:t.switch_data,callback:function(e){t.switch_data=e},expression:"switch_data"}}),t._v("\n                          等值线宽：\n                          "),a("Slider",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"middle"},attrs:{min:.5,max:2,step:.1},on:{"on-change":t.slider_widthChange},model:{value:t.lineWidth,callback:function(e){t.lineWidth=e},expression:"lineWidth"}})],1)],1)])],1),t._v(" "),a("Modal",{attrs:{draggable:"",title:"色阶设置",width:"420"},on:{"on-ok":t.applyColourLevelSettings},model:{value:t.isColourLevelSettingsVisible,callback:function(e){t.isColourLevelSettingsVisible=e},expression:"isColourLevelSettingsVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v("色阶数：")])],1),t._v(" "),a("Col",[a("Slider",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"middle"},attrs:{min:10,max:20},on:{"on-change":t.slider_change},model:{value:t.slider_data,callback:function(e){t.slider_data=e},expression:"slider_data"}})],1)],1),t._v(" "),a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v("色阶设置：")])],1),t._v(" "),a("Col",[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.changeColourLevel},model:{value:t.colourLevelModel,callback:function(e){t.colourLevelModel=e},expression:"colourLevelModel"}},t._l(t.colourLevel,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[a("img",{attrs:{src:e.img}}),t._v(t._s(e.value))])}),1)],1)],1)],1),t._v(" "),a("Modal",{attrs:{draggable:"",title:"分级设色",width:"420"},on:{"on-ok":t.applyCustomColor},model:{value:t.isColorTableVisible,callback:function(e){t.isColorTableVisible=e},expression:"isColorTableVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("Input",{staticStyle:{width:"100px"},model:{value:t.valueForColor,callback:function(e){t.valueForColor=e},expression:"valueForColor"}})],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("ColorPicker",{attrs:{recommend:""},model:{value:t.customColor,callback:function(e){t.customColor=e},expression:"customColor"}})],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("Button",{attrs:{type:"primary"},on:{click:t.addColorItem}},[t._v("添加")])],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("Button",{attrs:{type:"primary"},on:{click:t.clearColorItem}},[t._v("清空")])],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("Button",{attrs:{type:"primary"},on:{click:t.defaultColorRender}},[t._v("默认")])],1)],1),t._v(" "),a("Table",{attrs:{border:"",size:"small",columns:t.colorColumn,data:t.colorData,height:"320"}})],1),t._v(" "),a("Content",[a("div",{attrs:{id:t.plotlydivId}})])],1)},staticRenderFns:[]};var ot=a("VU/8")(it,lt,!1,function(t){a("W0MU")},"data-v-42b09b51",null).exports,nt=(a("Bhwq"),a("mw3O"),{data:function(){return{rowStyle:"rowStyle",Linkage:!0,color:["#4169E1","#00FFFF","#00FA9A","#7FFF00","#FF6347","#FF69B4","#EE82EE","#9400D3","#7B68EE","#6495ED","#87CEFA","#AFEEEE","#A2CD5A","#4169E1","#00FFFF","#00FA9A","#EE82EE"],showInput:!1,showOutput:!1,rules:{name:{required:!0,message:"请输入算法名称",trigger:"blur"},englishName:{required:!0,message:"请输入算法英文名称",trigger:"blur"},bindName:{required:!0,message:"请输入默认执行程序名称",trigger:"blur"},describe:{required:!0,message:"请输入算法描述",trigger:"blur"},inputFormat:{required:!0,message:"请输入输入格式",trigger:"blur"},outputFormat:{required:!0,message:"请输入输出格式",trigger:"blur"}},input3:"",currentPage:1,tableData:[],pageSize:5,viewDialogVisible:!1,addDialogVisible:!1,algorithmUseStatisticsVisible:!1,ipUseStatisticsVisible:!1,fileList:[],updateTodel:[],updateToNew:[],addDialogTitle:"",algAddForm:{id:"",name:"",englishName:"",bindName:"",describe:"",inputFormat:"",outputFormat:"",menuDirection:"",urlLists:[]},algMsg:{id:"",name:"",englishName:"",bindName:"",describe:"",inputFormat:"",outputFormat:"",menuDirection:"",urlLists:[],previewLists:[]},totalData:[],algorithmArray:[],optionRightLegend:{},tableDataLatestRecord:[],tableDataIpAddr:[],dataIpVisit:[],funcPermission:!0,bindNameExist:!0}},methods:{handleCurrentChange:function(t){this.currentPage=t,this.initTableData()},initPage:function(){this.totalData=[];var t=this;this.axios.post(WebConfig.ServicesUrl+"/GetAlgAll").then(function(e){if("SUCCESS"==e.data.status){for(var a=e.data.data,i=0;i<a.length;i++){for(var l=[],o=a[i].picture.split(";"),n=0;n<o.length;n++){var s={url:o[n]};l.push(s)}var r={id:a[i].id,name:a[i].name,describe:a[i].description,inputFormat:a[i].input,outputFormat:a[i].output,menuDirection:a[i].position,urlLists:l,englishName:a[i].englishName,bindName:a[i].bindName};t.totalData.push(r)}t.initTableData()}}).catch(function(t){})},initEcharts:function(){var t=[],e=this,a=document.getElementById("echartsTop"),i=document.getElementById("echarts"),l=document.getElementById("echartsRight"),o=echarts.init(a),n=echarts.init(i),s=echarts.init(l);n.on("click",function(t){if(e.Linkage){var a=0;for(var i in e.optionRightLegend)i==t.name?(e.optionRightLegend[i]=!0,r.series[0].data[a].selected=!0):(e.optionRightLegend[i]=!1,r.series[0].data[a].selected=!1),a++;d.legend.selected=e.optionRightLegend,s.setOption(d),o.setOption(r)}});var r={color:["#A0CE3A","#31C5C0","#1E9BD1","#0F347B","#585247","#7F6AAD","#009D85","rgba(250,250,250,0.3)"],backgroundColor:"#00265f",title:{text:"总次数",subtext:7789,textStyle:{color:"#f2f2f2",fontSize:15},subtextStyle:{fontSize:15,color:["#ff9d19"]},x:"37%",y:"48%"},legend:{orient:"vertical",top:"middle",right:"0%",textStyle:{color:"#f2f2f2",fontSize:10},icon:"roundRect",data:u},tooltip:{trigger:"item"},series:[{radius:["20%","51%"],center:["40%","55%"],type:"pie",label:{normal:{show:!0,formatter:"{d}%",textStyle:{fontSize:15},position:"outside"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,length2:55},emphasis:{show:!0}},name:"算法使用次数",data:t,tooltip:{formatter:function(t){return t.seriesName+"</br>"+t.marker+t.data.name+"</br>数量："+t.data.value+"</br>占比："+t.percent+"%"}}},{radius:["20%","24%"],center:["40%","55%"],type:"pie",label:{normal:{show:!1},emphasis:{show:!1}},labelLine:{normal:{show:!1},emphasis:{show:!1}},animation:!1,tooltip:{show:!1},data:[{value:1,itemStyle:{color:"rgba(250,250,250,0.3)"}}]},{name:"外边框",type:"pie",clockWise:!1,hoverAnimation:!1,center:["40%","55%"],radius:["55%","55%"],label:{normal:{show:!1}},data:[{value:9,name:"",itemStyle:{normal:{borderWidth:2,borderColor:"#0b5263"}}}],tooltip:{show:!1}}]},c={backgroundColor:"#00265f",title:{text:"算法调用总次数统计图",left:"center",textStyle:{color:"#e2e9ff",fontStyle:"normal"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{backgroundColor:"#283b56"}}},legend:{data:["算法1使用数量","算法2使用数量","算法使用总数"],show:!1},toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{},myTool1:{show:!0,title:"柱状图联动折线图",icon:"path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891",emphasis:{iconStyle:{color:""}},iconStyle:{color:"#4169E1"},onclick:function(){if(e.Linkage=!e.Linkage,e.Linkage)c.toolbox.feature.myTool1.iconStyle.color="#4169E1";else{var t=0;for(var a in c.toolbox.feature.myTool1.iconStyle.color="",e.optionRightLegend)e.optionRightLegend[a]=!0,r.series[0].data[t].selected=!1,t++;d.legend.selected=e.optionRightLegend,s.setOption(d),o.setOption(r)}n.setOption(c)}}},orient:"vertical",right:35},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,gridIndex:0,name:"算法名称",axisLabel:{color:"#e2e9ff",rotate:"-18"},axisLine:{lineStyle:{color:"#e2e9ff"}},data:[]}],yAxis:[{type:"value",name:"算法使用总次数",axisLabel:{showMaxLabel:"true",color:"#e2e9ff"},axisLine:{lineStyle:{color:"#e2e9ff"}}}],series:[{name:"算法使用总数",type:"bar",xAxisIndex:0,yAxisIndex:0,data:[],barWidth:"20px",itemStyle:{barBorderRadius:[30,30,30,30],shadowColor:"rgba(0,160,221,1)",shadowBlur:4},label:{show:!0,lineHeight:30,width:50,height:30,borderRadius:200,position:["-8","-60"],distance:1,formatter:["    {d|●}"," {a|{c}}     \n","    {b|}"].join(" "),rich:{d:{color:"#3CDDCF",padding:[0,6,0,-6]},a:{color:"#fff",align:"center"},b:{width:1,height:30,borderWidth:1,borderColor:"#234e6c",align:"left"}}},markPoint:{symbol:"pin",symbolSize:50,symbolRotate:0,label:{show:!0,position:"inside",fontSize:13,color:"#fff",formatter:"{c}"},data:[]},animationDelay:function(t){return 10*t}}]},d={grid:{right:"20%"},backgroundColor:"#043065",title:{text:"算法使用次数变化图",left:"center",textStyle:{color:"#e2e9ff",fontStyle:"normal"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:[],left:"80%",bottom:"15%",width:"80%",textStyle:{color:"#e2e9ff"},orient:"vertical"},toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}},orient:"vertical",right:25},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,gridIndex:0,show:!0,name:"调用时间",axisTick:{show:!1},axisLabel:{interval:" 0",color:"#e2e9ff"},axisLine:{lineStyle:{color:"#e2e9ff"}},data:[]}],yAxis:[{type:"value",scale:!0,name:"算法使用次数",min:-1,axisLabel:{showMaxLabel:"true",color:"#e2e9ff"},axisLine:{lineStyle:{color:"#e2e9ff"}}}],series:[]},u={key:"GeoPhy:Algorithm:All"};e.axios.get(WebConfig.ServicesUrl+"/redis/hgetall",{params:u}).then(function(a){var i=a.data.data,l=c.xAxis[0].data,u=c.series[0].data,p=0,h=0;if(i){var g={},f=void 0;for(var v in i)p+=i[v];for(var b in r.title.subtext=p,i)t.push({name:Q.a.state.languageConvert.EnglinshToCN[b],value:i[b],itemStyle:{color:e.color[h]}}),d.series.push({name:Q.a.state.languageConvert.EnglinshToCN[b],type:"line",xAxisIndex:0,yAxisIndex:0,symbolSize:10,symbol:"circle",smooth:!0,data:[]}),e.algorithmArray.push(b),l.push(Q.a.state.languageConvert.EnglinshToCN[b]),d.legend.data.push(Q.a.state.languageConvert.EnglinshToCN[b]),f=!0,g[Q.a.state.languageConvert.EnglinshToCN[b]]=f,e.optionRightLegend=g,u.push({value:i[b],itemStyle:{color:new e.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:e.color[h]},{offset:1,color:"rgba(0,77,167,1)"}])},label:{backgroundColor:e.color[h]}}),h++}o.setOption(r),n.setOption(c);e.algorithmArray,e.axios.post(WebConfig.ServicesUrl+"/getAlgUseInfo",{params:e.algorithmArray}).then(function(t){for(var a=0;a<e.algorithmArray.length;a++){var i=t.data.data[e.algorithmArray[a]];for(var l in m)m[l]=0;var o=d.series[a].data;if(i){for(var n in i)m[n]=i[n];for(var r in m)o.push(m[r]);var c={color:e.color[a]};d.series[a].itemStyle=c}s.setOption(d)}}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)});for(var p=new Date,h=[],m={},g=0;g<7;g++){if(0==g?p.setTime(p.getTime()-5184e5):p.setTime(p.getTime()+864e5),p.getMonth()+1<10)if(p.getDate()<10)var f=p.getFullYear()+"-0"+(p.getMonth()+1)+"-0"+p.getDate();else f=p.getFullYear()+"-0"+(p.getMonth()+1)+"-"+p.getDate();else if(p.getDate()<10)f=p.getFullYear()+"-"+(p.getMonth()+1)+"-0"+p.getDate();else f=p.getFullYear()+"-"+(p.getMonth()+1)+"-"+p.getDate();h.push(f),d.xAxis[0].data.push(f),m[f]="0"}},initIpEcharts:function(){var t=this,e=Q.a.state.geoCoordMap,a=function(t){for(var a=[],i=0;i<t.length;i++){var l=e[t[i].name];l&&a.push({name:t[i].name,value:l.concat(t[i].value)})}return a};t.axios.get(WebConfig.ServicesUrl+"/getIPArea",{params:{key:"GeoPhy:User:IpAddr"}}).then(function(e){var i;t.tableDataLatestRecord=[],t.tableDataIpAddr=[];var o=e.data.data;if(o.IpVisit)for(var n in o.IpVisit)t.tableDataIpAddr.push({ipAddress:o.IpVisit[n].country+"-"+o.IpVisit[n].province+"-"+o.IpVisit[n].city,number:o.IpVisit[n].count}),t.dataIpVisit.push({name:o.IpVisit[n].city,value:o.IpVisit[n].count});if(o.IpLatest)for(var s in o.IpLatest)t.tableDataLatestRecord.push({id:o.IpLatest[s].country+"-"+o.IpLatest[s].province+"-"+o.IpLatest[s].city,number:o.IpLatest[s].ip});var r={title:{text:"算法使用统计 - IP地址定位",left:"center",textStyle:{color:"#e2e9ff",fontStyle:"normal"}},backgroundColor:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"#0f2c70"},{offset:1,color:"#091732"}],globalCoord:!1},visualMap:{show:!1,min:0,max:200,left:"10%",top:"bottom",calculable:!0,seriesIndex:[0],inRange:{color:["#DDC78D","#ddb926"]}},tooltip:{trigger:"item"},geo:(i={map:"china",roam:!0,label:{emphasis:{show:!1}}},l()(i,"roam",!0),l()(i,"itemStyle",{normal:{areaColor:"#031525",borderColor:"#3B5077",borderWidth:1},emphasis:{areaColor:"#0f2c70"}}),i),series:[{name:"IPAddress",type:"scatter",coordinateSystem:"geo",data:a(t.dataIpVisit),symbolSize:function(t){return t[2]/20},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"#ddb926"}},tooltip:{formatter:function(t,e,a){return'<div style="width:280px;height:180px;background:rgba(22,80,158,0.8);border:1px solid rgba(7,166,255,0.7)"><div style="width:100%;height:40px;line-height:40px;border-bottom:2px solid rgba(7,166,255,0.7);padding:0 20px"><i style="display:inline-block;width:8px;height:8px;background:#16d6ff;border-radius:40px;"></i><span style="margin-left:10px;color:#fff;font-size:16px;">'+t.data.name+'</span></div><div style="padding:20px"><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>访问量:<span style="color:#11ee7d;margin:0 6px;">'+t.data.value[2]+'</span>个</p><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>经度：<span style="color:#f48225;margin:0 6px;">'+t.data.value[0]+'</span>°</p><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>纬度：<span style="color:#f4e925;margin:0 6px;">'+t.data.value[1]+"</span>°</p></div></div>"}}},{name:"Top 6",type:"effectScatter",coordinateSystem:"geo",data:a(t.dataIpVisit.sort(function(t,e){return e.value-t.value}).slice(0,6)),symbolSize:function(t){return t[2]/20},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#DCDD07",shadowBlur:8,shadowColor:"#333"}},zlevel:1,tooltip:{formatter:function(t,e,a){return'<div style="width:280px;height:180px;background:rgba(22,80,158,0.8);border:1px solid rgba(7,166,255,0.7)"><div style="width:100%;height:40px;line-height:40px;border-bottom:2px solid rgba(7,166,255,0.7);padding:0 20px"><i style="display:inline-block;width:8px;height:8px;background:#16d6ff;border-radius:40px;"></i><span style="margin-left:10px;color:#fff;font-size:16px;">'+t.data.name+'</span></div><div style="padding:20px"><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>访问量:<span style="color:#11ee7d;margin:0 6px;">'+t.data.value[2]+'</span>个</p><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>经度：<span style="color:#f48225;margin:0 6px;">'+t.data.value[0]+'</span>°</p><p style="color:#fff;font-size:12px;"><i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px"></i>纬度：<span style="color:#f4e925;margin:0 6px;">'+t.data.value[1]+"</span>°</p></div></div>"}}}]};t.echarts.init(document.getElementById("echartsIp")).setOption(r)}).catch(function(t){console.log(t)})},initTableData:function(){this.currentPage>Math.ceil(this.totalData.length/this.pageSize)&&(this.currentPage=Math.ceil(this.totalData.length/this.pageSize));this.currentPage;this.tableData.length=0;var t=this.pageSize*(this.currentPage-1),e=this.pageSize*this.currentPage;e>this.totalData.length&&(e=this.totalData.length);for(var a=t;a<e;a++)this.tableData.push(this.totalData[a])},UploadImage:function(){},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type;return e||this.$message.error("请上传图片格式!"),e},handleDelete:function(t,e){var a=this,i=this;this.$confirm("确定要删除该条记录吗?","提示",{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then(function(){var l=new FormData;l.append("id",t),l.append("urlLists",r()(e)),a.axios.post(WebConfig.ServicesUrl+"/delAlgById",l).then(function(t){i.$message({message:"删除成功",type:"success"}),i.initPage()}).catch(function(t){i.$message.error("删除失败")})})},handleView:function(t){for(var e=0;e<this.tableData.length;e++)if(this.tableData[e].id==t){this.algMsg.menuDirection=this.tableData[e].menuDirection,this.algMsg.name=this.tableData[e].name,this.algMsg.englishName=this.tableData[e].englishName,this.algMsg.bindName=this.tableData[e].bindName,this.algMsg.describe=this.tableData[e].describe;var a=this.tableData[e].inputFormat.split(/[(\r\n)\r\n]+/);this.algMsg.inputFormat=a;var i=this.tableData[e].outputFormat.split(/[(\r\n)\r\n]+/);this.algMsg.outputFormat=i,this.algMsg.urlLists=this.tableData[e].urlLists,this.algMsg.previewLists.length=0;for(var l=0;l<this.algMsg.urlLists.length;l++)0!=this.algMsg.urlLists[l].url.length&&this.algMsg.previewLists.push(this.algMsg.urlLists[l].url);return void(this.viewDialogVisible=!0)}},handleAdd:function(){this.addDialogTitle="新增算法",this.addDialogVisible=!0},algorithmUseStatistics:function(){this.algorithmUseStatisticsVisible=!0},ipUseStatistics:function(){this.ipUseStatisticsVisible=!0},handleRemove:function(t,e){if(this.fileList=e,"编辑算法"==this.addDialogTitle)if(void 0==t.raw){var a=t.url.split("/");this.updateTodel.push(a[a.length-1])}else for(var i=0;i<this.updateToNew.length;i++)this.updateToNew[i].uid==t.uid&&this.updateToNew.splice(i,1)},handleChange:function(t,e){this.fileList=e,"编辑算法"==this.addDialogTitle&&this.updateToNew.push(t.raw)},handleExceed:function(t,e){this.$message.warning("超出可上传图片数量限制")},handleEdit:function(t){for(var e=0;e<this.tableData.length;e++)if(this.tableData[e].id==t)return this.algAddForm.id=this.tableData[e].id,this.algAddForm.menuDirection=this.tableData[e].menuDirection,this.algAddForm.name=this.tableData[e].name,this.algAddForm.englishName=this.tableData[e].englishName,this.algAddForm.bindName=this.tableData[e].bindName,this.algAddForm.describe=this.tableData[e].describe,this.algAddForm.inputFormat=this.tableData[e].inputFormat,this.algAddForm.outputFormat=this.tableData[e].outputFormat,this.tableData[e].urlLists[0].url.length>0&&(this.algAddForm.urlLists=this.tableData[e].urlLists),this.addDialogTitle="编辑算法",void(this.addDialogVisible=!0)},handleAddDiaClose:function(){this.algAddForm.id="",this.algAddForm.menuDirection="",this.algAddForm.name="",this.algAddForm.englishName="",this.algAddForm.bindName="",this.algAddForm.describe="",this.algAddForm.inputFormat="",this.algAddForm.outputFormat="",this.algAddForm.urlLists=[],this.addDialogVisible=!1,this.updateTodel=[],this.updateToNew=[],this.fileList=[]},submitForm:function(t){var e=this,i=this;0!=i.bindNameExist?this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;if("新增算法"==e.addDialogTitle){var l=new FormData;l.append("name",i.algAddForm.name),l.append("englishName",i.algAddForm.englishName),l.append("bindName",i.algAddForm.bindName),l.append("position",i.algAddForm.menuDirection),l.append("description",i.algAddForm.describe),l.append("input",i.algAddForm.inputFormat),l.append("output",i.algAddForm.outputFormat),l.append("path",WebConfig.ServicesUrl);for(var o=0;o<i.fileList.length;o++)l.append("file",i.fileList[o].raw);a("mtWM").post(WebConfig.ServicesUrl+"/insertAlg",l,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"SUCCESS"==t.data.status&&i.$message.success("新增成功"),i.initPage(),i.handleAddDiaClose()}).catch(function(t){console.log(t)})}else{var n=new FormData;n.append("id",i.algAddForm.id),n.append("name",i.algAddForm.name),n.append("englishName",i.algAddForm.englishName),n.append("bindName",i.algAddForm.bindName),n.append("position",i.algAddForm.menuDirection),n.append("description",i.algAddForm.describe),n.append("input",i.algAddForm.inputFormat),n.append("output",i.algAddForm.outputFormat),n.append("path",WebConfig.ServicesUrl),n.append("del",r()(i.updateTodel)),n.append("urlList",r()(i.algAddForm.urlLists));for(var s=0;s<i.updateToNew.length;s++)n.append("file",i.updateToNew[s]);a("mtWM").post(WebConfig.ServicesUrl+"/updateAlgById",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"SUCCESS"==t.data.status?i.$message.success("修改成功"):i.$message.error("算法修改失败"),i.initPage(),i.handleAddDiaClose()}).catch(function(t){console.log(t)})}}):i.$message.warning("算法执行名对应的程序不存在")},checkIsPermiss:function(){var t=localStorage.getItem("role");this.funcPermission="管理员"==t},verifyExist:function(){var t=a("mtWM"),e=this.algAddForm.bindName,i=this.algAddForm.englishName,l=this;""!=e&&t.get(WebConfig.ServicesUrl+"/verifyExist?path="+i+"&bindName="+e).then(function(t){"SUCCESS"==t.data.status?l.bindNameExist=!0:l.bindNameExist=!1}).catch(function(t){console.log(t)})}},computed:{getTableHeight:function(){return this.$store.state.Global.screenHeight-350},getTotalDataLength:function(){return this.totalData.length},getTotalPage:function(){return Math.ceil(this.totalData.length/this.pageSize)},getWidth:function(){return window.innerWidth-120},getHeight:function(){return window.innerHeight-200}},mounted:function(){this.checkIsPermiss(),"管理员"==localStorage.getItem("role")&&(this.initEcharts(),this.initIpEcharts()),this.initPage()}}),st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{margin:"20px"}},[t.funcPermission?a("div",{staticStyle:{"text-align":"left",margin:"0px 0px 0px 35px"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:this.handleAdd}},[t._v(t._s(t.$t("ALGManage.funcPermission.add")))]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:this.algorithmUseStatistics}},[t._v(t._s(t.$t("ALGManage.funcPermission.useStatistic")))]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:this.ipUseStatistics}},[t._v(t._s(t.$t("ALGManage.funcPermission.positionStaticstic")))])],1):t._e(),t._v(" "),a("div",{staticClass:"tjInfo"},[a("span",[t._v("\n                "+t._s(t.$t("ALGManage.total"))+" "+t._s(this.getTotalDataLength)+" "+t._s(t.$t("ALGManage.items1"))+"\n            ")]),t._v(" "),a("span",[t._v("\n                "+t._s(t.$t("ALGManage.page1"))+" "+t._s(this.pageSize)+" "+t._s(t.$t("ALGManage.items2"))+"\n            ")]),t._v(" "),a("span",[t._v("\n                "+t._s(t.$t("ALGManage.total"))+" "+t._s(t.getTotalPage)+" "+t._s(t.$t("ALGManage.page2"))+"\n            ")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:!0,height:this.getTableHeight}},[a("el-table-column",{attrs:{type:"index",width:"60",label:t.$t("ALGManage.No"),align:"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:t.$t("ALGManage.ALGName"),width:"200",align:"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"menuDirection",label:t.$t("ALGManage.index"),width:"200","header-align":"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"describe",label:t.$t("ALGManage.describe"),"min-width":"500","header-align":"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"image",label:t.$t("ALGManage.exampleImg"),width:"400",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.urlLists[0].url.length>0?a("div",t._l(e.row.urlLists,function(t){return a("img",{staticStyle:{margin:"0 10px"},attrs:{src:t.url,width:"150px",height:"80px"}})}),0):a("div",[a("div",{staticStyle:{"text-align":"center","line-height":"86.5px"}},[t._v(t._s(t.$t("ALGManage.noUpload")))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:t.$t("ALGManage.handle"),width:"200",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleView(e.row.id)}}},[t._v(t._s(t.$t("ALGManage.details.title")))]),t._v(" "),t.funcPermission?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleEdit(e.row.id)}}},[t._v(t._s(t.$t("ALGManage.edit")))]):t._e(),t._v(" "),t.funcPermission?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDelete(e.row.id,e.row.urlLists)}}},[t._v(t._s(t.$t("ALGManage.del")))]):t._e()]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[0!=t.totalData.length?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,total:t.getTotalDataLength,"page-size":t.pageSize},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.handleCurrentChange}}):t._e()],1),t._v(" "),a("Modal",{attrs:{width:"50%"},model:{value:t.viewDialogVisible,callback:function(e){t.viewDialogVisible=e},expression:"viewDialogVisible"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-family":"Microsoft YaHei","font-size":"17px"}},[t._v(t._s(t.$t("ALGManage.details.detail")))])]),t._v(" "),a("div",{staticClass:"viewInfo"},[a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.ALGName")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},[t._v("\n            "+t._s(t.algMsg.name)+"\n          ")])],1)],1),t._v(" "),a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.ALGNameEn")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},[t._v("\n            "+t._s(t.algMsg.englishName)+"\n          ")])],1)],1),t._v(" "),a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.menuPos")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},[t._v(t._s(t.algMsg.menuDirection))])],1)],1),t._v(" "),a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.describe")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},[t._v(t._s(t.algMsg.describe))])],1)],1),t._v(" "),a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.exampleImg")))])],1),t._v(" "),a("el-row",{staticClass:"viewInfoRrow"},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"},height:"200px"}},[t._l(t.algMsg.urlLists,function(e){return e.url.length>0?[a("el-image",{key:e.url,staticStyle:{width:"350px",height:"200px","margin-left":"55px","margin-top":"5px"},attrs:{src:e.url,"preview-src-list":[e.url]}})]:[a("div",{staticStyle:{"text-align":"center","line-height":"205px"}},[t._v(t._s(t.$t("ALGManage.details.noUpload")))])]})],2)],1)],1),t._v(" "),a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.bindName")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},[t._v("\n            "+t._s(t.algMsg.bindName)+"\n          ")])],1)],1),t._v(" "),a("el-row",{staticClass:"viewInfoRrow"},[a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.dataInFormat")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},t._l(t.algMsg.inputFormat,function(e){return a("li",[t._v(t._s(e))])}),0)],1)],1)],1),t._v(" "),a("el-row",{staticClass:"viewInfoRrow"},[a("el-divider",{staticClass:"firstLabel",attrs:{"content-position":"left"}},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t.$t("ALGManage.details.dataOutFormat")))])],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-card",{staticClass:"endLabel",attrs:{shadow:"hover","body-style":{padding:"5px"}}},t._l(t.algMsg.outputFormat,function(e){return a("li",[t._v(t._s(e))])}),0)],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})]),t._v(" "),a("Modal",{attrs:{width:"30%",closable:!1},model:{value:t.addDialogVisible,callback:function(e){t.addDialogVisible=e},expression:"addDialogVisible"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.addDialogTitle))])]),t._v(" "),a("div",{staticClass:"addInfo"},[a("el-form",{ref:"algAddForm",attrs:{"label-position":"right","label-width":"100px",model:t.algAddForm,rules:t.rules}},[a("el-form-item",{attrs:{label:t.$t("ALGManage.add.ALGName"),prop:"name"}},[a("el-input",{model:{value:t.algAddForm.name,callback:function(e){t.$set(t.algAddForm,"name",e)},expression:"algAddForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("ALGManage.add.ALGNameEn"),prop:"englishName"}},["新增算法"==t.addDialogTitle?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("ALGManage.add.content1"),placement:"top-start"}},[a("el-input",{model:{value:t.algAddForm.englishName,callback:function(e){t.$set(t.algAddForm,"englishName",e)},expression:"algAddForm.englishName"}})],1):a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("ALGManage.add.content2"),placement:"top-start"}},[a("el-input",{attrs:{disabled:""},model:{value:t.algAddForm.englishName,callback:function(e){t.$set(t.algAddForm,"englishName",e)},expression:"algAddForm.englishName"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("ALGManage.add.menuPos")}},[a("el-input",{model:{value:t.algAddForm.menuDirection,callback:function(e){t.$set(t.algAddForm,"menuDirection",e)},expression:"algAddForm.menuDirection"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("ALGManage.add.describe"),prop:"describe"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.algAddForm.describe,callback:function(e){t.$set(t.algAddForm,"describe",e)},expression:"algAddForm.describe"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("ALGManage.add.exampleImg")}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{tip:t.$t("ALGManage.add.tip"),action:"",limit:2,"on-exceed":t.handleExceed,accept:".jpg,.jpeg,.png","http-request":t.UploadImage,"before-upload":t.beforeAvatarUpload,"on-remove":t.handleRemove,"file-list":t.algAddForm.urlLists,"list-type":"picture-card","on-change":t.handleChange}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("ALGManage.add.content"),placement:"top-start"}},[a("i",{staticClass:"el-icon-plus"})])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("ALGManage.add.exeName"),prop:"bindName"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("ALGManage.add.exeContent"),placement:"top-start"}},[a("el-input",{on:{blur:t.verifyExist},model:{value:t.algAddForm.bindName,callback:function(e){t.$set(t.algAddForm,"bindName",e)},expression:"algAddForm.bindName"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("ALGManage.add.inFormat"),prop:"inputFormat"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.algAddForm.inputFormat,callback:function(e){t.$set(t.algAddForm,"inputFormat",e)},expression:"algAddForm.inputFormat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("ALGManage.add.outFormat"),prop:"outputFormat"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.algAddForm.outputFormat,callback:function(e){t.$set(t.algAddForm,"outputFormat",e)},expression:"algAddForm.outputFormat"}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleAddDiaClose}},[t._v(t._s(t.$t("button.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("algAddForm")}}},[t._v(t._s(t.$t("button.ok")))])],1)]),t._v(" "),a("Modal",{attrs:{title:t.$t("ALGManage.statistic.title"),"footer-hide":!0,styles:{top:"60px",left:"20px",height:t.getHeight+"px",width:t.getWidth+"px",padding:"0px"},closable:!0},model:{value:t.algorithmUseStatisticsVisible,callback:function(e){t.algorithmUseStatisticsVisible=e},expression:"algorithmUseStatisticsVisible"}},[a("div",{staticStyle:{"background-color":"#0F347B",display:"inline-block",margin:"0px",padding:"0px",border:"0px"},attrs:{styles:{height:t.getHeight+"px",width:t.getWidth+"px"}}},[a("div",{staticStyle:{display:"inline-block",margin:"0px",padding:"0px"},style:{height:t.getHeight+"px",width:t.getWidth/2-25+"px"},attrs:{id:"echartsLeft"}},[a("div",{style:{height:t.getHeight/5*3+"px",width:t.getWidth/2-25+"px",margin:"0px",padding:"0px"},attrs:{id:"echarts"}}),t._v(" "),a("div",{staticClass:"vLine",staticStyle:{height:"3px",margin:"0px",padding:"0px","background-color":"#CCCCCC"}}),t._v(" "),a("div",{style:{height:t.getHeight/5*2+"px",width:t.getWidth/2-25+"px",margin:"0px",padding:"0px"},attrs:{id:"echartsTop"}})]),t._v(" "),a("div",{staticClass:"vLine",staticStyle:{display:"inline-block","border-left":"solid 2px #ccc",margin:"0px",padding:"0px"},style:{height:t.getHeight+"px"}}),t._v(" "),a("div",{staticStyle:{display:"inline-block",margin:"0px",padding:"0px"},style:{height:t.getHeight+"px",width:t.getWidth/2-25+"px"},attrs:{id:"echartsRight"}})])]),t._v(" "),a("Modal",{attrs:{title:t.$t("ALGManage.statistic.ipStatistic"),styles:{top:"20px",left:"20px",height:t.getHeight+"px",width:t.getWidth+"px"},"footer-hide":!0,closable:!0},model:{value:t.ipUseStatisticsVisible,callback:function(e){t.ipUseStatisticsVisible=e},expression:"ipUseStatisticsVisible"}},[a("div",{staticStyle:{position:"static"},attrs:{styles:{height:t.getHeight+"px",width:t.getWidth-30+"px",padding:"0px",margin:"0px",border:"0"}}},[a("div",{staticStyle:{display:"inline-block",margin:"0",padding:"0",border:"0",position:"absolute",float:"left","z-index":"1",left:"1%",top:"15%",opacity:"0.5"},style:{height:"80%",width:"20%"},attrs:{id:"chartIP"}},[[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","max-height":550,data:t.tableDataLatestRecord,"row-style":{color:"#FFFFFF",background:"#1c77ec"},"header-row-style":{color:"#ECAC45",background:"#ECAC45"},"header-cell-style":{color:"#FFFFFF",background:"#1c77ec"}}},[a("el-table-column",{attrs:{prop:"id",label:t.$t("ALGManage.statistic.latest")}}),t._v(" "),a("el-table-column",{attrs:{prop:"number",label:t.$t("ALGManage.statistic.ipPos")}})],1)]],2),t._v(" "),a("div",{staticStyle:{display:"inline-block",margin:"0",padding:"0",border:"0",position:"static"},style:{height:t.getHeight+"px",width:t.getWidth-30+"px"},attrs:{id:"echartsIp"}}),t._v(" "),a("div",{staticStyle:{display:"inline-block",margin:"0",padding:"0",border:"0",position:"absolute",float:"right","z-index":"1",right:"1%",top:"15%",opacity:"0.5"},style:{height:"80%",width:"20%"},attrs:{id:"chartIpStatistics"}},[[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","max-height":550,data:t.tableDataIpAddr,"row-style":{color:"#FFFFFF",background:"#1c77ec"},"header-row-style":{color:"#ECAC45",background:"#ECAC45"},"header-cell-style":{color:"#FFFFFF",background:"#1c77ec"}}},[a("el-table-column",{attrs:{prop:"ipAddress",label:t.$t("ALGManage.statistic.ipPos")}}),t._v(" "),a("el-table-column",{attrs:{prop:"number",label:t.$t("ALGManage.statistic.count")}})],1)]],2)])])],1)},staticRenderFns:[]};var rt=a("VU/8")(nt,st,!1,function(t){a("rRDH"),a("AXLI")},"data-v-a7ac16b8",null).exports,ct={data:function(){var t;return t={spatialReferences:o.a.spatialReferences,dialogVisible:!1,spatialReLabel:"EPSG:4326",guid:"",name:"",rules:{name:{required:!0,message:"请输入算法名称",trigger:"blur"},describe:{required:!0,message:"请输入算法描述",trigger:"blur"},inputFormat:{required:!0,message:"请输入输入格式",trigger:"blur"},outputFormat:{required:!0,message:"请输入输出格式",trigger:"blur"}},importOnlineDataFlag:!1,code:""},l()(t,"name",""),l()(t,"input3",""),l()(t,"search",""),l()(t,"currentPage",1),l()(t,"pageSize",20),l()(t,"pages",0),l()(t,"total",0),l()(t,"prop",""),l()(t,"order",""),l()(t,"options",[{value:-1,label:"请选择问题类别"},{value:0,label:"系统问题"},{value:1,label:"算法问题"},{value:2,label:"其他问题"}]),l()(t,"flag1",window.vm.$i18n.t("productionManage.ownData")),l()(t,"flag","自有成果"),l()(t,"viewDialogVisible",!1),l()(t,"addDialogVisible",!1),l()(t,"publishFlag",!1),l()(t,"fileList",[]),l()(t,"updateTodel",[]),l()(t,"updateToNew",[]),l()(t,"addDialogTitle",""),l()(t,"algAddForm",{guid:"",name:"",description:"",ispublic:""}),l()(t,"algMsg",{id:"",name:"",describe:"",inputFormat:"",outputFormat:"",menuDirection:"",urlLists:[],previewLists:[]}),l()(t,"totalData",[]),l()(t,"loginUserID",localStorage.getItem("userId")),t},components:{importOnlineData:a("xEiC").a},methods:{tableRowClass:function(t){t.row;return 0==t.rowIndex?"userSelf":"otherUser"},handleCurrentChange:function(t){this.currentPage=t,this.initPage()},showDate:function(t){return-1!==(t+="").indexOf(this.search)&&""!==this.search?t.replace(this.search,'<font color="#409EFF">'+this.search+"</font>"):t},showModal:function(t){this.importOnlineDataFlag=!0,this.code=t.guid;var e=t.name;this.name=-1==e.indexOf(".")?e:e.substring(0,e.indexOf("."))},initPage:function(){this.totalData=[];var t=this,e=localStorage.getItem("role");this.publishFlag="管理员"==e;var a={userid:localStorage.getItem("userId"),start:this.currentPage,search:this.search,prop:this.prop,order:this.order,flag:this.flag,pageSize:this.pageSize};this.axios.post(WebConfig.ServicesUrl+"/GetGeoshareByUserId",a).then(function(e){if("SUCCESS"==e.data.status){for(var a=e.data.data.list,i=0;i<a.length;i++){var o=new Date(a[i].uploaddate),n=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),s=l()({userid:a[i].userid,name:a[i].name,description:a[i].description,guid:a[i].guid,uploaddate:n,downloadcount:a[i].downloadcount,ispublic:a[i].ispublic},"guid",a[i].guid);t.totalData.push(s)}t.currentPage=e.data.data.pageNum,t.pages=e.data.data.pages,t.total=e.data.data.total}}).catch(function(t){})},sortChange:function(t){if(this.prop="",this.order="",t)switch(this.prop=t.prop,t.order){case"ascending":this.order="asc";break;case"descending":this.order="desc";break;default:this.order=""}this.initPage()},handleDelete:function(t,e){var a=this,i=this;this.$confirm("确定要删除该条记录吗?","提示",{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then(function(){var t={};t.guid=e.guid,a.axios.post(WebConfig.ServicesUrl+"/deleteGeoShareById",t).then(function(t){i.$message({message:"删除成功",type:"success"}),i.initPage()}).catch(function(t){i.$message.error("删除失败")})})},downData:function(t,e){this.$message({type:"success",message:"正在下载中...",duration:5e3});var a=e.guid,i={};i.guid=a,this.axios.post(WebConfig.ServicesUrl+"/findGeoshareByGuid",i).then(function(t){var e=t.data.data.geojson,a=new Blob([e],{type:""});R.a.saveAs(a,t.data.data.name+".json")})},spatialReferenceChange:function(t){this.spatialReLabel=t},publishToGeo:function(t){this.dialogVisible=!0,this.guid=t.guid,this.name=""},handleClose:function(){return this.guid="",this.dialogVisible=!1,this.name="",this.$emit("inputMess"),!1},handleOK:function(){var t=this,e=new FormData;e.append("guid",t.guid),e.append("name",t.name),this.axios.post(WebConfig.ServicesUrl+"/publishToGeo",e).then(function(e){if("SUCCESS"==e.data.status){var a=n.a.newGuid(),i=new t.ol.layer.Tile({source:new t.ol.source.TileWMS({url:e.data.data.ServiceUrl,serverType:"geoserver",params:{LAYERS:e.data.data.LayersName,TILED:!1},transition:0}),id:a,visible:!0});t.$store.state.Global.map2DHandler.addLayer(i);var l={};l.id=a,l.label=e.data.data.serverName+window.vm.$i18n.t("WMSShare.extend"),o.a.treeData2d[1].children.push(l),t.$nextTick(function(){t.$store.state.Global.twoDLayerTree.setCheckedKeys([a])}),t.$notify({title:window.vm.$i18n.t("WMSShare.resultTitle"),message:e.data.message+" ,"+window.vm.$i18n.t("WMSShare.message"),type:"success",position:"bottom-right",offset:10})}}).catch(function(t){console.log(t)}),this.$emit("inputMess"),this.dialogVisible=!1},whetherPublic:function(t){var e=this,i=new FormData;i.append("guid",t.guid),i.append("name",t.name),i.append("description",t.description),i.append("ispubulic",t.ispublic);a("mtWM").post(WebConfig.ServicesUrl+"/updateGeoByGuid",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){"SUCCESS"==a.data.status&&e.$message.success(t.name+":变更成功!"),e.initPage()}).catch(function(t){console.log(t)})}},watch:{flag1:function(t){"自有成果"===t||"Own Data"===t?this.flag="自有成果":"他人共享"!==t&&"Other Data"!==t||(this.flag="他人共享")},name:function(t){this.name=t.match(/^\w+$/)?t:""}},computed:{getTableHeight:function(){return this.$store.state.Global.screenHeight-300},getTotalDataLength:function(){return this.totalData.length},getTotalPage:function(){return Math.ceil(this.totalData.length/this.pageSize)}},mounted:function(){this.initPage()}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{margin:"20px"}},[a("div",{staticStyle:{height:"10px"},attrs:{align:"left"}},[a("label",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(t.$t("productionManage.searchKey")))]),a("el-input",{staticStyle:{width:"20%"},attrs:{size:"small",placeholder:t.$t("productionManage.placeholder")},model:{value:t.search,callback:function(e){t.search="string"==typeof e?e.trim():e},expression:"search"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"40px"},attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.initPage}},[t._v(t._s(t.$t("productionManage.search")))]),t._v(" "),a("el-radio-group",{staticStyle:{"margin-left":"70px"},attrs:{size:"small"},on:{change:t.initPage},model:{value:t.flag1,callback:function(e){t.flag1=e},expression:"flag1"}},[a("el-radio-button",{attrs:{label:t.$t("productionManage.ownData")}}),t._v(" "),a("el-radio-button",{attrs:{label:t.$t("productionManage.otherData")}})],1)],1),t._v(" "),a("div",{staticClass:"tjInfo"},[a("span",[t._v("\n                  "+t._s(t.$t("productionManage.total"))+" "+t._s(this.total)+" "+t._s(t.$t("productionManage.items1"))+"\n              ")]),t._v(" "),a("span",[t._v("\n                  "+t._s(t.$t("productionManage.page1"))+" "+t._s(this.pageSize)+" "+t._s(t.$t("productionManage.items2"))+"\n              ")]),t._v(" "),a("span",[t._v("\n                  "+t._s(t.$t("productionManage.total"))+" "+t._s(this.pages)+" "+t._s(t.$t("productionManage.page2"))+"\n              ")])]),t._v(" "),"他人共享"==t.flag?a("el-table",{key:1,staticStyle:{width:"100%"},attrs:{data:t.totalData,height:t.getTableHeight,border:!0},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{type:"index",width:"50",label:t.$t("productionManage.No"),align:"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:t.$t("productionManage.name"),width:"200","show-overflow-tooltip":"",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.name))}})]}}],null,!1,1118416137)}),t._v(" "),a("el-table-column",{attrs:{prop:"description","show-overflow-tooltip":"","min-width":"300","header-align":"center",label:t.$t("productionManage.describe"),resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.description))}})]}}],null,!1,2666973576)}),t._v(" "),a("el-table-column",{attrs:{prop:"guid",label:t.$t("productionManage.code"),width:"210",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.guid))}})]}}],null,!1,882811825)}),t._v(" "),a("el-table-column",{attrs:{prop:"uploaddate",sortable:"custom",label:t.$t("productionManage.upTime"),width:"110",align:"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"downloadcount",sortable:"custom",label:t.$t("productionManage.downCount"),width:"170",align:"center",resizable:!1}}),t._v(" "),"自有成果"==t.flag||"ownData"==t.flag?a("el-table-column",{attrs:{prop:"ispublic",sortable:"custom",label:t.$t("productionManage.share"),width:"110",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.userid==t.loginUserID?a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return t.whetherPublic(e.row)}},model:{value:e.row.ispublic,callback:function(a){t.$set(e.row,"ispublic",a)},expression:"scope.row.ispublic"}}):t._e()]}}],null,!1,1933768192)}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:t.$t("ALGManage.handle"),width:"200",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[e.row.userid==t.loginUserID?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v(t._s(t.$t("productionManage.del")))]):t._e(),t._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){return t.downData(e.$index,e.row)}}},[t._v(t._s(t.$t("productionManage.download")))])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.showModal(e.row)}}},[t._v(t._s(t.$t("productionManage.view")))]),t._v(" "),t.publishFlag?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.publishToGeo(e.row)}}},[t._v(t._s(t.$t("productionManage.publish")))]):t._e()],1)]}}],null,!1,401299413)})],1):a("el-table",{key:2,staticStyle:{width:"100%"},attrs:{data:t.totalData,height:t.getTableHeight,border:!0},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{type:"index",width:"50",label:t.$t("productionManage.No"),align:"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:t.$t("productionManage.name"),width:"200","show-overflow-tooltip":"",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.name))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"description","show-overflow-tooltip":"","min-width":"300","header-align":"center",label:t.$t("productionManage.describe"),resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.description))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"guid",label:t.$t("productionManage.code"),width:"210",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.guid))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"uploaddate",sortable:"custom",label:t.$t("productionManage.upTime"),width:"110",align:"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"downloadcount",sortable:"custom",label:t.$t("productionManage.downCount"),width:"170",align:"center",resizable:!1}}),t._v(" "),"自有成果"==t.flag||"ownData"==t.flag?a("el-table-column",{attrs:{prop:"ispublic",sortable:"custom",label:t.$t("productionManage.share"),width:"110",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.userid==t.loginUserID?a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return t.whetherPublic(e.row)}},model:{value:e.row.ispublic,callback:function(a){t.$set(e.row,"ispublic",a)},expression:"scope.row.ispublic"}}):t._e()]}}],null,!1,1933768192)}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:t.$t("ALGManage.handle"),width:"200",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[e.row.userid==t.loginUserID?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v(t._s(t.$t("productionManage.del")))]):t._e(),t._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){return t.downData(e.$index,e.row)}}},[t._v(t._s(t.$t("productionManage.download")))])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.showModal(e.row)}}},[t._v(t._s(t.$t("productionManage.view")))]),t._v(" "),t.publishFlag?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.publishToGeo(e.row)}}},[t._v(t._s(t.$t("productionManage.publish")))]):t._e()],1)]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[0!=this.total?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,total:this.total,"page-size":this.pageSize},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.handleCurrentChange}}):t._e(),t._v(" "),t.importOnlineDataFlag?a("importOnlineData",{attrs:{code:t.code,name:t.name},on:{inputMess:function(e){t.importOnlineDataFlag=!1}}}):t._e()],1),t._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("WMSShare.onlineService"),visible:t.dialogVisible,width:"500px","append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("productionManage.publishName")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small",placeholder:t.$t("productionManage.publishPlaceholder")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("WMSShare.setCoordinate")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small",filterable:""},on:{change:t.spatialReferenceChange},model:{value:t.spatialReLabel,callback:function(e){t.spatialReLabel=e},expression:"spatialReLabel"}},t._l(t.spatialReferences,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1)],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleOK}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleClose}},[t._v(t._s(t.$t("button.cancel")))])],1)])],1)},staticRenderFns:[]};var ut=a("VU/8")(ct,dt,!1,function(t){a("p5dL")},null,null).exports,pt={data:function(){return{rules:{name:{required:!0,message:"请输入算法名称",trigger:"blur"},describe:{required:!0,message:"请输入算法描述",trigger:"blur"},inputFormat:{required:!0,message:"请输入输入格式",trigger:"blur"},outputFormat:{required:!0,message:"请输入输出格式",trigger:"blur"}},search:"",input3:"",currentPage:1,pageSize:20,pages:0,total:0,prop:"",order:"",value:-1,viewDialogVisible:!1,addDialogVisible:!1,fileList:[],updateTodel:[],updateToNew:[],addDialogTitle:"",algAddForm:{guid:"",name:"",description:"",ispublic:""},algMsg:{id:"",name:"",describe:"",inputFormat:"",outputFormat:"",menuDirection:"",urlLists:[],previewLists:[]},totalData:[],loginUserID:localStorage.getItem("userId")}},methods:{tableRowClass:function(t){t.row;return 0==t.rowIndex?"userSelf":"otherUser"},handleCurrentChange:function(t){this.currentPage=t,this.initPage()},showDate:function(t){return-1!==(t+="").indexOf(this.search)&&""!==this.search?t.replace(this.search,'<font color="#409EFF">'+this.search+"</font>"):t},initPage:function(){this.totalData=[];var t=this,e="/queryFeedbackAll?start="+this.currentPage+"&search="+this.search+"&prop="+this.prop+"&order="+this.order+"&value="+this.value+"&pageSize="+this.pageSize;this.axios.post(WebConfig.ServicesUrl+e).then(function(e){if("SUCCESS"==e.data.status){for(var a=e.data.data.list,i=0;i<a.length;i++){var l=new Date(a[i].createdate),o=l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate(),n=void 0;switch(a[i].type){case 0:n="系统问题";break;case 1:n="算法问题";break;case 2:n="其他问题";break;default:n=""}var s={id:a[i].id,userName:a[i].userName,content:a[i].content,createdate:o,email:a[i].email,handled:a[i].handled,handledate:a[i].handledate,index:a[i].index,phone:a[i].phone,result:a[i].result,title:a[i].title,type:n};t.totalData.push(s)}t.currentPage=e.data.data.pageNum,t.pages=e.data.data.pages,t.total=e.data.data.total}}).catch(function(t){})},whetherPublic:function(t){var e=this,a={id:t.id,result:"反馈结果已处理",isHandled:t.handled,userId:localStorage.getItem("userId")};this.axios.post(WebConfig.ServicesUrl+"/updateFeedback",a).then(function(t){"SUCCESS"==t.data.status&&e.$message({type:"success",message:"操作成功!"})}).catch(function(t){console.log(t)})},sortChange:function(t){if(this.prop="",this.order="",t)switch(this.prop=t.prop,t.order){case"ascending":this.order="asc";break;case"descending":this.order="desc";break;default:this.order=""}this.initPage()}},computed:{options:function(){return[{value:-1,label:window.vm.$i18n.t("SFBManager.type.label_1")},{value:0,label:window.vm.$i18n.t("SFBManager.type.label0")},{value:1,label:window.vm.$i18n.t("SFBManager.type.label1")},{value:2,label:window.vm.$i18n.t("SFBManager.type.label2")}]},getTableHeight:function(){return this.$store.state.Global.screenHeight-300},getTotalDataLength:function(){return this.totalData.length},getTotalPage:function(){return Math.ceil(this.totalData.length/this.pageSize)}},mounted:function(){this.initPage()}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{margin:"20px"}},[a("div",{staticStyle:{height:"10px"},attrs:{align:"left"}},[a("label",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(t.$t("SFBManager.searchKey")))]),a("el-input",{staticStyle:{width:"20%"},attrs:{size:"small",placeholder:t.$t("SFBManager.placeholder")},model:{value:t.search,callback:function(e){t.search="string"==typeof e?e.trim():e},expression:"search"}}),t._v(" "),a("label",{staticStyle:{"margin-left":"40px"}},[t._v(t._s(t.$t("SFBManager.type.title")))]),a("el-select",{attrs:{size:"small"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{staticStyle:{"margin-left":"40px"},attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.initPage}},[t._v(t._s(t.$t("SFBManager.search")))])],1),t._v(" "),a("div",{staticClass:"tjInfo"},[a("span",[t._v("\n                    "+t._s(t.$t("SFBManager.total"))+" "+t._s(t.total)+" "+t._s(t.$t("SFBManager.items1"))+"\n                ")]),t._v(" "),a("span",[t._v("\n                    "+t._s(t.$t("SFBManager.page1"))+" "+t._s(t.pageSize)+" "+t._s(t.$t("SFBManager.items2"))+"\n                ")]),t._v(" "),a("span",[t._v("\n                    "+t._s(t.$t("SFBManager.total"))+" "+t._s(t.pages)+" "+t._s(t.$t("SFBManager.page2"))+"\n                ")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.totalData,height:t.getTableHeight,border:!0},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{type:"index",width:"50",label:t.$t("SFBManager.No"),align:"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",sortable:"custom",label:t.$t("SFBManager.name"),width:"120",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.userName))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:t.$t("SFBManager.phone"),width:"110",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.phone))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:t.$t("SFBManager.email"),width:"130",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.email))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",sortable:"custom",label:t.$t("SFBManager.category"),width:"110","show-overflow-tooltip":"",align:"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:t.$t("SFBManager.describe"),width:"200","show-overflow-tooltip":"",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.title))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"content","show-overflow-tooltip":"","min-width":"350","header-align":"center",label:t.$t("SFBManager.detail"),resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-cont",domProps:{innerHTML:t._s(t.showDate(e.row.content))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createdate",sortable:"custom",label:t.$t("SFBManager.upTime"),width:"110",align:"center",resizable:!1}}),t._v(" "),a("el-table-column",{attrs:{prop:"handled",sortable:"custom",label:t.$t("SFBManager.handle"),width:"110",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return t.whetherPublic(e.row)}},model:{value:e.row.handled,callback:function(a){t.$set(e.row,"handled",a)},expression:"scope.row.handled"}})]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[0!=t.total?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,total:t.total,"page-size":t.pageSize},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.handleCurrentChange}}):t._e()],1)])},staticRenderFns:[]};var mt=a("VU/8")(pt,ht,!1,function(t){a("XC4x")},null,null).exports,gt={data:function(){return{rules:{name:{required:!0,message:"请输入算法名称",trigger:"blur"},describe:{required:!0,message:"请输入算法描述",trigger:"blur"},inputFormat:{required:!0,message:"请输入输入格式",trigger:"blur"},outputFormat:{required:!0,message:"请输入输出格式",trigger:"blur"}},input3:"",currentPage:1,tableData:[],pageSize:12,viewDialogVisible:!1,addDialogVisible:!1,fileList:[],updateTodel:[],updateToNew:[],addDialogTitle:"",algAddForm:{guid:"",name:"",description:"",ispublic:""},algMsg:{id:"",name:"",describe:"",inputFormat:"",outputFormat:"",menuDirection:"",urlLists:[],previewLists:[]},totalData:[],height:""}},methods:{handleCurrentChange:function(t){this.currentPage=t,this.initTableData()},initPage:function(){this.totalData=[];var t=this;this.axios.post(WebConfig.ServicesUrl+"/GetGeoshareAll").then(function(e){if("SUCCESS"==e.data.status){for(var a=e.data.data,i=0;i<a.length;i++){var o=l()({userid:a[i].userid,name:a[i].name,description:a[i].description,guid:a[i].guid,uploaddate:a[i].uploaddate,downloadcount:a[i].downloadcount,ispublic:a[i].ispublic},"guid",a[i].guid);t.totalData.push(o)}t.initTableData()}}).catch(function(t){})},initTableData:function(){this.currentPage>Math.ceil(this.totalData.length/this.pageSize)&&(this.currentPage=Math.ceil(this.totalData.length/this.pageSize));this.currentPage;this.tableData.length=0;var t=this.pageSize*(this.currentPage-1),e=this.pageSize*this.currentPage;e>this.totalData.length&&(e=this.totalData.length);for(var a=t;a<e;a++)this.tableData.push(this.totalData[a])},UploadImage:function(){},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type;return e||this.$message.error("请上传图片格式!"),e},handleDelete:function(t,e){var a=this,i=this;this.$confirm("确定要删除该条记录吗?","提示",{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then(function(){var l=new FormData;l.append("id",t),l.append("urlLists",r()(e)),a.axios.post(WebConfig.ServicesUrl+"/delAlgById",l).then(function(t){i.$message({message:"删除成功",type:"success"}),i.initPage()}).catch(function(t){i.$message.error("删除失败")})})},handleView:function(t){for(var e=0;e<this.tableData.length;e++)if(this.tableData[e].id==t){this.algMsg.menuDirection=this.tableData[e].menuDirection,this.algMsg.name=this.tableData[e].name,this.algMsg.describe=this.tableData[e].describe,this.algMsg.inputFormat=this.tableData[e].inputFormat,this.algMsg.outputFormat=this.tableData[e].outputFormat,this.algMsg.urlLists=this.tableData[e].urlLists,this.algMsg.previewLists.length=0;for(var a=0;a<this.algMsg.urlLists.length;a++)0!=this.algMsg.urlLists[a].url.length&&this.algMsg.previewLists.push(this.algMsg.urlLists[a].url);return void(this.viewDialogVisible=!0)}},handleAdd:function(){this.addDialogTitle="新增算法",this.addDialogVisible=!0},handleRemove:function(t,e){if(this.fileList=e,"编辑算法"==this.addDialogTitle)if(void 0==t.raw)this.updateTodel.push(t.url);else for(var a=0;a<this.updateToNew.length;a++)this.updateToNew[a].uid==t.uid&&this.updateToNew.splice(a,1)},handleChange:function(t,e){this.fileList=e,"编辑算法"==this.addDialogTitle&&this.updateToNew.push(t.raw)},handleExceed:function(t,e){this.$message.warning("超出可上传图片数量限制")},handleEdit:function(t){for(var e=0;e<this.tableData.length;e++)if(this.tableData[e].id==t)return this.algAddForm.id=this.tableData[e].id,this.algAddForm.menuDirection=this.tableData[e].menuDirection,this.algAddForm.name=this.tableData[e].name,this.algAddForm.describe=this.tableData[e].describe,this.algAddForm.inputFormat=this.tableData[e].inputFormat,this.algAddForm.outputFormat=this.tableData[e].outputFormat,this.tableData[e].urlLists[0].url.length>0&&(this.algAddForm.urlLists=this.tableData[e].urlLists),this.addDialogTitle="编辑算法",void(this.addDialogVisible=!0)},whetherPublic:function(t){var e=new FormData;e.append("guid",t.guid),e.append("name",t.name),e.append("description",t.description),e.append("ispubulic",t.ispublic);a("mtWM").post(WebConfig.ServicesUrl+"/updateGeoByGuid",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"SUCCESS"==t.data.status&&_this.$message.success("新增成功"),_this.initPage(),_this.handleAddDiaClose()}).catch(function(t){console.log(t)})},handleAddDiaClose:function(){this.algAddForm.id="",this.algAddForm.menuDirection="",this.algAddForm.name="",this.algAddForm.describe="",this.algAddForm.inputFormat="",this.algAddForm.outputFormat="",this.algAddForm.urlLists=[],this.addDialogVisible=!1,this.updateTodel=[],this.updateToNew=[],this.fileList=[]},submitForm:function(t){var e=this,i=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;if("新增算法"==e.addDialogTitle){var l=new FormData;l.append("name",i.algAddForm.name),l.append("position",i.algAddForm.menuDirection),l.append("description",i.algAddForm.describe),l.append("input",i.algAddForm.inputFormat),l.append("output",i.algAddForm.outputFormat),l.append("path",WebConfig.ServicesUrl);for(var o=0;o<i.fileList.length;o++)l.append("file",i.fileList[o].raw);a("mtWM").post(WebConfig.ServicesUrl+"/insertAlg",l,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"SUCCESS"==t.data.status&&i.$message.success("新增成功"),i.initPage(),i.handleAddDiaClose()}).catch(function(t){console.log(t)})}else{var n=new FormData;n.append("id",i.algAddForm.id),n.append("name",i.algAddForm.name),n.append("position",i.algAddForm.menuDirection),n.append("description",i.algAddForm.describe),n.append("input",i.algAddForm.inputFormat),n.append("output",i.algAddForm.outputFormat),n.append("path",WebConfig.ServicesUrl),n.append("del",i.updateTodel),n.append("urlList",r()(i.algAddForm.urlLists));for(var s=0;s<i.updateToNew.length;s++)n.append("file",i.updateToNew[s]);a("mtWM").post(WebConfig.ServicesUrl+"/updateGeoByGuid",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"SUCCESS"==t.data.status?i.$message.success("修改成功"):i.$message.error("算法修改失败"),i.initPage(),i.handleAddDiaClose()}).catch(function(t){console.log(t)})}})}},computed:{getWidth:function(){return this.$store.state.Global.showLayerPanelFlag?window.innerWidth-220:window.innerWidth},getHeight:function(){return this.height=window.innerHeight-170,this.height}},mounted:function(){var t=document.getElementById("echarts"),e=echarts.init(t),a={title:{text:"动态数据",subtext:"纯属虚构"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:["最新成交价","预购队列"]},toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,data:function(){for(var t=new Date,e=[],a=10;a--;)e.unshift(t.toLocaleTimeString().replace(/^\D*/,"")),t=new Date(t-2e3);return e}()},{type:"category",boundaryGap:!0,data:function(){for(var t=[],e=10;e--;)t.push(10-e-1);return t}()}],yAxis:[{type:"value",scale:!0,name:"价格",max:30,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"预购量",max:1200,min:0,boundaryGap:[.2,.2]}],series:[{name:"预购队列",type:"bar",xAxisIndex:1,yAxisIndex:1,data:function(){for(var t=[],e=10;e--;)t.push(Math.round(1e3*Math.random()));return t}()},{name:"最新成交价",type:"line",data:function(){for(var t=[],e=0;e<10;)t.push((10*Math.random()+5).toFixed(1)-0),e++;return t}()}]};app.count=11,setInterval(function(){var t=(new Date).toLocaleTimeString().replace(/^\D*/,""),i=a.series[0].data,l=a.series[1].data;i.shift(),i.push(Math.round(1e3*Math.random())),l.shift(),l.push((10*Math.random()+5).toFixed(1)-0),a.xAxis[0].data.shift(),a.xAxis[0].data.push(t),a.xAxis[1].data.shift(),a.xAxis[1].data.push(app.count++),e.setOption(a)},2100)}},ft={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{style:{height:this.getHeight+"px",width:this.getWidth+"px"},attrs:{id:"echarts"}})])},staticRenderFns:[]};var vt=a("VU/8")(gt,ft,!1,function(t){a("MsXq")},"data-v-083d9962",null).exports,bt={data:function(){return{rules:{name:{required:!0,message:"请输入算法名称",trigger:"blur"},describe:{required:!0,message:"请输入算法描述",trigger:"blur"},inputFormat:{required:!0,message:"请输入输入格式",trigger:"blur"},outputFormat:{required:!0,message:"请输入输出格式",trigger:"blur"}},input3:"",currentPage:1,tableData:[],pageSize:12,viewDialogVisible:!1,addDialogVisible:!1,fileList:[],updateTodel:[],updateToNew:[],addDialogTitle:"",algAddForm:{guid:"",name:"",description:"",ispublic:""},algMsg:{id:"",name:"",describe:"",inputFormat:"",outputFormat:"",menuDirection:"",urlLists:[],previewLists:[]},totalData:[],height:""}},methods:{handleCurrentChange:function(t){this.currentPage=t,this.initTableData()},initPage:function(){this.totalData=[];var t=this;this.axios.post(WebConfig.ServicesUrl+"/GetGeoshareAll").then(function(e){if("SUCCESS"==e.data.status){for(var a=e.data.data,i=0;i<a.length;i++){var o=l()({userid:a[i].userid,name:a[i].name,description:a[i].description,guid:a[i].guid,uploaddate:a[i].uploaddate,downloadcount:a[i].downloadcount,ispublic:a[i].ispublic},"guid",a[i].guid);t.totalData.push(o)}t.initTableData()}}).catch(function(t){})},initTableData:function(){this.currentPage>Math.ceil(this.totalData.length/this.pageSize)&&(this.currentPage=Math.ceil(this.totalData.length/this.pageSize));this.currentPage;this.tableData.length=0;var t=this.pageSize*(this.currentPage-1),e=this.pageSize*this.currentPage;e>this.totalData.length&&(e=this.totalData.length);for(var a=t;a<e;a++)this.tableData.push(this.totalData[a])},UploadImage:function(){},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type;return e||this.$message.error("请上传图片格式!"),e},handleDelete:function(t,e){var a=this,i=this;this.$confirm("确定要删除该条记录吗?","提示",{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then(function(){var l=new FormData;l.append("id",t),l.append("urlLists",r()(e)),a.axios.post(WebConfig.ServicesUrl+"/delAlgById",l).then(function(t){i.$message({message:"删除成功",type:"success"}),i.initPage()}).catch(function(t){i.$message.error("删除失败")})})},handleView:function(t){for(var e=0;e<this.tableData.length;e++)if(this.tableData[e].id==t){this.algMsg.menuDirection=this.tableData[e].menuDirection,this.algMsg.name=this.tableData[e].name,this.algMsg.describe=this.tableData[e].describe,this.algMsg.inputFormat=this.tableData[e].inputFormat,this.algMsg.outputFormat=this.tableData[e].outputFormat,this.algMsg.urlLists=this.tableData[e].urlLists,this.algMsg.previewLists.length=0;for(var a=0;a<this.algMsg.urlLists.length;a++)0!=this.algMsg.urlLists[a].url.length&&this.algMsg.previewLists.push(this.algMsg.urlLists[a].url);return void(this.viewDialogVisible=!0)}},handleAdd:function(){this.addDialogTitle="新增算法",this.addDialogVisible=!0},handleRemove:function(t,e){if(this.fileList=e,"编辑算法"==this.addDialogTitle)if(void 0==t.raw)this.updateTodel.push(t.url);else for(var a=0;a<this.updateToNew.length;a++)this.updateToNew[a].uid==t.uid&&this.updateToNew.splice(a,1)},handleChange:function(t,e){this.fileList=e,"编辑算法"==this.addDialogTitle&&this.updateToNew.push(t.raw)},handleExceed:function(t,e){this.$message.warning("超出可上传图片数量限制")},handleEdit:function(t){for(var e=0;e<this.tableData.length;e++)if(this.tableData[e].id==t)return this.algAddForm.id=this.tableData[e].id,this.algAddForm.menuDirection=this.tableData[e].menuDirection,this.algAddForm.name=this.tableData[e].name,this.algAddForm.describe=this.tableData[e].describe,this.algAddForm.inputFormat=this.tableData[e].inputFormat,this.algAddForm.outputFormat=this.tableData[e].outputFormat,this.tableData[e].urlLists[0].url.length>0&&(this.algAddForm.urlLists=this.tableData[e].urlLists),this.addDialogTitle="编辑算法",void(this.addDialogVisible=!0)},whetherPublic:function(t){var e=new FormData;e.append("guid",t.guid),e.append("name",t.name),e.append("description",t.description),e.append("ispubulic",t.ispublic);a("mtWM").post(WebConfig.ServicesUrl+"/updateGeoByGuid",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"SUCCESS"==t.data.status&&_this.$message.success("新增成功"),_this.initPage(),_this.handleAddDiaClose()}).catch(function(t){console.log(t)})},handleAddDiaClose:function(){this.algAddForm.id="",this.algAddForm.menuDirection="",this.algAddForm.name="",this.algAddForm.describe="",this.algAddForm.inputFormat="",this.algAddForm.outputFormat="",this.algAddForm.urlLists=[],this.addDialogVisible=!1,this.updateTodel=[],this.updateToNew=[],this.fileList=[]},submitForm:function(t){var e=this,i=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;if("新增算法"==e.addDialogTitle){var l=new FormData;l.append("name",i.algAddForm.name),l.append("position",i.algAddForm.menuDirection),l.append("description",i.algAddForm.describe),l.append("input",i.algAddForm.inputFormat),l.append("output",i.algAddForm.outputFormat),l.append("path",WebConfig.ServicesUrl);for(var o=0;o<i.fileList.length;o++)l.append("file",i.fileList[o].raw);a("mtWM").post(WebConfig.ServicesUrl+"/insertAlg",l,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"SUCCESS"==t.data.status&&i.$message.success("新增成功"),i.initPage(),i.handleAddDiaClose()}).catch(function(t){console.log(t)})}else{var n=new FormData;n.append("id",i.algAddForm.id),n.append("name",i.algAddForm.name),n.append("position",i.algAddForm.menuDirection),n.append("description",i.algAddForm.describe),n.append("input",i.algAddForm.inputFormat),n.append("output",i.algAddForm.outputFormat),n.append("path",WebConfig.ServicesUrl),n.append("del",i.updateTodel),n.append("urlList",r()(i.algAddForm.urlLists));for(var s=0;s<i.updateToNew.length;s++)n.append("file",i.updateToNew[s]);a("mtWM").post(WebConfig.ServicesUrl+"/updateGeoByGuid",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"SUCCESS"==t.data.status?i.$message.success("修改成功"):i.$message.error("算法修改失败"),i.initPage(),i.handleAddDiaClose()}).catch(function(t){console.log(t)})}})}},computed:{getWidth:function(){return this.$store.state.Global.showLayerPanelFlag?window.innerWidth-220:window.innerWidth},getHeight:function(){return this.height=window.innerHeight-170,this.height}},mounted:function(){var t=document.getElementById("echarts"),e=echarts.init(t),a=[{name:"海门",value:9},{name:"鄂尔多斯",value:12},{name:"招远",value:12},{name:"舟山",value:12},{name:"齐齐哈尔",value:14},{name:"盐城",value:15},{name:"赤峰",value:16},{name:"青岛",value:18},{name:"乳山",value:18},{name:"金昌",value:19},{name:"泉州",value:21},{name:"莱西",value:21},{name:"日照",value:21},{name:"胶南",value:22},{name:"南通",value:23},{name:"拉萨",value:24},{name:"云浮",value:24},{name:"梅州",value:25},{name:"文登",value:25},{name:"上海",value:25},{name:"攀枝花",value:25},{name:"威海",value:25},{name:"承德",value:25},{name:"厦门",value:26},{name:"汕尾",value:26},{name:"潮州",value:26},{name:"丹东",value:27},{name:"太仓",value:27},{name:"曲靖",value:27},{name:"烟台",value:28},{name:"福州",value:29},{name:"瓦房店",value:30},{name:"即墨",value:30},{name:"抚顺",value:31},{name:"玉溪",value:31},{name:"张家口",value:31},{name:"阳泉",value:31},{name:"莱州",value:32},{name:"湖州",value:32},{name:"汕头",value:32},{name:"昆山",value:33},{name:"宁波",value:33},{name:"湛江",value:33},{name:"揭阳",value:34},{name:"荣成",value:34},{name:"连云港",value:35},{name:"葫芦岛",value:35},{name:"常熟",value:36},{name:"东莞",value:36},{name:"河源",value:36},{name:"淮安",value:36},{name:"泰州",value:36},{name:"南宁",value:37},{name:"营口",value:37},{name:"惠州",value:37},{name:"江阴",value:37},{name:"蓬莱",value:37},{name:"韶关",value:38},{name:"嘉峪关",value:38},{name:"广州",value:38},{name:"延安",value:38},{name:"太原",value:39},{name:"清远",value:39},{name:"中山",value:39},{name:"昆明",value:39},{name:"寿光",value:40},{name:"盘锦",value:40},{name:"长治",value:41},{name:"深圳",value:41},{name:"珠海",value:42},{name:"宿迁",value:43},{name:"咸阳",value:43},{name:"铜川",value:44},{name:"平度",value:44},{name:"佛山",value:44},{name:"海口",value:44},{name:"江门",value:45},{name:"章丘",value:45},{name:"肇庆",value:46},{name:"大连",value:47},{name:"临汾",value:47},{name:"吴江",value:47},{name:"石嘴山",value:49},{name:"沈阳",value:50},{name:"苏州",value:50},{name:"茂名",value:50},{name:"嘉兴",value:51},{name:"长春",value:51},{name:"胶州",value:52},{name:"银川",value:52},{name:"张家港",value:52},{name:"三门峡",value:53},{name:"锦州",value:54},{name:"南昌",value:54},{name:"柳州",value:54},{name:"三亚",value:54},{name:"自贡",value:56},{name:"吉林",value:56},{name:"阳江",value:57},{name:"泸州",value:57},{name:"西宁",value:57},{name:"宜宾",value:58},{name:"呼和浩特",value:58},{name:"成都",value:58},{name:"大同",value:58},{name:"镇江",value:59},{name:"桂林",value:59},{name:"张家界",value:59},{name:"宜兴",value:59},{name:"北海",value:60},{name:"西安",value:61},{name:"金坛",value:62},{name:"东营",value:62},{name:"牡丹江",value:63},{name:"遵义",value:63},{name:"绍兴",value:63},{name:"扬州",value:64},{name:"常州",value:64},{name:"潍坊",value:65},{name:"重庆",value:66},{name:"台州",value:67},{name:"南京",value:67},{name:"滨州",value:70},{name:"贵阳",value:71},{name:"无锡",value:71},{name:"本溪",value:71},{name:"克拉玛依",value:72},{name:"渭南",value:72},{name:"马鞍山",value:72},{name:"宝鸡",value:72},{name:"焦作",value:75},{name:"句容",value:75},{name:"北京",value:79},{name:"徐州",value:79},{name:"衡水",value:80},{name:"包头",value:80},{name:"绵阳",value:80},{name:"乌鲁木齐",value:84},{name:"枣庄",value:84},{name:"杭州",value:84},{name:"淄博",value:85},{name:"鞍山",value:86},{name:"溧阳",value:86},{name:"库尔勒",value:86},{name:"安阳",value:90},{name:"开封",value:90},{name:"济南",value:92},{name:"德阳",value:93},{name:"温州",value:95},{name:"九江",value:96},{name:"邯郸",value:98},{name:"临安",value:99},{name:"兰州",value:99},{name:"沧州",value:100},{name:"临沂",value:103},{name:"南充",value:104},{name:"天津",value:105},{name:"富阳",value:106},{name:"泰安",value:112},{name:"诸暨",value:112},{name:"郑州",value:113},{name:"哈尔滨",value:114},{name:"聊城",value:116},{name:"芜湖",value:117},{name:"唐山",value:119},{name:"平顶山",value:119},{name:"邢台",value:119},{name:"德州",value:120},{name:"济宁",value:120},{name:"荆州",value:127},{name:"宜昌",value:130},{name:"义乌",value:132},{name:"丽水",value:133},{name:"洛阳",value:134},{name:"秦皇岛",value:136},{name:"株洲",value:143},{name:"石家庄",value:147},{name:"莱芜",value:148},{name:"常德",value:152},{name:"保定",value:153},{name:"湘潭",value:154},{name:"金华",value:157},{name:"岳阳",value:169},{name:"长沙",value:175},{name:"衢州",value:177},{name:"廊坊",value:193},{name:"菏泽",value:194},{name:"合肥",value:229},{name:"武汉",value:273},{name:"大庆",value:279}],i={"海门":[121.15,31.89],"鄂尔多斯":[109.781327,39.608266],"招远":[120.38,37.35],"舟山":[122.207216,29.985295],"齐齐哈尔":[123.97,47.33],"盐城":[120.13,33.38],"赤峰":[118.87,42.28],"青岛":[120.33,36.07],"乳山":[121.52,36.89],"金昌":[102.188043,38.520089],"泉州":[118.58,24.93],"莱西":[120.53,36.86],"日照":[119.46,35.42],"胶南":[119.97,35.88],"南通":[121.05,32.08],"拉萨":[91.11,29.97],"云浮":[112.02,22.93],"梅州":[116.1,24.55],"文登":[122.05,37.2],"上海":[121.48,31.22],"攀枝花":[101.718637,26.582347],"威海":[122.1,37.5],"承德":[117.93,40.97],"厦门":[118.1,24.46],"汕尾":[115.375279,22.786211],"潮州":[116.63,23.68],"丹东":[124.37,40.13],"太仓":[121.1,31.45],"曲靖":[103.79,25.51],"烟台":[121.39,37.52],"福州":[119.3,26.08],"瓦房店":[121.979603,39.627114],"即墨":[120.45,36.38],"抚顺":[123.97,41.97],"玉溪":[102.52,24.35],"张家口":[114.87,40.82],"阳泉":[113.57,37.85],"莱州":[119.942327,37.177017],"湖州":[120.1,30.86],"汕头":[116.69,23.39],"昆山":[120.95,31.39],"宁波":[121.56,29.86],"湛江":[110.359377,21.270708],"揭阳":[116.35,23.55],"荣成":[122.41,37.16],"连云港":[119.16,34.59],"葫芦岛":[120.836932,40.711052],"常熟":[120.74,31.64],"东莞":[113.75,23.04],"河源":[114.68,23.73],"淮安":[119.15,33.5],"泰州":[119.9,32.49],"南宁":[108.33,22.84],"营口":[122.18,40.65],"惠州":[114.4,23.09],"江阴":[120.26,31.91],"蓬莱":[120.75,37.8],"韶关":[113.62,24.84],"嘉峪关":[98.289152,39.77313],"广州":[113.23,23.16],"延安":[109.47,36.6],"太原":[112.53,37.87],"清远":[113.01,23.7],"中山":[113.38,22.52],"昆明":[102.73,25.04],"寿光":[118.73,36.86],"盘锦":[122.070714,41.119997],"长治":[113.08,36.18],"深圳":[114.07,22.62],"珠海":[113.52,22.3],"宿迁":[118.3,33.96],"咸阳":[108.72,34.36],"铜川":[109.11,35.09],"平度":[119.97,36.77],"佛山":[113.11,23.05],"海口":[110.35,20.02],"江门":[113.06,22.61],"章丘":[117.53,36.72],"肇庆":[112.44,23.05],"大连":[121.62,38.92],"临汾":[111.5,36.08],"吴江":[120.63,31.16],"石嘴山":[106.39,39.04],"沈阳":[123.38,41.8],"苏州":[120.62,31.32],"茂名":[110.88,21.68],"嘉兴":[120.76,30.77],"长春":[125.35,43.88],"胶州":[120.03336,36.264622],"银川":[106.27,38.47],"张家港":[120.555821,31.875428],"三门峡":[111.19,34.76],"锦州":[121.15,41.13],"南昌":[115.89,28.68],"柳州":[109.4,24.33],"三亚":[109.511909,18.252847],"自贡":[104.778442,29.33903],"吉林":[126.57,43.87],"阳江":[111.95,21.85],"泸州":[105.39,28.91],"西宁":[101.74,36.56],"宜宾":[104.56,29.77],"呼和浩特":[111.65,40.82],"成都":[104.06,30.67],"大同":[113.3,40.12],"镇江":[119.44,32.2],"桂林":[110.28,25.29],"张家界":[110.479191,29.117096],"宜兴":[119.82,31.36],"北海":[109.12,21.49],"西安":[108.95,34.27],"金坛":[119.56,31.74],"东营":[118.49,37.46],"牡丹江":[129.58,44.6],"遵义":[106.9,27.7],"绍兴":[120.58,30.01],"扬州":[119.42,32.39],"常州":[119.95,31.79],"潍坊":[119.1,36.62],"重庆":[106.54,29.59],"台州":[121.420757,28.656386],"南京":[118.78,32.04],"滨州":[118.03,37.36],"贵阳":[106.71,26.57],"无锡":[120.29,31.59],"本溪":[123.73,41.3],"克拉玛依":[84.77,45.59],"渭南":[109.5,34.52],"马鞍山":[118.48,31.56],"宝鸡":[107.15,34.38],"焦作":[113.21,35.24],"句容":[119.16,31.95],"北京":[116.46,39.92],"徐州":[117.2,34.26],"衡水":[115.72,37.72],"包头":[110,40.58],"绵阳":[104.73,31.48],"乌鲁木齐":[87.68,43.77],"枣庄":[117.57,34.86],"杭州":[120.19,30.26],"淄博":[118.05,36.78],"鞍山":[122.85,41.12],"溧阳":[119.48,31.43],"库尔勒":[86.06,41.68],"安阳":[114.35,36.1],"开封":[114.35,34.79],"济南":[117,36.65],"德阳":[104.37,31.13],"温州":[120.65,28.01],"九江":[115.97,29.71],"邯郸":[114.47,36.6],"临安":[119.72,30.23],"兰州":[103.73,36.03],"沧州":[116.83,38.33],"临沂":[118.35,35.05],"南充":[106.110698,30.837793],"天津":[117.2,39.13],"富阳":[119.95,30.07],"泰安":[117.13,36.18],"诸暨":[120.23,29.71],"郑州":[113.65,34.76],"哈尔滨":[126.63,45.75],"聊城":[115.97,36.45],"芜湖":[118.38,31.33],"唐山":[118.02,39.63],"平顶山":[113.29,33.75],"邢台":[114.48,37.05],"德州":[116.29,37.45],"济宁":[116.59,35.38],"荆州":[112.239741,30.335165],"宜昌":[111.3,30.7],"义乌":[120.06,29.32],"丽水":[119.92,28.45],"洛阳":[112.44,34.7],"秦皇岛":[119.57,39.95],"株洲":[113.16,27.83],"石家庄":[114.48,38.03],"莱芜":[117.67,36.19],"常德":[111.69,29.05],"保定":[115.48,38.85],"湘潭":[112.91,27.87],"金华":[119.64,29.12],"岳阳":[113.09,29.37],"长沙":[113,28.21],"衢州":[118.88,28.97],"廊坊":[116.7,39.53],"菏泽":[115.480656,35.23375],"合肥":[117.27,31.86],"武汉":[114.31,30.52],"大庆":[125.03,46.58]},l=function(t){for(var e=[],a=0;a<t.length;a++){var l=i[t[a].name];l&&e.push({name:t[a].name,value:l.concat(t[a].value)})}return e},o={title:{text:"全国主要城市空气质量 - 百度地图",subtext:"data from PM25.in",sublink:"http://www.pm25.in",left:"center"},tooltip:{trigger:"item"},bmap:{center:[104.114129,37.550339],zoom:5,roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"land",elementType:"all",stylers:{color:"#f3f3f3"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"all",stylers:{color:"#fdfdfd"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{color:"#fefefe"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#fefefe"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"local",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off"}},{featureType:"boundary",elementType:"all",stylers:{color:"#fefefe"}},{featureType:"building",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"label",elementType:"labels.text.fill",stylers:{color:"#999999"}}]}},series:[{name:"pm2.5",type:"scatter",coordinateSystem:"bmap",data:l(a),symbolSize:function(t){return t[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"purple"}}},{name:"Top 5",type:"effectScatter",coordinateSystem:"bmap",data:l(a.sort(function(t,e){return e.value-t.value}).slice(0,6)),symbolSize:function(t){return t[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"purple",shadowBlur:10,shadowColor:"#333"}},zlevel:1}]};e.setOption(o)}},yt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{style:{height:this.getHeight+"px",width:this.getWidth+"px"},attrs:{id:"echarts"}})])},staticRenderFns:[]};var _t=a("VU/8")(bt,yt,!1,function(t){a("E9qc")},"data-v-d39f23a4",null).exports,xt=a("mvRO"),wt=a("enL2"),Ct=a("0y4O"),Dt=a("UwjZ"),kt={components:{imageExport:K.a},props:["dataId","plotlydivId","type","compareId","compareType","compareName","compareLayout","bindXValue","bindYValue"],data:function(){return{imageFlag:!1,mapconfig:o.a,selectedColor:"",switchOpeConFlag:"展开",comparelayout:this.compareLayout,match_data:!1,compareDataId1:"",compareDataId2:"",changeDataSource:!1,xmin:[],xmax:[],ymin:[],ymax:[],plot_data:[{z:[],x:[],y:[],zmin:0,zmax:0,type:"contour",zsmooth:"best",hoverinfo:"none",colorscale:"",contours:{coloring:"contour",showlabels:!0,start:"",end:"",size:""},showscale:!0,colorbar:{x:.47,y:.5,len:1}},{z:[],x:[],y:[],zmin:0,zmax:0,type:"contour",zsmooth:"best",hoverinfo:"none",colorscale:"",contours:{coloring:"contour",showlabels:!0,start:"",end:"",size:""},showscale:!0,colorbar:{y:.5,len:1},xaxis:"x2",yaxis:"y2"}],layout:{title:"",height:this.getHeight(),width:this.getWidth(),margin:{t:50,b:70,l:88,r:28},xaxis:{domain:[0,.45],title:"数据一",showline:!0,zeroline:!1,mirror:"allticks",ticks:Q.a.state.ticks,exponentformat:"none",matches:"x"},xaxis2:{domain:[.55,1],title:"数据二",showline:!0,zeroline:!1,mirror:"allticks",ticks:Q.a.state.ticks,exponentformat:"none",anchor:"y2"},yaxis:{domain:[0,.45],title:"Y",showline:!0,zeroline:!1,mirror:"allticks",ticks:Q.a.state.ticks,exponentformat:"none",autorange:"false",scaleanchor:"x",matches:"y"},yaxis2:{domain:[.55,1],title:"Y",anchor:"x2",showline:!0,zeroline:!1,mirror:"allticks",expoents:"none",ticks:Q.a.state.ticks,exponentformat:"none",autorange:"false",scaleanchor:"x2"},annotations:[{showarrow:!1,text:"",x:0,y:0,xref:"paper",yref:"paper"}]},plotlydiv:null,isColorTableVisible:!1,minValue:0,minlist:[0,0],maxValue:0,maxlist:[0,0],slider_data:[15,15],colourLevelModel:"Jet",colorModellist:["Jet","Jet"],colourLevel:[{value:"Jet",img:a("aMwd")},{value:"Rainbow",img:a("ogvo")},{value:"Rainbow2",img:a("vk2z")},{value:"Terrain",img:a("iRWg")},{value:"Grayscale",img:a("R9GL")},{value:"Gravity",img:a("roq9")}],colorArr:[{name:"Rainbow",color:["#9966FF","#0000FF","#00FF00","#FFFF00","#FF6600","#FF0000"],scale:[0,.2,.4,.6,.8,1]},{name:"Terrain",color:["#C8D785","#ABD9B1","#7CC478","#75C178","#AFCCA6","#DBD04E","#F1CF0E","#F2A700","#C09F0D","#D3C070","#F0DBA1","#FCECC0","#F8FAEA","#E5FEFA","#DBFFFD","#D6FBFC","#B7F4F7","#73E0F1","#1DBCEF","#0089F5","#0050FA"],scale:[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1]},{name:"Rainbow2",color:["#000000","#0000FF","#00FFFF","#009900","#FFFF00","#FF0000","#FFFFFF","#FFFFFF"],scale:[0,.11,.26,.49,.59,.8,.96,1]},{name:"Grayscale",color:["#000000","#FFFFFF"],scale:[0,1]},{name:"Jet",color:["#0001FF","#0060FF","#00BEFF","#00F8EC","#19A300","#A7DB00","#FFE600","#FFA200","#FF5F00","#FF9090","#FF1B00"],scale:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]},{name:"Gravity",color:["#FF00FF","#9900CC","#00FFFF","#00FF00","#FFFF00","#FF0000","#FFFFFF"],scale:[0,.15,.35,.55,.64,.78,1]}],Rainbow:["#0001FF","#0060FF","#00BEFF","#00F8EC","#19A300","#A7DB00","#FFE600","#FFA200","#FF5F00","#FF9090","#FF1B00"],RainbowNumber:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],colorArrNow:[],colorScaleNow:[],radio:0,DrawingType:"contour",dataSource:"",dataArray:[],comparedatalist:[],comparename:"",xyOption:[],selectX:"",selectY:"",fileName:"",bindselectflag:!1}},computed:{radioArry:function(){return[{value:0,lable:window.vm.$i18n.t("compareMap.leftTop")},{value:1,lable:window.vm.$i18n.t("compareMap.rightDown")}]},DrawingTypeArry:function(){return[{value:"diagram",label:window.vm.$i18n.t("compareMap.diagram")},{value:"contour",label:window.vm.$i18n.t("compareMap.contour")},{value:"heatmap",label:window.vm.$i18n.t("compareMap.heatmap")}]},layoutall:function(){return[{value:"2_1",label:window.vm.$i18n.t("compareMap.leftRight")},{value:"2_2",label:window.vm.$i18n.t("compareMap.topBottom")}]}},methods:{selectdrawtype:function(t){this.setbindselectflag(t)},selectTag:function(t){if(this.radio=t,this.DrawingType=this.compareType[this.radio],this.dataSource=this.compareId[this.radio],this.minValue=this.minlist[this.radio],this.maxValue=this.maxlist[this.radio],this.colorLevelModel=this.colorModellist[this.radio],this.setbindselectflag(this.compareType[this.radio]),this.setDrawTypedata(this.comparedatalist[t].displayName),this.bindselectflag)for(var e in this.selectX=this.comparedatalist[t].bindX,this.selectY=this.comparedatalist[t].bindY,this.xyOption=[],this.comparedatalist[t].data[0])this.xyOption.push(e)},selectfile:function(t){var e=this.dataSource,a=this;a.xyOption=[],n.a.getJsonFromDatabase(e,function(t){if(t&&("xls"==t.datatype||"xlsx"==t.datatype))for(var e in a.selectX=t.bindX,a.selectY=t.bindY,t.data[0])a.xyOption.push(e)}),this.compareLayout=this.comparelayout;var i=this.dataArray.find(function(e){return e.value===t});this.fileName=i.label,this.comparename=i.label.substr(0,i.label.lastIndexOf(".")),this.setDrawTypedata(this.fileName),this.DrawingType=this.DrawingTypeArry[0].value,this.setbindselectflag(this.DrawingType)},setbindselectflag:function(t){this.bindselectflag=["diagram"].includes(t)},setDrawTypedata:function(t){t.indexOf("xlsx")>-1||t.indexOf("xls")>-1?this.DrawingTypeArry=Q.a.state.CompareDataForType.xls:this.DrawingTypeArry=Q.a.state.CompareDataForType.grd},switchOpeStatus:function(){"展开"==this.switchOpeConFlag?(this.$refs.opeConRef.style.width="0",this.$refs.opeConRef.style.overflow="hidden",this.switchOpeConFlag="隐藏"):"隐藏"==this.switchOpeConFlag&&(this.$refs.opeConRef.style.width="unset",this.$refs.opeConRef.style.overflow="unset",this.switchOpeConFlag="展开")},match_change:function(t){var e=void 0;e=1==t?{"xaxis.matches":"x2","yaxis.matches":"y2"}:{"xaxis.matches":"x","yaxis.matches":"y"},this.$Plotly.relayout(this.plotlydiv,e)},getWidth:function(){return window.innerWidth-280},getHeight:function(){return window.innerHeight-200},changeLayout:function(t){var e=void 0,a=void 0,i=void 0;if("2_1"==t){var l=.225,o=.225,n=.5,s=.5,r=(this.xmax[0]-this.xmin[0])/(this.ymax[0]-this.ymin[0]),c=(this.xmax[1]-this.xmin[1])/(this.ymax[1]-this.ymin[1]);r<1?l=.225*r:n=.98/r*.5,c<1?o=.225*c:s=1/c*.5,"diagram"==this.compareType[0]&&(n=s,l=.21,this.layout.yaxis.scaleanchor=""),"diagram"==this.compareType[1]&&(s=n,o=.21,this.layout.yaxis2.scaleanchor=""),"diagram"==this.compareType[0]&&"diagram"==this.compareType[1]&&(n=.5,l=.21,s=.5,o=.21,this.layout.yaxis.scaleanchor="",this.layout.yaxis2.scaleanchor=""),e={"xaxis.domain":[.225-l,.225+l],"xaxis2.domain":[.775-o,.775+o],"yaxis.domain":[.5-n,.5+n],"yaxis2.domain":[.5-s,.5+s]},a={"colorbar.x":.46,"colorbar.y":.5,"colorbar.len":2*n},i={"colorbar.y":.5,"colorbar.len":2*s}}else if("2_2"==t){var d=.5,u=.5,p=.225,h=.225,m=(this.xmax[0]-this.xmin[0])/(this.ymax[0]-this.ymin[0]),g=(this.xmax[1]-this.xmin[1])/(this.ymax[1]-this.ymin[1]);m<4.9382717?d=m/4.9382717/2:p=4.9382717/m*.225,g<4.9382717?u=g/4.9382717/2:h=4.9382717/g*.225,"diagram"==this.compareType[0]&&(p=.21,d=.5,this.layout.yaxis.scaleanchor=""),"diagram"==this.compareType[1]&&(h=.21,u=.5,this.layout.yaxis2.scaleanchor=""),e={"xaxis.domain":[.5-d,.5+d],"xaxis2.domain":[.5-u,.5+u],"yaxis.domain":[.775-p,.775+p],"yaxis2.domain":[.225-h,.225+h]},a={"colorbar.x":1.02,"colorbar.y":.775,"colorbar.len":2*p},i={"colorbar.y":.225,"colorbar.len":2*h}}var f={};this.$Plotly.relayout(this.plotlydiv,e),this.$Plotly.update(this.plotlydiv,a,f,0),this.$Plotly.update(this.plotlydiv,i,f,1)},getDataSource:function(){var t=this;this.dataArray=[],t.mapconfig.treeWorkSpace[0].children[0].children.forEach(function(e,a){t.dataArray.push({label:e.label,value:e.guid})}),t.mapconfig.treeWorkSpace[0].children[1].children.forEach(function(e,a){t.dataArray.push({label:e.label,value:e.guid})})},initPage:function(){n.a.getAllJsonFromDatabase(this.initCompareMap)},initCompareMap:function(t){var e=this;this.colorArrNow=this.Rainbow,this.colorScaleNow=this.RainbowNumber;for(var a=function(a){for(var i=0;i<t.length;i++)if(e.compareId[a]==t[i].guid){e.comparedatalist.push(t[i]),t[i].grdData?(e.plot_data[a].x=t[i].grdData.x,e.plot_data[a].y=t[i].grdData.y,e.plot_data[a].z=t[i].grdData.z,e.minlist[a]=parseFloat(t[i].grdData.zmin).toFixed(2),e.maxlist[a]=parseFloat(t[i].grdData.zmax).toFixed(2),e.xmin[a]=void 0===t[i].grdData.xmin?Math.min.apply(Math,t[i].grdData.x):t[i].grdData.xmin,e.xmax[a]=void 0===t[i].grdData.xmax?Math.max.apply(Math,t[i].grdData.x):t[i].grdData.xmax,e.ymin[a]=void 0===t[i].grdData.ymin?Math.min.apply(Math,t[i].grdData.y):t[i].grdData.ymin,e.ymax[a]=void 0===t[i].grdData.ymax?Math.max.apply(Math,t[i].grdData.y):t[i].grdData.ymax,e.initColorTable(t[i].grdData,a)):function(){var l=e.bindXValue,o=e.bindYValue;e.plot_data[a].x=t[i].data.map(function(t){return t[l[a]]}),e.plot_data[a].y=t[i].data.map(function(t){return t[o[a]]}),e.xmin[a]=Math.min.apply(Math,t[i].data.map(function(t){return t[l[a]]})),e.xmax[a]=Math.max.apply(Math,t[i].data.map(function(t){return t[l[a]]})),e.ymin[a]=Math.min.apply(Math,t[i].data.map(function(t){return t[o[a]]})),e.ymax[a]=Math.max.apply(Math,t[i].data.map(function(t){return t[o[a]]}))}();break}},i=0;i<this.compareId.length;i++)a(i);for(i=0;i<this.compareType.length;i++)this.plot_data[i].type=this.compareType[i];this.dataSource=this.compareId[this.radio],this.layout.xaxis.title=this.compareName[0],this.layout.xaxis2.title=this.compareName[1],this.plotlydiv=document.getElementById(this.plotlydivId),this.$Plotly.newPlot(this.plotlydiv,this.plot_data,this.layout,{displaylogo:!1}),this.changeLayout(this.compareLayout),this.compareDataId1=this.compareId[0],this.compareDataId2=this.compareId[1]},openColorTable:function(){this.getDataSource(),this.isColorTableVisible=!0,this.selectTag(0)},initColorTable:function(t,e){this.plot_data[e].contours.start=parseFloat(t.zmin).toFixed(2),this.plot_data[e].contours.end=parseFloat(t.zmax).toFixed(2),this.plot_data[e].contours.size=(this.plot_data[e].contours.end-this.plot_data[e].contours.start)/this.slider_data[e],this.plot_data[e].zmin=t.zmin,this.plot_data[e].zmax=t.zmax;for(var a=[],i=[],l=(t.zmax-t.zmin)/this.slider_data[e],o=0;o<=this.slider_data[e];o++){var n=(o*l+t.zmin).toFixed(2);i.push(n)}function s(t){if("#"==t.charAt(0))return t;var e=t.split(/\D+/);return"#"+function(t,e){for(var a=t.toString(16);a.length<e;)a="0"+a;return a}(65536*Number(e[1])+256*Number(e[2])+Number(e[3]),6)}for(var r=0;r<i.length;r++)for(var c=r/(i.length-1),d=0;d<this.colorScaleNow.length;d++)if(!(c>this.colorScaleNow[d])){if(c==this.colorScaleNow[d]){a.push([c,this.colorArrNow[d]]);break}var u=(c-this.colorScaleNow[d-1])/(this.colorScaleNow[d]-this.colorScaleNow[d-1]),p=Dt.a.gradientColor(s(this.colorArrNow[d-1]),s(this.colorArrNow[d]),u);a.push([c,p[0]]);break}this.plot_data[e].colorscale=a},applyCustomColor:function(){if(parseFloat(this.minValue)<parseFloat(this.min)||parseFloat(this.maxValue)>parseFloat(this.max))this.$message({type:"warning",message:window.vm.$i18n.t("compareMap.outLimit")+window.vm.$i18n.t("compareMap.min")+parseFloat(this.min).toFixed(2)+window.vm.$i18n.t("compareMap.max")+parseFloat(this.max).toFixed(2)});else if(this.compareId[this.radio]=this.dataSource,this.compareDataId1!=this.compareId[0]||this.compareDataId2!=this.compareId[1])this.compareName[this.radio]=this.comparename,this.bindXValue[this.radio]=this.selectX,this.bindYValue[this.radio]=this.selectY,this.compareType[this.radio]=this.DrawingType,this.initPage();else{var t=parseFloat(this.minValue),e=parseFloat(this.maxValue);this.minlist[this.radio]=t,this.maxlist[this.radio]=e,this.plot_data[this.radio].contours.start=t,this.plot_data[this.radio].contours.end=e,this.plot_data[this.radio].contours.size=(this.plot_data[this.radio].contours.end-this.plot_data[this.radio].contours.start)/this.slider_data[this.radio],this.plot_data[this.radio].zmin=t,this.plot_data[this.radio].zmax=e;var a={zmin:t,zmax:e};this.initColorTable(a,this.radio),this.plot_data[this.radio].type=this.DrawingType,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)}},changeColorLevel:function(t){for(var e=0;e<this.colorArr.length;e++)if(this.colorArr[e].name==t){this.colorArrNow=this.colorArr[e].color,this.colorScaleNow=this.colorArr[e].scale;break}this.colorModellist[this.radio]=t;var a={zmin:parseFloat(this.minValue),zmax:parseFloat(this.maxValue)};this.initColorTable(a,this.radio)},slider_change:function(){var t={zmin:parseFloat(this.minValue),zmax:parseFloat(this.maxValue)};this.initColorTable(t,this.radio)},showModal:function(){this.imageFlag=!0},closeModal:function(t){this.imageFlag=t},initColorScales:function(){for(var t=this.$store.state.Global.colorscales,e=0;e<t.length;e++){for(var a={value:t[e].name,img:t[e].img},i={name:t[e].name,color:[],scale:[]},l=0;l<t[e].value.length;l++)i.scale.push(t[e].value[l][0]),i.color.push(t[e].value[l][1]);this.colorArr.push(i),this.colourLevel.push(a)}}},mounted:function(){this.initColorScales(),this.initPage()}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerOpeBanner",staticStyle:{margin:"5px 0 0 12px"}},[a("el-button",{staticClass:"switchContainer",staticStyle:{padding:"5px 10px"},attrs:{plain:"",size:"mini",title:"菜单 展开/收缩"},on:{click:t.switchOpeStatus}},[a("i",{staticClass:"el-icon-arrow-left",class:{transition:"展开"!=this.switchOpeConFlag}})]),t._v(" "),a("div",{ref:"opeConRef",staticClass:"operationContainerWrap"},[a("div",{staticClass:"counterMenuGroup operationContainer",style:{width:.7*this.getWidth()+"px"}},[a("el-button",{staticClass:"menubutton",staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.openColorTable}},[t._v("\n          "+t._s(t.$t("compareMap.argSet.title"))+"\n        ")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.showModal}},[t._v("\n          "+t._s(t.$t("compareMap.exportImage"))+"\n        ")]),t._v("\n        "+t._s(t.$t("compareMap.layoutType"))+"\n        "),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small"},on:{change:t.changeLayout},model:{value:t.comparelayout,callback:function(e){t.comparelayout=e},expression:"comparelayout"}},t._l(t.layoutall,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),-1==t.compareType.indexOf("diagram")?a("div",{staticStyle:{display:"inline"}},[a("el-divider",{attrs:{direction:"vertical"}}),t._v("\n          "+t._s(t.$t("compareMap.linkage"))+"\n          "),a("i-switch",{on:{"on-change":t.match_change},model:{value:t.match_data,callback:function(e){t.match_data=e},expression:"match_data"}})],1):t._e()],1)])],1),t._v(" "),a("imageExport",{attrs:{imageConfigShow:t.imageFlag,plotlyDiv:t.plotlydiv},on:{closeModal:t.closeModal}}),t._v(" "),a("Modal",{attrs:{draggable:"",cancelText:t.$t("button.cancel"),okText:t.$t("button.ok"),title:t.$t("compareMap.argSet.title"),width:"420"},on:{"on-ok":t.applyCustomColor},model:{value:t.isColorTableVisible,callback:function(e){t.isColorTableVisible=e},expression:"isColorTableVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("compareMap.argSet.object")))])],1),t._v(" "),a("Col",[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.selectTag},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.radioArry,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.lable))])}),1)],1)],1),t._v(" "),a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("compareMap.argSet.sourceFile")))])],1),t._v(" "),a("Col",[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.selectfile},model:{value:t.dataSource,callback:function(e){t.dataSource=e},expression:"dataSource"}},t._l(t.dataArray,function(t){return a("Option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1)],1),t._v(" "),a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("compareMap.argSet.mapType")))])],1),t._v(" "),a("Col",[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.selectdrawtype},model:{value:t.DrawingType,callback:function(e){t.DrawingType=e},expression:"DrawingType"}},t._l(t.DrawingTypeArry,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label))])}),1)],1)],1),t._v(" "),a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[t.bindselectflag?a("div",[a("Row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("Col",{attrs:{span:8}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("compareMap.argSet.setX")))])],1),t._v(" "),a("Col",{attrs:{span:5}},[a("Select",{model:{value:t.selectX,callback:function(e){t.selectX=e},expression:"selectX"}},t._l(t.xyOption,function(t){return a("Option",{key:t,attrs:{label:t,value:t}})}),1)],1)],1),t._v(" "),a("Row",{attrs:{gutter:5,type:"flex"}},[a("Col",{attrs:{span:8}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("compareMap.argSet.setY")))])],1),t._v(" "),a("Col",{attrs:{span:5}},[a("Select",{model:{value:t.selectY,callback:function(e){t.selectY=e},expression:"selectY"}},t._l(t.xyOption,function(t){return a("Option",{key:t,attrs:{label:t,value:t}})}),1)],1)],1)],1):a("div",[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("compareMap.argSet.reference")))])],1),t._v(" "),a("Col",[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.changeColorLevel},model:{value:t.colourLevelModel,callback:function(e){t.colourLevelModel=e},expression:"colourLevelModel"}},t._l(t.colourLevel,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[a("img",{staticStyle:{width:"100px",height:"14px"},attrs:{src:e.img}}),t._v(t._s(e.value)+"\n            ")])}),1)],1)],1)]),t._v(" "),t.bindselectflag?t._e():a("div",[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"5"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("compareMap.argSet.min")))])],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Input",{attrs:{number:!0},model:{value:t.minValue,callback:function(e){t.minValue=e},expression:"minValue"}})],1),t._v(" "),a("Col",{attrs:{span:"5"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px","margin-left":"5px"}},[t._v(t._s(t.$t("compareMap.argSet.max")))])],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Input",{attrs:{number:!0},model:{value:t.maxValue,callback:function(e){t.maxValue=e},expression:"maxValue"}})],1)],1),t._v(" "),a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("compareMap.argSet.colorNum")))])],1),t._v(" "),a("Col",[a("Slider",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"middle"},attrs:{min:10,max:20},on:{"on-input":t.slider_change},model:{value:t.slider_data[t.radio],callback:function(e){t.$set(t.slider_data,t.radio,e)},expression:"slider_data[radio]"}})],1)],1)],1)],1),t._v(" "),a("Content",[a("div",{staticStyle:{width:"1640px",height:"776px"},attrs:{id:t.plotlydivId}})])],1)},staticRenderFns:[]};var St=a("VU/8")(kt,$t,!1,function(t){a("mbSe")},"data-v-a99b442e",null).exports,Ft={components:{imageExport:K.a},props:["dataId","plotlydivId","type","flagType"],data:function(){return{xmin:0,ymin:0,xmax:0,ymax:0,lineWidth:.5,contourLineFlag:!0,showlabels:!0,datainterval:[],defaultColor:["#7900FF","#0001FF","#0033FF","#0064FF","#0096FF","#00C4FD","#00E2F3","#03EAC6","#11BD4A","#36AE00","#81CC00","#BEDD00","#ECE300","#FFD000","#FFAC00","#FF8900","#FF6600","#FF6F30","#FF8A7F","#FF5C50","#FF1B00"],imageFlag:!1,max:0,min:0,figure:{title:"专题图名称",xtitle:"Distance/（m）",y1title:"Distance/（m）"},showFlag:!0,Accept:".grd",colourLevelModel:"Jet",map2d:"",switch_data:!0,hover_data:!1,slider_data:15,switch_coutourLines:!0,colorData:[],valueForColor:0,reviseValueForColor:0,customColor:"#19be6b",reviseCustomColor:"#19be6b",grdData:null,dataAll:null,isColourLevelSettingsVisible:!1,isColorTableVisible:!1,isReviseColorTableVisible:!1,isFigureVisible:!1,colorTableToProject:[],switchOpeConFlag:"展开",contourLineSetting:!0,plotlydiv:null,z_ScaleValue:[],z_ScaleColor:[],colorDataProject:[],reviseColorTableIndex:null,minValue:0,maxValue:0,initColorTableFlag:!0,changeSortFlag:!0,minIndex:0,latestIndex:0,canvasWidth:1200,canvasHeight:600,myCanvas:null,ctx:null,ctxScoll:null,imgX:0,imgY:60,MINIMUM_SCALE:.5,imgScale:1,loadImgObj:null,img:null,flag:!1,pos:{},posl:{}}},methods:{drawImage:function(){var t=this;t.img=new Image,t.img.src=this.myCanvas.toDataURL("image/png"),t.img.onload=function(){t.ctx.clearRect(0,0,2*t.canvasWidth,2*t.canvasHeight),t.ctx.drawImage(t.img,0,0,t.canvasWidth,t.canvasHeight,t.imgX,t.imgY,t.myCanvas.width*t.imgScale,t.myCanvas.height*t.imgScale)}},canvasEventsInit:function(){var t=this;this.myCanvas.onmousedown=function(e){t.flag=!0,t.pos=t.windowToCanvas(e.clientX,e.clientY)},this.myCanvas.onmousemove=function(e){if(t.flag){t.posl=t.windowToCanvas(e.clientX,e.clientY);var a=t.posl.x-t.pos.x,i=t.posl.y-t.pos.y;t.imgX+=a,t.imgY+=i,t.pos=JSON.parse(r()(t.posl)),t.drawImage()}},this.myCanvas.onmouseup=function(){t.flag=!1},this.myCanvas.onmousewheel=this.myCanvas.onwheel=function(e){var a=t.windowToCanvas(e.clientX,e.clientY),i=((a.x-t.imgX)/t.imgScale).toFixed(2),l=((a.y-t.imgY)/t.imgScale).toFixed(2);console.log(e.wheelDelta),e.wheelDelta>0?(t.imgScale+=.05,t.imgX=(1-t.imgScale)*i+(a.x-i),t.imgY=(1-t.imgScale)*l+(a.y-l)):(t.imgScale-=.05,t.imgScale<t.MINIMUM_SCALE&&(t.imgScale=t.MINIMUM_SCALE),t.imgX=(1-t.imgScale)*i+(a.x-i),t.imgY=(1-t.imgScale)*l+(a.y-l)),t.drawImage()}},windowToCanvas:function(t,e){var a=this.myCanvas.getBoundingClientRect();return{x:t-a.left-a.width/2,y:e-a.top-a.height/2}},getDistance:function(t,e){var a=e.pageX-t.pageX,i=e.pageY-t.pageY;return Math.sqrt(a*a+i*i)},drawImageData:function(t){var e=this.myCanvas;e.style.position="absolute",e.width=this.canvasWidth,e.height=this.canvasHeight;e.style.marginLeft="150px",console.log(e.width+"   "+e.height);var a=e.getContext("2d"),i=this.xmin,l=this.xmax,o=this.ymin,n=this.ymax,s=e.width/(l-i),r=e.height/(n-o),c=(n-o)/(l-i)<.5?s:r,d=[];a.scale(c,c),e.style.marginTop=(e.height-(n-o)*c)/2+80+"px";for(var u=0;u<t.features.length;u++){var p=t.features[u].geometry.coordinates[0],h=(t.features[u].properties.hvalue,t.features[u].properties.lvalue+"");a.beginPath(),a.moveTo(p[0][0]-this.xmin,this.ymax-p[0][1]);for(var m=1;m<p.length;m++)a.lineTo(p[m][0]-this.xmin,this.ymax-p[m][1]);var g=this.datainterval.indexOf(h);a.fillStyle=this.defaultColor[g+2],a.lineWidth=this.lineWidth/c,this.contourLineFlag&&a.stroke(),a.fill(),a.beginPath(),a.fillStyle="black",a.font=10/c+"px  serif",a.textBaseline="hanging",a.textAlign="center";for(var f=0;f<d.length;f++){d[f].lvalue==h&&!0}for(var v=0;v<d.length;v++){var b=d[v];(Math.abs(b.x-(10+p[0][0]-this.xmin))<2*c||Math.abs(b.y-(10+this.ymax-p[0][1]))<2*c||10+p[0][0]-this.xmin>this.xmax-this.xmin||10+this.ymax-p[0][1]>this.ymax-this.ymin)&&!0}var y={lvalue:h,x:10+p[0][0]-this.xmin,y:10+this.ymax-p[0][1]};d.push(y),this.showlabels&&(this.sortArray(p),a.fillText(h,10+p[this.latestIndex][0]-this.xmin,10+this.ymax-p[this.latestIndex][1]))}var _=document.getElementById("canvas2"),x=_.getContext("2d");_.style.position="absolute";_.width=1360,_.height=640,_.style.marginLeft="120px",_.style.marginTop=(e.height-(n-o)*c)/2+80+"px",x.beginPath(),x.font="20px  serif",x.textBaseline="middle",x.fillText("y",0,(n-o)*c/2),x.beginPath(),x.textBaseline="top",x.fillText("x",(l-i)*c/2+30,(n-o)*c+10),x.beginPath(),x.lineWidth=.5;for(var w=(this.ymax-this.ymin)*c/21,C=0;C<=20;C++)0==C?(x.strokeRect((this.xmax-this.xmin)*c+80+10,w*(C+.5),25,w/2),x.fillStyle=this.defaultColor[20-C],x.fillRect((this.xmax-this.xmin)*c+80+10,w*(C+.5),25,w/2)):20==C?(x.strokeRect((this.xmax-this.xmin)*c+80+10,w*C,25,w/2),x.fillStyle=this.defaultColor[20-C],x.fillRect((this.xmax-this.xmin)*c+80+10,w*C,25,w/2)):(x.strokeRect((this.xmax-this.xmin)*c+80+10,w*C,25,w),x.fillStyle=this.defaultColor[20-C],x.fillRect((this.xmax-this.xmin)*c+80+10,w*C,25,w)),x.fillStyle="black",x.textBaseline="middle",x.font="10px  serif",20!=C&&C%2==1&&x.fillText(this.datainterval[20-C],(this.xmax-this.xmin)*c+80+10+25,w*C+w);for(var D=1,k=1,$=0;$<6;$++)(l-i)/Math.pow(10,$)>=1&&(l-i)/Math.pow(10,$)<10&&(D=Math.pow(10,$));for(var S=0;S<6;S++)(n-o)/Math.pow(10,S)>=1&&(n-o)/Math.pow(10,S)<10&&(k=Math.pow(10,S));var F=(l-i)/5-(l-i)/5%10,T=(n-o)/5-(n-o)/5%5;console.log(l+"   "+i),console.log(n+"   "+o),console.log(F+"   "+T),console.log(D+"   "+k);for(var M=1;M<6;M++)x.beginPath(),x.lineWidth=.7,x.moveTo(30+M*F*c,(n-o)*c),x.lineTo(30+M*F*c,(n-o)*c+5),x.stroke(),x.beginPath(),x.fillStyle="black",x.textBaseline="top",x.font="10px  serif",x.fillText(i+M*F-(i+M*F)%10+"",30+M*F*c,(n-o)*c+7),x.beginPath(),x.lineWidth=.7,x.moveTo(30,(n-o)*c-M*T*c),x.lineTo(25,(n-o)*c-M*T*c),x.stroke(),x.beginPath(),x.fillStyle="black",x.textBaseline="middle",x.font="10px  serif",x.fillText(o+M*T-(o+M*T)%10+"",10,(n-o)*c-M*T*c);this.canvasEventsInit()},drawLine:function(t,e,a,i,l){t.moveTo(e,a),t.lineTo(i,l),t.stroke()},sortArray:function(t){var e=0;if(this.changeSortFlag){for(var a=0;a<t.length-1;a++)e=t[a][0]<t[a+1][0]?a:a+1;this.changeSortFlag=!1}else{for(var i=0;i<t.length-1;i++)e=t[i][0]>t[i+1][0]?i:i+1;this.changeSortFlag=!0}var l=this.latestIndex;this.minIndex=l,this.latestIndex=e},colorCountChange:function(){},changeType:function(t){if(this.plot_data[0].type=t,"contour"==t)this.layout.title="等值线图",this.showContour(!0),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("heatmap"==t)this.layout.title="影像图",this.showContour(!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("surface"==t){this.showContour(!1),this.layout.title="三维图";this.plot_data[0].x,this.plot_data[0].y,this.plot_data[0].z;this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)}},changeRender:function(t){this.$nextTick(function(){this.contourLineSetting="lines"!=t&&"heatmap"!=t}),this.plot_data[0].contours.coloring=t,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},slider_widthChange:function(){this.initPage()},switch_cLines:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.lineShow")),this.contourLineFlag=!0):(this.$Message.info(window.vm.$i18n.t("linesMap.lineClose")),this.contourLineFlag=!1),this.initPage()},changeColourLevel:function(t){for(var e=0;e<this.colorArr.length;e++)if(this.colorArr[e].name==t){this.colorArrNow=this.colorArr[e].color,this.colorScaleNow=this.colorArr[e].scale;break}},changeFigure:function(){var t={title:this.figure.title,"xaxis.title":this.figure.xtitle,"yaxis.title":this.figure.y1title};this.$Plotly.relayout(this.plotlydiv,t)},changeColor:function(t){this.plot_data[0].colorscale=t,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},showContour:function(t){this.showFlag=!!t},slider_change:function(){},switch_change:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.markShow")),this.showlabels=!0):(this.$Message.info(window.vm.$i18n.t("linesMap.markClose")),this.showlabels=!1),this.initPage()},hover_change:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.hoverShow")),this.plot_data[0].hoverinfo="x+y+z"):(this.$Message.info(window.vm.$i18n.t("linesMap.hoverClose")),this.plot_data[0].hoverinfo="none"),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},switchState:function(t){},getWidth:function(){return window.innerWidth-280},getHeight:function(){return window.innerHeight-200},initPage:function(){var t=this.dataId;void 0!=t&&n.a.getJsonFromDatabase(t,this.initContourMap)},initContourMap:function(t){for(var e=this,a={traindata:[],datainterval:[],bounds:[],size:[]},i=t.grdData.x,l=t.grdData.y,o=t.grdData.xcount,n=t.grdData.ycount,s=t.grdData.z.length,r=[],c=t.grdData.xmin,d=t.grdData.ymin,u=t.grdData.xmax,p=t.grdData.ymax,h=t.grdData.zmin,m=t.grdData.zmax,g=0;g<s;g++)r=r.concat(t.grdData.z[g]);var f=m-h;a.datainterval.push(-1e5),a.datainterval.push((.005*f+h).toFixed(2)),a.datainterval.push((.012*f+h).toFixed(2)),a.datainterval.push((.02*f+h).toFixed(2)),a.datainterval.push((.03*f+h).toFixed(2)),a.datainterval.push((.045*f+h).toFixed(2)),a.datainterval.push((.08*f+h).toFixed(2)),a.datainterval.push((.15*f+h).toFixed(2)),a.datainterval.push((.25*f+h).toFixed(2)),a.datainterval.push((.4*f+h).toFixed(2)),a.datainterval.push((.6*f+h).toFixed(2)),a.datainterval.push((.75*f+h).toFixed(2)),a.datainterval.push((.85*f+h).toFixed(2)),a.datainterval.push((.92*f+h).toFixed(2)),a.datainterval.push((.955*f+h).toFixed(2)),a.datainterval.push((.97*f+h).toFixed(2)),a.datainterval.push((.98*f+h).toFixed(2)),a.datainterval.push((.988*f+h).toFixed(2)),a.datainterval.push((.995*f+h).toFixed(2)),a.datainterval.push((f+h).toFixed(2)),a.traindata.push(i),a.traindata.push(l),a.traindata.push(r),a.bounds.push(c,d,u,p),a.size.push(o,n),a.smooth=!0,e.xmin=t.grdData.xmin,e.ymin=t.grdData.ymin,e.xmax=t.grdData.xmax,e.ymax=t.grdData.ymax,e.datainterval=a.datainterval,console.log(e.datainterval),e.axios.post(WebConfig.ServicesUrl+"/GetCountourPolygon",a).then(function(t){if("ERROR"!=t.data.status){var a=JSON.parse(t.data.data);e.drawImageData(a),e.initColorTable()}else e.$Message.info("后台数据处理异常")})},sort:function(t){for(var e=0;e<t.length-1;e++)for(var a=0;a<t.length-1-e;a++)if(t[a]>t[a+1]){var i=t[a];t[a]=t[a+1],t[a+1]=i}},initColorTable:function(){for(var t=[],e=1;e<this.defaultColor.length;e++)t.push({value:this.datainterval[e],color:this.defaultColor[e]});this.colorData=t},applyReviseCustomColor:function(){this.defaultColor[this.reviseColorTableIndex+1]=this.reviseCustomColor,this.datainterval[this.reviseColorTableIndex+1]=this.reviseValueForColor,this.colorData[this.reviseColorTableIndex+1].color=this.reviseCustomColor,this.colorData[this.reviseColorTableIndex+1].value=this.reviseValueForColor,this.initPage()},closeColorTable:function(){this.isColorTableVisible=!1},openColorScale:function(){this.isColourLevelSettingsVisible=!0},openColorTable:function(){this.isColorTableVisible=!0},openFigureTable:function(){this.isFigureVisible=!0},deleteColorTableRow:function(t){this.initColorTableFlag=!1,this.colorData.splice(t,1)},reviseColorTableRow:function(t){this.initColorTableFlag=!1,this.isReviseColorTableVisible=!0,this.reviseColorTableIndex=t,this.reviseValueForColor=this.colorData[this.reviseColorTableIndex].value,this.reviseCustomColor=this.colorData[this.reviseColorTableIndex].color},projectToMap:function(t){var e=this;n.a.getJsonFromDatabase(e.dataId,function(a){e.dataAll=a,"Null"!=e.dataAll.spatialReference?"projectTo2D"==t?e.projectTo2D():e.projectTo3D():e.$message({type:"warning",message:window.vm.$i18n.t("message.noCoornate")})})},projectTo2D:function(){this.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),this.projectTo2Dand3D("2d")},projectTo3D:function(){this.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),this.projectTo2Dand3D("3d")},projectTo2Dand3D:function(t){var e=this;e.$store.state.Global.percent=0,e.$store.state.Global.progressVisible=!0,n.a.changeSpatialReference(e.dataAll.spatialReference);for(var a,i=e.dataAll.data,l={traindata:[],datainterval:[],bounds:[],size:[]},s=[],r=[],c=[],d=99999,u=9999,p=0,h=0,m=!1,g=0;a=i[g++];){var f=[a.x,a.y],v=null;v="EPSG:4326"==e.dataAll.spatialReference?[a.x,a.y]:e.ol.proj.transform(f,e.dataAll.spatialReference,"EPSG:4326"),s.push(v[0]),r.push(v[1]),"NaN"==a.z?(c.push(1e6),m=!0):c.push(a.z),v[0]<d&&(d=v[0]),v[0]>p&&(p=v[0]),v[1]<u&&(u=v[1]),v[1]>h&&(h=v[1])}setTimeout(function(){100!=e.$store.state.Global.percent&&(e.$store.state.Global.percent=45)},1e3),l.traindata[0]=s,l.traindata[1]=r,l.traindata[2]=c,l.bounds[0]=d,l.bounds[1]=u,l.bounds[2]=p,l.bounds[3]=h,l.datainterval=e.colorData.map(function(t){return t.value}),l.datainterval.push(-1e5);var b=[];e.colorData.forEach(function(t){var e={};e.color=t.color,e.value=t.value,b.push(e)});for(var y=0;y<b.length;y++)0!=y?y!=b.length-1?b[y].value=e.colorData[y-1].value+"~"+e.colorData[y].value:b[y].value="> "+e.colorData[y].value:b[y].value="< "+e.colorData[y].value;e.$nextTick(function(){e.$store.state.Global.legendsOfProjectedMap=b,e.$store.state.Global.legendsOfProjectedMapVisible=!0}),e.colorDataProject=e.colorData,m&&(l.datainterval.push(1e6),e.colorDataProject.push({value:1e6,color:""})),l.datainterval.sort(function(t,e){return t-e}),l.size=[e.dataAll.grdData.xcount,e.dataAll.grdData.ycount],e.dataAll.clipGeo&&(l.isclip=!0,l.ClipGeo=e.dataAll.clipGeo),l.smooth=!1,setTimeout(function(){100!=e.$store.state.Global.percent&&(e.$store.state.Global.percent=60)},2500),e.axios.post(WebConfig.ServicesUrl+"/GetCountourPolygon",l).then(function(a){var i=[];if("ERROR"!=a.data.status){var n=JSON.parse(a.data.data);if("2d"==t){var s=o.a.treeData2d[1].children.map(function(t){return t.id});s.sort(function(t,e){return t-e});var r=new e.ol.source.Vector({features:(new e.ol.format.GeoJSON).readFeatures(n)}),c=100+Math.floor(10*Math.random());0!=s.length&&(c=s[s.length-1]+1);var g=null,f=new e.ol.layer.Vector({id:c,source:r,style:function(t){var a=t.get("lvalue");if(-1!=i.indexOf(a)||i.push(a),m&&1e6==a){n=new e.ol.style.Style({fill:new e.ol.style.Fill({color:"rgb(0,0,0,0)"})});return n}if(m&&a==l.datainterval[l.datainterval.length-2]){n=new e.ol.style.Style({fill:new e.ol.style.Fill({color:"rgb(0,0,0,0)"})});return n}for(var o=0;o<e.colorDataProject.length;o++){if(o==e.colorDataProject.length-1){g=e.colorDataProject[o];break}if(parseFloat(e.colorDataProject[o].value)<=a&&parseFloat(e.colorDataProject[o+1].value)>a){g=e.colorDataProject[o+1];break}}var n=new e.ol.style.Style({fill:new e.ol.style.Fill({color:g.color}),text:new e.ol.style.Text({text:(1*a).toFixed(2)+""})});return n}});i.sort(),console.log(i);var v={};v.id=c,v.label=window.vm.$i18n.t("linesMap.resultName")+"_"+e.dataAll.displayName,v.layerObj=r,v.shareObj={json:n,colorConfig:e.colorDataProject};for(var b=0;b<e.colorDataProject.length;b++)1e6==parseFloat(e.colorDataProject[b].value)&&e.colorDataProject.splice(b,1);o.a.treeData2d[1].children.push(v),e.$nextTick(function(){e.$store.state.Global.twoDLayerTree.setChecked(c,!0,!1)}),setTimeout(function(){100!=e.$store.state.Global.percent&&(e.$store.state.Global.percent=100)},2e3),setTimeout(function(){e.$store.state.Global.progressVisible=!1},2500),e.$store.state.Global.map2DHandler.addLayer(f),e.$store.state.Global.map2DHandler.getView().fit(r.getExtent()),e.$store.state.Global.activeTabValue="二维地图",e.$store.state.Global.twoDTempLayers.push(f),e.$message({message:window.vm.$i18n.t("linesMap.projectSuccess"),type:"success"})}else if("3d"==t){var y={camera:e.$store.state.Global.map3DHandler.scene.camera,canvas:e.$store.state.Global.map3DHandler.scene.canvas,clampToGround:!0};e.$store.state.Global.Cesium.GeoJsonDataSource.load(n,y).then(function(t){e.$store.state.Global.map3DHandler.dataSources.add(t);for(var a=t.entities.values,i=0;i<a.length;i++){var l=a[i],n=l.properties.hvalue._value,s=e.colorData.find(function(t){return t.value==n});l.polygon&&(l.polygon.material=e.$store.state.Global.Cesium.Color.fromCssColorString(s.color),l.polygon.outlineColor=e.$store.state.Global.Cesium.Color.WHITE)}e.$store.state.Global.activeTabValue="三维地图";var r=e.$store.state.Global.map3DHandler.entities.add({position:e.Cesium.Cartesian3.fromDegrees((d+p)/2,(u+h)/2),point:{pixelSize:1,color:e.Cesium.Color.YELLOW}}),c=200+Math.floor(10*Math.random()),m={};m.id=c,m.label=window.vm.$i18n.t("linesMap.resultName")+"_"+m.id,m.imageryLayer=t,m.viewEntity=r,m.visible=!0,o.a.treeData3d[1].children.push(m),e.$message({message:window.vm.$i18n.t("linesMap.projectSuccess"),type:"success"})})}}else e.$Message.info("后台数据处理异常")}).catch(function(t){console.log(t),e.$store.state.Global.progressVisible=!1,e.$store.state.Global.percent=0,e.$Message.info("后台服务连接异常")})},switchOpeStatus:function(t){"展开"==this.switchOpeConFlag?(this.$refs.opeConRef.style.width="0",this.$refs.opeConRef.style.overflow="hidden",this.switchOpeConFlag="隐藏"):"隐藏"==this.switchOpeConFlag&&(this.$refs.opeConRef.style.width="unset",this.$refs.opeConRef.style.overflow="unset",this.switchOpeConFlag="展开")},showModal:function(){var t=new Image,e=document.getElementById("canvas");t.src=e.toDataURL("image/png"),console.log(t.src);var a=document.getElementById("img1"),i=e.toDataURL("image/webp",1);document.getElementById("save_href").href=i,a.src=i},closeModal:function(t){this.imageFlag=t}},watch:{colourLevelModel:function(t,e){this.changeColourLevel(t)}},computed:{thematicFlag:function(){return this.$store.state.Global.thematicFlag},colorColumn:function(){var t=this;return[{title:window.vm.$i18n.t("linesMap.setColor.value"),key:"value",render:function(t,e){return t("div",{},e.row.value)}},{title:window.vm.$i18n.t("linesMap.setColor.color"),key:"color",render:function(t,e){return t("div",[t("div",{style:{color:"#19be6b",background:e.row.color,width:"90px",height:"20px"},on:{click:function(){}}})])}},{title:window.vm.$i18n.t("linesMap.setColor.handle"),key:"action",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.reviseColorTableRow(a.index)}}},window.vm.$i18n.t("linesMap.setColor.operate"))])}}]}},mounted:function(){this.initPage(),this.myCanvas=this.$refs.bargraphCanvas,this.ctx=this.myCanvas.getContext("2d")},beforeDestroy:function(){}},Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerOpeBanner"},[a("el-button",{staticClass:"switchContainer",staticStyle:{padding:"5px 10px"},attrs:{plain:"",size:"mini",title:"菜单 展开/收缩"},on:{click:t.switchOpeStatus}},[a("i",{staticClass:"el-icon-arrow-left",class:{transition:"展开"!=this.switchOpeConFlag}})]),t._v(" "),a("div",{ref:"opeConRef",staticClass:"operationContainerWrap"},[a("div",{staticClass:"counterMenuGroup operationContainer",style:{width:.7*this.getWidth()+"px"}},[a("el-button",{staticClass:"menubutton",attrs:{type:"primary",size:"mini"},on:{click:t.openColorTable}},[t._v(t._s(t.$t("linesMap.setColor.title")))]),t._v(" "),a("Dropdown",{staticClass:"menubutton",on:{"on-click":t.projectToMap}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n            "+t._s(t.$t("linesMap.project.title"))+"\n            "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"projectTo2D"}},[t._v(t._s(t.$t("linesMap.project.projectTo2d")))])],1)],1),t._v(" "),a("span",{staticClass:"menubutton",style:{display:1==this.showFlag?"inline":"none"}},[t.contourLineSetting?a("span",[t._v("\n                              "+t._s(t.$t("linesMap.contour"))+"\n                              "),a("i-switch",{on:{"on-change":t.switch_cLines},model:{value:t.switch_coutourLines,callback:function(e){t.switch_coutourLines=e},expression:"switch_coutourLines"}})],1):t._e(),t._v("\n                          "+t._s(t.$t("linesMap.tagging"))+"\n                          "),a("i-switch",{on:{"on-change":t.switch_change},model:{value:t.switch_data,callback:function(e){t.switch_data=e},expression:"switch_data"}}),t._v("\n                          "+t._s(t.$t("linesMap.hover"))+"\n                          "),a("i-switch",{on:{"on-change":t.hover_change},model:{value:t.hover_data,callback:function(e){t.hover_data=e},expression:"hover_data"}}),t._v("\n                          "+t._s(t.$t("linesMap.lineWide"))+"\n                          "),a("Slider",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"middle"},attrs:{min:.5,max:3,step:.1},on:{"on-change":t.slider_widthChange},model:{value:t.lineWidth,callback:function(e){t.lineWidth=e},expression:"lineWidth"}})],1),t._v("\n         \n        "),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.showModal}},[t._v("\n          "+t._s(t.$t("linesMap.exportImage"))+"\n        ")])],1)]),t._v(" "),a("canvas",{attrs:{id:"canvas2"}}),t._v(" "),a("canvas",{ref:"bargraphCanvas",attrs:{width:t.canvasWidth,height:t.canvasHeight}}),t._v(" "),t._m(0)],1),t._v(" "),a("imageExport",{attrs:{imageConfigShow:t.imageFlag,plotlyDiv:t.plotlydiv},on:{closeModal:t.closeModal}}),t._v(" "),a("Modal",{attrs:{cancelText:t.$t("button.cancel"),okText:t.$t("button.ok"),draggable:"",title:t.$t("linesMap.setColor.title"),width:"420"},on:{"on-ok":t.applyCustomColor},model:{value:t.isColorTableVisible,callback:function(e){t.isColorTableVisible=e},expression:"isColorTableVisible"}},[a("Table",{attrs:{border:"",size:"small",columns:t.colorColumn,data:t.colorData,height:"320"}})],1),t._v(" "),a("Modal",{attrs:{cancelText:t.$t("button.cancel"),okText:t.$t("button.ok"),draggable:"",title:t.$t("linesMap.setColor.argsModify"),width:"420","z-index":2e3},on:{"on-ok":t.applyReviseCustomColor},model:{value:t.isReviseColorTableVisible,callback:function(e){t.isReviseColorTableVisible=e},expression:"isReviseColorTableVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("Input",{staticStyle:{width:"100px"},attrs:{disabled:""},model:{value:t.reviseValueForColor,callback:function(e){t.reviseValueForColor=e},expression:"reviseValueForColor"}})],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("ColorPicker",{attrs:{recommend:""},model:{value:t.reviseCustomColor,callback:function(e){t.reviseCustomColor=e},expression:"reviseCustomColor"}})],1)],1)],1),t._v(" "),a("Content",[a("div",{attrs:{id:t.plotlydivId}})])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"",download:"canvas_love.png",id:"save_href"}},[e("img",{attrs:{id:"img1",src:"",alt:""}})])}]};var Mt=a("VU/8")(Ft,Tt,!1,function(t){a("BAgA")},"data-v-0fc4bb46",null).exports,Lt=window.vm.$i18n,zt={props:["dataId","plotlydivId"],data:function(){return{selectTab:"X",plotlyData:[{tabName:0,tabTitle:Lt.t("volumn.condition")+"1",type:"isosurface",x:[],y:[],z:[],value:[],isomin:0,isomax:0,colorbar:{exponentformat:"none",showexponent:"none",minexponent:1,len:.5,x:.85},surface:{show:!0,count:2,fill:1},slices:{z:{show:!0,locations:[]},x:{show:!0,locations:[]},y:{show:!0,locations:[]}},lighting:{vertexnormalsepsilon:0,facenormalsepsilon:0,roughness:1,ambient:.5,diffuse:1,specular:2,fresnel:0},lightposition:{x:0,y:0,Z:0},caps:{},cauto:!1,cmin:0,cmax:0,autocolorscale:!1,colorscale:"Jet"}],plotlyLayOut:{datarevision:"",title:{text:"",y:.88},transition:{easing:"cubic"},height:750,width:1080,margin:{t:0,l:0,b:0,r:0},autosize:!0,scene:{xaxis:{exponentformat:"none"},yaxis:{exponentformat:"none"},zaxis:{exponentformat:"none"},aspectmode:"data",camera:{eye:{x:1.88,y:-2.12,z:1.7}}}},plotlydiv:null,colorscale:"Jet",isomin:0,isomax:0,colorbar1:"Jet",colorbar2:"Jet",Xslice:0,Yslice:0,Zslice:0,XsliceData:[],YsliceData:[],ZsliceData:[],currentFile:"",files:[],dataGuid:"",colourLevelModel:"Jet",colourLevel:[{name:"Jet",value:"Jet",img:a("aMwd")},{name:"Greys",value:"Greys",img:a("cspp")},{name:"Picnic",value:"Picnic",img:a("7yYV")},{name:"Portland",value:"Portland",img:a("Ygyn")},{name:"RdBu",value:"RdBu",img:a("M053")},{name:"Greens",value:"Greens",img:a("M/ie")},{name:"Hot",value:"Hot",img:a("VtNA")},{name:"Rainbow",value:"Rainbow",img:a("ogvo")},{name:"Electric",value:"Electric",img:a("XsTw")},{name:"Blackbody",value:"Blackbody",img:a("LI+s")},{name:"Bluered",value:"Bluered",img:a("scUE")},{name:"Viridis",value:"Viridis",img:a("FoOO")},{name:"YIOrRd",value:"YIOrRd",img:a("NLy3")},{name:"YIGnBu",value:"YIGnBu",img:a("pc37")},{name:"Earth",value:"Earth",img:a("J1x4")}],editableTabsValue:"0",tabIndex:0,xmin:0,xmax:0,ymin:0,ymax:0,zmin:0,zmax:0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("xyzval",function(t){e.files=t,e.currentFile=e.dataId})},initMap:function(){var t=this;this.plotlydiv=document.getElementById(t.plotlydivId),n.a.getJsonFromDatabase(this.dataId,function(e){t.Xslice=e.data.xmin,t.Yslice=e.data.ymin,t.Zslice=e.data.zmin,t.xmin=e.data.xmin,t.xmax=e.data.xmax,t.ymin=e.data.ymin,t.ymax=e.data.ymax,t.zmin=e.data.zmin,t.zmax=e.data.zmax,t.plotlyData[0].x=e.data.x,t.plotlyData[0].y=e.data.y,t.plotlyData[0].z=e.data.z,t.plotlyData[0].value=e.data.value,t.plotlyData[0].isomin=e.data.isomin,t.plotlyData[0].cmin=e.data.isomin,t.plotlyData[0].isomax=e.data.isomax,t.plotlyData[0].cmax=e.data.isomax,t.isomin=e.data.isomin,t.isomax=e.data.isomax,t.$Plotly.newPlot(t.plotlydiv,t.plotlyData,t.plotlyLayOut)})},selectFile:function(t){var e=this;this.files.find(function(e){return e.key===t});this.dataGuid=t,n.a.getJsonFromDatabase(this.dataGuid,function(t){e.plotlyData[0].x=t.data.x,e.plotlyData[0].y=t.data.y,e.plotlyData[0].z=t.data.z,e.plotlyData[0].value=t.data.value,e.plotlyData[0].isomin=t.data.isomin,e.plotlyData[0].isomax=t.data.isomax,e.isomin=t.data.isomin,e.isomax=t.data.isomax,e.$Plotly.react(e.plotlydiv,e.plotlyData,e.plotlyLayOut)})},handleDelete:function(t,e,a){switch(t){case"X":this.XsliceData.splice(e,1);break;case"Y":this.YsliceData.splice(e,1);break;case"Z":this.ZsliceData.splice(e,1)}},addSlice:function(t){switch(t){case"X":this.XsliceData.push(this.Xslice);break;case"Y":this.YsliceData.push(this.Yslice);break;case"Z":this.ZsliceData.push(this.Zslice)}this.selectTab=t},reactPlotly:function(){for(var t=0;t<this.plotlyData.length;t++)this.plotlyData[t].colorscale=this.colorscale;this.plotlyLayOut.datarevision=new Date,this.$Plotly.react(this.plotlydiv,this.plotlyData,this.plotlyLayOut)},handleSlice:function(){for(var t=0;t<this.plotlyData.length;t++){this.plotlyData[t].slices.x.show=!0,this.plotlyData[t].slices.y.show=!0,this.plotlyData[t].slices.z.show=!0,this.plotlyData[t].surface.show=!1,0===this.XsliceData.length&&(this.plotlyData[t].slices.x.show=!1),0===this.YsliceData.length&&(this.plotlyData[t].slices.y.show=!1),0===this.ZsliceData.length&&(this.plotlyData[t].slices.z.show=!1);var e=this.XsliceData,a=this.YsliceData,i=this.ZsliceData;this.plotlyLayOut.datarevision=new Date,this.plotlyData[t].slices.x.locations=e,this.plotlyData[t].slices.y.locations=a,this.plotlyData[t].slices.z.locations=i,this.plotlyData[t].caps={x:{show:!1},y:{show:!1},z:{show:!1}}}if(0===this.XsliceData.length&&0===this.YsliceData.length&&0===this.ZsliceData.length)this.resetPlotly();else{this.$Plotly.react(this.plotlydiv,this.plotlyData,this.plotlyLayOut)}},resetMainPlotly:function(){this.plotlyData.splice(1,this.plotlyData.length-1),this.plotlyData[0].isomin=this.isomin,this.plotlyData[0].isomax=this.isomax,this.plotlyData[0].colorscale="Jet",this.editableTabsValue="0",this.tabIndex=0,this.colorscale="Jet",this.plotlyData[0].surface.show=!0;this.$Plotly.react(this.plotlydiv,this.plotlyData,this.plotlyLayOut)},resetPlotly:function(){this.XsliceData=[],this.YsliceData=[],this.ZsliceData=[],this.selectTab="X";for(var t=0;t<this.plotlyData.length;t++)this.plotlyData[t].slices.x.show=!0,this.plotlyData[t].slices.y.show=!0,this.plotlyData[t].slices.z.show=!0,this.plotlyData[t].surface.show=!0,this.plotlyData[t].slices.x.locations=this.XsliceData,this.plotlyData[t].slices.y.locations=this.YsliceData,this.plotlyData[t].slices.z.locations=this.ZsliceData,this.plotlyData[t].caps={};this.$Plotly.react(this.plotlydiv,this.plotlyData,this.plotlyLayOut)},addTab:function(){var t=++this.tabIndex+"";this.plotlyData.push({tabName:t,tabTitle:Lt.t("volumn.condition")+(this.tabIndex+1),type:"isosurface",x:this.plotlyData[0].x,y:this.plotlyData[0].y,z:this.plotlyData[0].z,value:this.plotlyData[0].value,isomin:this.isomin,isomax:this.isomax,surface:{show:!0,count:2,fill:1},slices:{z:{show:!0,locations:[]},x:{show:!0,locations:[]},y:{show:!0,locations:[]}},caps:{},colorbar:{len:.5,x:.85},lighting:{vertexnormalsepsilon:0,facenormalsepsilon:0,roughness:1,ambient:.5,diffuse:1,specular:2,fresnel:0},lightposition:{x:0,y:0,Z:0},cauto:!1,cmin:this.isomin,cmax:this.isomax,autocolorscale:!1,colorscale:this.plotlyData[0].colorscale}),this.editableTabsValue=t},removeTab:function(t){var e=this.plotlyData,a=this.editableTabsValue;a===t&&e.forEach(function(i,l){if(i.tabName===t){var o=e[l+1]||e[l-1];o&&(a=o.tabName)}}),this.tabIndex--,this.editableTabsValue="0",this.plotlyData=e.filter(function(e){return e.tabName!==t}),this.reactPlotly()},initColorScales:function(){for(var t=0;t<this.$store.state.Global.colorscales.length;t++)this.colourLevel.push(this.$store.state.Global.colorscales[t])}},computed:{},mounted:function(){this.initColorScales(),this.initForm(),this.initMap()}},At={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"23%",float:"left",height:"800px"}},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:5,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("volumn.selectFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.currentFile,callback:function(e){t.currentFile=e},expression:"currentFile"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n          ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"6px",height:"260px"},attrs:{gutter:5,justify:"center",type:"flex"}},[a("el-card",{staticStyle:{width:"85%"}},[a("el-tabs",{staticStyle:{"line-height":"20px"},attrs:{type:"card",closable:""},on:{"tab-remove":t.removeTab},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.plotlyData,function(e,i){return a("el-tab-pane",{key:e.tabName,attrs:{label:e.tabTitle,name:e.tabName}},[a("el-row",{attrs:{gutter:3,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Isomin")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("Slider",{staticClass:"block",attrs:{min:t.isomin,max:t.isomax,step:.001,"show-input":"","show-input-controls":"false","input-size":"mini"},model:{value:t.plotlyData[i].isomin,callback:function(e){t.$set(t.plotlyData[i],"isomin",e)},expression:"plotlyData[index].isomin"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:3,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Isomax:")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("Slider",{staticClass:"block",attrs:{min:t.isomin,max:t.isomax,step:.001,"show-input":"","show-input-controls":"false","input-size":"mini"},model:{value:t.plotlyData[i].isomax,callback:function(e){t.$set(t.plotlyData[i],"isomax",e)},expression:"plotlyData[index].isomax"}})],1)],1)],1)}),1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:3,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("volumn.colorbar")))])]),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-select",{attrs:{size:"small"},model:{value:t.colorscale,callback:function(e){t.colorscale=e},expression:"colorscale"}},t._l(t.colourLevel,function(e){return a("el-option",{key:e.name,attrs:{value:e.value,label:e.name}},[a("img",{staticStyle:{width:"100px",height:"14px"},attrs:{src:e.img}}),t._v(t._s(e.name)+"\n              ")])}),1)],1)],1),t._v(" "),a("el-button",{staticStyle:{"margin-top":"15px"},attrs:{size:"mini",type:"primary"},on:{click:t.addTab}},[t._v(t._s(t.$t("volumn.add")))]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"15px"},attrs:{size:"mini",type:"primary"},on:{click:t.reactPlotly}},[t._v(t._s(t.$t("volumn.handleok")))]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"15px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.resetMainPlotly()}}},[t._v(t._s(t.$t("volumn.reset")))])],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3px",height:"580px"},attrs:{gutter:5,justify:"center",type:"flex"}},[a("el-card",{staticStyle:{width:"85%"}},[a("el-row",{attrs:{gutter:10,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("volumn.X")))])]),t._v(" "),a("el-col",{attrs:{span:17,offset:1}},[a("Slider",{staticClass:"block",attrs:{min:t.xmin,max:t.xmax,step:1,"show-input":"","show-input-controls":"false","input-size":"mini"},model:{value:t.Xslice,callback:function(e){t.Xslice=e},expression:"Xslice"}})],1),t._v(" "),a("el-col",{attrs:{span:1}},[a("span",{staticStyle:{"margin-left":"-2px","margin-top":"7px","font-size":"20px",cursor:"pointer",color:"#5cadff"},on:{click:function(e){return t.addSlice("X")}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3px"},attrs:{gutter:10,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("volumn.Y")))])]),t._v(" "),a("el-col",{attrs:{span:17,offset:1}},[a("Slider",{staticClass:"block",attrs:{min:t.ymin,max:t.ymax,step:1,"show-input":"","show-input-controls":"false","input-size":"mini"},model:{value:t.Yslice,callback:function(e){t.Yslice=e},expression:"Yslice"}})],1),t._v(" "),a("el-col",{attrs:{span:1}},[a("span",{staticStyle:{"margin-left":"-2px","margin-top":"7px","font-size":"20px",cursor:"pointer",color:"#5cadff"},on:{click:function(e){return t.addSlice("Y")}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3px"},attrs:{gutter:10,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("volumn.Z")))])]),t._v(" "),a("el-col",{attrs:{span:17,offset:1}},[a("Slider",{staticClass:"block",attrs:{min:t.zmin,max:t.zmax,step:1,"show-input":"","show-input-controls":"false","input-size":"mini"},model:{value:t.Zslice,callback:function(e){t.Zslice=e},expression:"Zslice"}})],1),t._v(" "),a("el-col",{attrs:{span:1}},[a("span",{staticStyle:{"margin-left":"-2px","margin-top":"7px","font-size":"20px",cursor:"pointer",color:"#5cadff"},on:{click:function(e){return t.addSlice("Z")}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})])])],1),t._v(" "),a("el-tabs",{staticStyle:{"margin-left":"15px","margin-right":"18px","margin-top":"3px"},attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},[a("el-tab-pane",{attrs:{label:t.$t("volumn.tableX"),name:"X"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"-10px"},attrs:{data:t.XsliceData,size:"mini",height:"200"}},[a("el-table-column",{attrs:{label:t.$t("volumn.No")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.$index+1)+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("volumn.location")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(t.XsliceData[e.$index])+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("volumn.handel")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete("X",e.$index,e.row)}}},[t._v(t._s(t.$t("volumn.remove"))+"\n                  ")])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("volumn.tableY"),name:"Y"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"-10px"},attrs:{data:t.YsliceData,size:"mini",height:"200"}},[a("el-table-column",{attrs:{label:t.$t("volumn.No")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.$index+1)+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("volumn.location")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(t.YsliceData[e.$index])+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("volumn.handel")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete("Y",e.$index,e.row)}}},[t._v(t._s(t.$t("volumn.remove"))+"\n                  ")])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("volumn.tableZ"),name:"Z"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"-10px"},attrs:{data:t.ZsliceData,size:"mini",height:"200"}},[a("el-table-column",{attrs:{label:t.$t("volumn.No")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.$index+1)+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("volumn.location")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(t.ZsliceData[e.$index])+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("volumn.handel")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete("Z",e.$index,e.row)}}},[t._v(t._s(t.$t("volumn.remove"))+"\n                  ")])]}}])})],1)],1)],1),t._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleSlice()}}},[t._v(t._s(t.$t("volumn.handleok")))]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.resetPlotly()}}},[t._v(t._s(t.$t("volumn.reset")))])],1)],1)],1),t._v(" "),a("div",{staticStyle:{"margin-left":"23%",width:"1px"}},[a("el-divider",{attrs:{direction:"vertical"}})],1),t._v(" "),a("div",{staticStyle:{"margin-left":"24%",width:"76%",height:"800px"}},[a("div",{staticStyle:{"margin-top":"-900px"},attrs:{id:t.plotlydivId}})])])},staticRenderFns:[]};var Gt=a("VU/8")(zt,At,!1,function(t){a("3JQt")},"data-v-51406e09",null).exports,Nt=window.vm.$i18n,Pt={components:{imageExport:K.a},props:["dataId","plotlydivId","type","flagType"],data:function(){return{tableData:[{value:Nt.t("voxels.background"),color:"rgb(255, 255, 255)"},{value:"N",color:"rgb(247, 172, 172)"},{value:"2N",color:"rgb(239, 85, 85)"},{value:"3N",color:"rgb(255, 0, 0)"}],ratio1:1,imageFlag:!1,max:0,min:0,colorArrNow:[],colorScaleNow:[],figure:{title:"专题图名称",xtitle:"Distance/（m）",y1title:"Distance/（m）"},showFlag:!0,Accept:".grd",map2d:"",switch_data:!0,hover_data:!1,slider_data:4,switch_coutourLines:!0,lineWidth:.5,plot_data:[{z:[],x:[],y:[],type:"contour",paper_bgcolor:"none",plot_bgcolor:"none",autoscale:!0,zsmooth:"best",zmax:4.74,zmin:1.58,zmid:3.16,hoverinfo:"none",autocolorscale:!1,colorscale:[[0,"rgb(255, 255, 255)"],[.33,"rgb(247, 172, 172)"],[.66,"rgb(239, 85, 85)"],[1,"rgb(255, 0, 0)"]],contours:{coloring:"fill",showlabels:!0,labelfont:{family:"Raleway",size:12,color:"black"},z:{show:!0,usecolormap:!0,highlightcolor:"#42f462",project:{z:!0}}},line:{width:.5},colorbar:{xanchor:"left",exponentformat:"none"}}],layout:{title:"单元素异常图",height:this.getHeight(),width:this.getWidth(),margin:{t:50,b:80,l:80,r:0},xaxis:{title:"X",showline:!0,mirror:"allticks",ticks:Q.a.state.ticks,exponentformat:"none",autorange:"false",expoents:"none"},yaxis:{title:"Y",showline:!0,mirror:"allticks",expoents:"none",ticks:Q.a.state.ticks,exponentformat:"none",autorange:"false",scaleanchor:"x"},annotations:[{showarrow:!1,text:"",x:0,y:0,xref:"paper",yref:"paper"}]},colorDataDefault:[{value:1,color:"rgb(0,1,255)",action:"删除"},{value:2,color:"rgb(0,96,255)",action:"删除"},{value:3,color:"rgb(0,190,255)",action:"删除"},{value:4,color:"rgb(0,248,236)",action:"删除"},{value:5,color:"rgb(0,223,174)",action:"删除"},{value:6,color:"rgb(0,198,113)",action:"删除"},{value:7,color:"rgb(0,174,51)",action:"删除"},{value:8,color:"rgb(25,163,0)",action:"删除"},{value:9,color:"rgb(167,219,0)",action:"删除"},{value:10,color:"rgb(255,230,0)",action:"删除"},{value:11,color:"rgb(255,162,0)",action:"删除"},{value:12,color:"rgb(255,95,0)",action:"删除"},{value:13,color:"rgb(255,53,53)",action:"删除"},{value:14,color:"rgb(255,144,144)",action:"删除"},{value:15,color:"rgb(255,230,230)",action:"删除"}],colorData:[],grdData:null,dataAll:null,switchOpeConFlag:"展开",contourLineSetting:!0,plotlydiv:null,minValue:0,maxValue:0,dataFromStore:null,statisticSelectValue:"z",totalData:[],statisticInfo:{max:0,min:0,sum:0,count:0,range:0,average:0,variance:0,standardDevition:0},xlxs_col:[]}},methods:{colorCountChange:function(){},changeType:function(t){if(this.plot_data[0].type=t,"contour"==t)this.layout.title="单元素异常图",this.showContour(!0),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("heatmap"==t)this.layout.title="影像图",this.showContour(!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("surface"==t){this.showContour(!1),this.layout.title="三维图";this.plot_data[0].x,this.plot_data[0].y,this.plot_data[0].z;this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)}},changeRender:function(t){this.$nextTick(function(){this.contourLineSetting="lines"!=t&&"heatmap"!=t}),this.plot_data[0].contours.coloring=t,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},slider_widthChange:function(){this.plot_data[0].line.width=this.lineWidth,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},switch_cLines:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.lineShow")),this.plot_data[0].contours.showlines=!0):(this.$Message.info(window.vm.$i18n.t("linesMap.lineClose")),this.plot_data[0].contours.showlines=!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},showContour:function(t){this.showFlag=!!t},switch_change:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.markShow")),this.plot_data[0].contours.showlabels=!0):(this.$Message.info(window.vm.$i18n.t("linesMap.markClose")),this.plot_data[0].contours.showlabels=!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},hover_change:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.hoverShow")),this.plot_data[0].hoverinfo="x+y+z"):(this.$Message.info(window.vm.$i18n.t("linesMap.hoverClose")),this.plot_data[0].hoverinfo="none"),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},getWidth:function(){return window.innerWidth-280},getHeight:function(){return window.innerHeight-200},initPage:function(){var t=this.dataId;void 0!=t&&n.a.getJsonFromDatabase(t,this.initContourMap)},initContourMap:function(t){this.totalData=t.data;var e=t.data;for(var a in this.dataFromStore=t,this.xlxs_json=e,this.xlxs_col=[],e[0])this.xlxs_col.push(a);this.dialogVisible=!0,this.changeField()},changeField:function(){var t=this.statisticSelectValue,e=[];this.statisticInfo.sum=0;for(var a=0,i=this.totalData.length;a<i;a++)e.push(this.totalData[a][t]),this.statisticInfo.sum+=this.totalData[a][t]+1-1;this.statisticInfo.max=Math.max.apply(null,e),this.statisticInfo.min=Math.min.apply(null,e),this.statisticInfo.count=this.totalData.length,this.statisticInfo.range=this.statisticInfo.max-this.statisticInfo.min,this.statisticInfo.average=parseFloat(this.statisticInfo.sum/this.statisticInfo.count).toFixed(4);var l=0;for(a=0,i=e.length;a<i;a++)l+=(e[a]-this.statisticInfo.average)*(e[a]-this.statisticInfo.average);this.statisticInfo.variance=parseFloat(l/this.statisticInfo.count).toFixed(3),this.statisticInfo.standardDevition=parseFloat(Math.sqrt(this.statisticInfo.variance)).toFixed(4)},handleOk:function(){var t=this.dataFromStore,e=parseFloat(this.statisticInfo.average)+parseFloat(this.statisticInfo.standardDevition*this.ratio1);this.min=t.grdData.zmin.toFixed(2),this.max=t.grdData.zmax.toFixed(2),this.colorArrNow=this.Rainbow,this.colorScaleNow=this.RainbowNumber,this.grdData=t.grdData,this.dataAll=t;var a=[];this.minValue=parseFloat(t.grdData.zmin).toFixed(2),this.maxValue=parseFloat(t.grdData.zmax).toFixed(2);for(var i=0;i<3;i++)a.push({value:(e*(i+1)).toFixed(2),color:this.tableData[i+1].color});this.colorData=a,this.plot_data[0].x=t.grdData.x,this.plot_data[0].y=t.grdData.y,this.plot_data[0].z=t.grdData.z,this.plot_data[0].zmin=this.colorDataDefault[0].value,this.plot_data[0].zmid=this.colorDataDefault[1].value,this.plot_data[0].zmax=this.colorDataDefault[2].value;for(var l=0;l<this.tableData.length;l++)this.plot_data[0].colorscale[l][1]=this.tableData[l].color;var o=this.colorData.map(function(t){return t.value});this.plot_data[0].type=this.type,this.plot_data[0].contours.start=o[0],this.plot_data[0].contours.end=o[o.length-1],this.plot_data[0].contours.size=Math.abs((o[o.length-1]-o[0])/(o.length-1)),this.plotlydiv=document.getElementById(this.plotlydivId);var n=this.getWidth()-80,s=this.getHeight()-130,r=t.grdData.xmax-t.grdData.xmin,c=t.grdData.ymax-t.grdData.ymin;if(r/c<=.926*n/s){var d=(n-s*r/c)/2;this.layout.margin.l=80+d,this.layout.margin.r=d}else{var u=(s-.92*n*c/r)/2;this.layout.margin.t=50+u,this.layout.margin.b=80+u}this.dialogVisible=!1,this.$Plotly.newPlot(this.plotlydiv,this.plot_data,this.layout,{scrollZoom:!0,displaylogo:!1,modeBarButtonsToRemove:["toImage","zoomIn2d","zoomOut2d","toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]}),this.changeType(this.type)},switchOpeStatus:function(t){"展开"==this.switchOpeConFlag?(this.$refs.opeConRef.style.width="0",this.$refs.opeConRef.style.overflow="hidden",this.switchOpeConFlag="隐藏"):"隐藏"==this.switchOpeConFlag&&(this.$refs.opeConRef.style.width="unset",this.$refs.opeConRef.style.overflow="unset",this.switchOpeConFlag="展开")},showModal:function(){this.imageFlag=!0},closeModal:function(t){this.imageFlag=t}},watch:{},computed:{thematicFlag:function(){return this.$store.state.Global.thematicFlag}},mounted:function(){this.initPage()}},It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerOpeBanner"},[a("el-button",{staticClass:"switchContainer",staticStyle:{padding:"5px 10px"},attrs:{plain:"",size:"mini",title:"菜单 展开/收缩"},on:{click:t.switchOpeStatus}},[a("i",{staticClass:"el-icon-arrow-left",class:{transition:"展开"!=this.switchOpeConFlag}})]),t._v(" "),a("div",{ref:"opeConRef",staticClass:"operationContainerWrap"},[a("div",{staticClass:"counterMenuGroup operationContainer",style:{width:.7*this.getWidth()+"px"}},[a("span",[a("Dropdown",{staticClass:"menubutton",on:{"on-click":t.changeType}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("\n                                 "+t._s(t.$t("linesMap.mapType.title"))+"\n                                 "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"contour"}},[t._v(t._s(t.$t("linesMap.mapType.contour")))]),t._v(" "),a("DropdownItem",{attrs:{name:"heatmap"}},[t._v(t._s(t.$t("linesMap.mapType.heatmap")))])],1)],1),t._v(" "),a("Dropdown",{staticClass:"menubutton",style:{display:1==this.showFlag?"block":"none"},on:{"on-click":t.changeRender}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n                                 "+t._s(t.$t("linesMap.RenderType.title"))+"\n                                 "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"contour"}},[t._v(t._s(t.$t("linesMap.RenderType.contour")))]),t._v(" "),a("DropdownItem",{attrs:{name:"lines"}},[t._v(t._s(t.$t("linesMap.RenderType.lines")))]),t._v(" "),a("DropdownItem",{attrs:{name:"heatmap"}},[t._v(t._s(t.$t("linesMap.RenderType.heatmap")))])],1)],1),t._v(" "),a("span",{staticClass:"menubutton",staticStyle:{display:"none"}},[a("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.switchState("/map2d")}}},[t._v("地图投影")])],1)],1),t._v(" "),a("span",{staticClass:"menubutton",style:{display:1==this.showFlag?"inline":"none"}},[t.contourLineSetting?a("span",[t._v("\n                             "+t._s(t.$t("linesMap.contour"))+"\n                             "),a("i-switch",{on:{"on-change":t.switch_cLines},model:{value:t.switch_coutourLines,callback:function(e){t.switch_coutourLines=e},expression:"switch_coutourLines"}})],1):t._e(),t._v("\n                         "+t._s(t.$t("linesMap.tagging"))+"\n                         "),a("i-switch",{on:{"on-change":t.switch_change},model:{value:t.switch_data,callback:function(e){t.switch_data=e},expression:"switch_data"}}),t._v("\n                         "+t._s(t.$t("linesMap.hover"))+"\n                         "),a("i-switch",{on:{"on-change":t.hover_change},model:{value:t.hover_data,callback:function(e){t.hover_data=e},expression:"hover_data"}}),t._v("\n                         "+t._s(t.$t("linesMap.lineWide"))+"\n                         "),a("Slider",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"middle"},attrs:{min:.5,max:2,step:.1},on:{"on-change":t.slider_widthChange},model:{value:t.lineWidth,callback:function(e){t.lineWidth=e},expression:"lineWidth"}})],1),t._v("\n         \n        "),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.showModal}},[t._v("\n          "+t._s(t.$t("linesMap.exportImage"))+"\n        ")])],1)])],1),t._v(" "),a("imageExport",{attrs:{imageConfigShow:t.imageFlag,plotlyDiv:t.plotlydiv},on:{closeModal:t.closeModal}}),t._v(" "),a("Modal",{attrs:{title:t.$t("voxels.name"),width:"30%"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("el-row",{staticStyle:{"margin-bottom":"20px","margin-left":"-20px"},attrs:{gutter:3,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("voxels.element")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("Select",{on:{"on-change":function(e){return t.changeField()}},model:{value:t.statisticSelectValue,callback:function(e){t.statisticSelectValue=e},expression:"statisticSelectValue"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:10,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("voxels.average")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.statisticInfo.average))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("voxels.standardDeviation")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.statisticInfo.standardDevition))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:4,justify:"left",type:"flex"}},[a("el-col",{attrs:{span:4}}),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("voxels.anomalyThreshold"))+t._s(t.statisticInfo.average)+" +")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small"},model:{value:t.ratio1,callback:function(e){t.ratio1=e},expression:"ratio1"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(" × "+t._s(t.statisticInfo.standardDevition))])])],1),t._v(" "),a("el-row",{attrs:{gutter:5,type:"flex"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"-10px","margin-left":"50px"},attrs:{data:t.tableData,size:"mini",height:"280"}},[a("el-table-column",{attrs:{label:t.$t("voxels.No")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.$index+1)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("voxels.value")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.tableData[e.$index].value)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("voxels.color")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.tableData[e.$index].color,callback:function(a){t.$set(t.tableData[e.$index],"color",a)},expression:"tableData[scope.$index].color"}})]}}])})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleOk}},[t._v(t._s(t.$t("button.ok")))])],1)],1),t._v(" "),a("Content",[a("div",{attrs:{id:t.plotlydivId}})])],1)},staticRenderFns:[]};var Vt=a("VU/8")(Pt,It,!1,function(t){a("XXN1")},"data-v-a3d81254",null).exports,Et=window.vm.$i18n,Ot={components:{imageExport:K.a},props:["dataId","plotlydivId","type","flagType"],data:function(){return{mapconfig:o.a,files:[{guid:"",color:"rgb(6, 100, 255)"}],tableData:[{value:Et.t("voxels.background"),color:"rgb(255, 255, 255)"},{value:"N",color:"rgb(247, 172, 172)"},{value:"2N",color:"rgb(239, 85, 85)"},{value:"3N",color:"rgb(255, 0, 0)"}],ratio1:1,imageFlag:!1,max:0,min:0,colorArrNow:[],colorScaleNow:[],figure:{title:"专题图名称",xtitle:"Distance/（m）",y1title:"Distance/（m）"},showFlag:!0,Accept:".grd",map2d:"",switch_data:!0,hover_data:!1,slider_data:4,switch_coutourLines:!0,lineWidth:.5,plot_data:[{text:[6680,"sdfd"],name:"sdf",z:[],x:[],y:[],type:"contour",paper_bgcolor:"none",plot_bgcolor:"none",autoscale:!0,zsmooth:"best",zmax:4.74,zmin:1.58,zmid:3.16,hoverinfo:"none",autocolorscale:!1,colorscale:[[0,"rgb(255, 255, 255)"],[.33,"rgb(247, 172, 172)"],[.66,"rgb(239, 85, 85)"],[1,"rgb(255, 0, 0)"]],contours:{coloring:"fill",showlabels:!0,labelfont:{family:"Raleway",size:12,color:"black"},z:{show:!0,usecolormap:!0,highlightcolor:"#42f462",project:{z:!0}}},line:{width:.5},colorbar:{exponentformat:"none",tickprefix:"",xanchor:"left",len:.5,y:.25,title:{text:""}}}],layout:{legend:{y:.55},title:"单元素异常图",height:this.getHeight(),width:this.getWidth(),margin:{t:50,b:80,l:80,r:0},xaxis:{title:"X",showline:!0,mirror:"allticks",ticks:Q.a.state.ticks,exponentformat:"none",autorange:"false",expoents:"none"},yaxis:{title:"Y",showline:!0,mirror:"allticks",expoents:"none",ticks:Q.a.state.ticks,exponentformat:"none",autorange:"false",scaleanchor:"x"},annotations:[{showarrow:!1,text:"",x:0,y:0,xref:"paper",yref:"paper"}]},colorDataDefault:[],colorData:[],grdData:null,dataAll:null,switchOpeConFlag:"展开",contourLineSetting:!0,plotlydiv:null,minValue:0,maxValue:0,dataFromStore:null,statisticSelectValue:"z",totalData:[],statisticInfo:{max:0,min:0,sum:0,count:0,range:0,average:0,variance:0,standardDevition:0},xlxs_col:[],nameArray:[],mainElement:""}},methods:{colorCountChange:function(){},changeType:function(t){if(this.plot_data[0].type=t,"contour"==t)this.layout.title="组合元素异常图",this.showContour(!0),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("heatmap"==t)this.layout.title="影像图",this.showContour(!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout);else if("surface"==t){this.showContour(!1),this.layout.title="三维图";this.plot_data[0].x,this.plot_data[0].y,this.plot_data[0].z;this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)}},changeRender:function(t){this.$nextTick(function(){this.contourLineSetting="lines"!=t&&"heatmap"!=t}),this.plot_data[0].contours.coloring=t,this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},slider_widthChange:function(){var t=this;this.plot_data.forEach(function(e){e.line.width=t.lineWidth}),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},switch_cLines:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.lineShow")),this.plot_data.forEach(function(t){t.contours.showlines=!0})):(this.$Message.info(window.vm.$i18n.t("linesMap.lineClose")),this.plot_data.forEach(function(t){t.contours.showlines=!1})),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},showContour:function(t){this.showFlag=!!t},switch_change:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.markShow")),this.plot_data.forEach(function(t){t.contours.showlabels=!0})):(this.$Message.info(window.vm.$i18n.t("linesMap.markClose")),this.plot_data.forEach(function(t){t.contours.showlabels=!1})),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},hover_change:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("linesMap.hoverShow")),this.plot_data[0].hoverinfo="x+y+z"):(this.$Message.info(window.vm.$i18n.t("linesMap.hoverClose")),this.plot_data[0].hoverinfo="none"),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},getWidth:function(){return window.innerWidth-280},getHeight:function(){return window.innerHeight-200},initPage:function(){var t=this,e=this.dataId;t.mapconfig.treeWorkSpace[0].children[1].children.forEach(function(e,a){t.nameArray.push({label:e.label,value:e.guid})}),void 0!=e&&n.a.getJsonFromDatabase(e,this.initContourMap)},initContourMap:function(t){this.totalData=t.data;var e=t.data;for(var a in this.dataFromStore=t,this.xlxs_json=e,this.xlxs_col=[],e[0])this.xlxs_col.push(a);this.dialogVisible=!0,this.changeField()},addFileSelect:function(){this.files.push({guid:"",color:"rgb(255, 0, 255)",name:""})},removeFileSelect:function(t){this.files.splice(t,1)},changeField:function(){var t=this.statisticSelectValue,e=[];this.statisticInfo.sum=0;for(var a=0,i=this.totalData.length;a<i;a++)e.push(this.totalData[a][t]),this.statisticInfo.sum+=this.totalData[a][t]+1-1;this.statisticInfo.max=Math.max.apply(null,e),this.statisticInfo.min=Math.min.apply(null,e),this.statisticInfo.count=this.totalData.length,this.statisticInfo.range=this.statisticInfo.max-this.statisticInfo.min,this.statisticInfo.average=parseFloat(this.statisticInfo.sum/this.statisticInfo.count).toFixed(4);var l=0;for(a=0,i=e.length;a<i;a++)l+=(e[a]-this.statisticInfo.average)*(e[a]-this.statisticInfo.average);this.statisticInfo.variance=parseFloat(l/this.statisticInfo.count).toFixed(3),this.statisticInfo.standardDevition=parseFloat(Math.sqrt(this.statisticInfo.variance)).toFixed(4)},handleInit:function(){for(var t=this,e=[],a=0;a<t.files.length;a++)e.push(t.files[a].guid);n.a.getJsonsFromDatabase(e,function(e){for(var a=0;a<e.length;a++)t.files[a].data=e[a];t.handleOk()})},handleOk:function(){var t=this.dataFromStore,e=parseFloat(this.statisticInfo.average)+parseFloat(this.statisticInfo.standardDevition*this.ratio1);this.min=t.grdData.zmin.toFixed(2),this.max=t.grdData.zmax.toFixed(2),this.colorArrNow=this.Rainbow,this.colorScaleNow=this.RainbowNumber,this.grdData=t.grdData,this.dataAll=t;var a=[];this.minValue=parseFloat(t.grdData.zmin).toFixed(2),this.maxValue=parseFloat(t.grdData.zmax).toFixed(2);for(var i=0;i<3;i++)a.push({value:(e*(i+1)).toFixed(2),color:this.tableData[i+1].color,action:"删除"});this.colorData=a,this.plot_data[0].x=t.grdData.x,this.plot_data[0].y=t.grdData.y,this.plot_data[0].z=t.grdData.z,this.plot_data[0].zmin=this.colorData[0].value,this.plot_data[0].zmid=this.colorData[1].value,this.plot_data[0].zmax=this.colorData[2].value;for(var l=0;l<this.tableData.length;l++)this.plot_data[0].colorscale[l][1]=this.tableData[l].color;var o=this.colorData.map(function(t){return t.value});this.plot_data[0].type=this.type,this.plot_data[0].contours.start=o[0],this.plot_data[0].contours.end=o[o.length-1],this.plot_data[0].contours.size=(o[o.length-1]-o[0])/(o.length-1),this.plot_data[0].colorbar.tickprefix=this.mainElement+": ",this.plot_data[0].colorbar.title.text=this.mainElement;for(var n=0;n<this.files.length;n++){var s=this.files[n].data,r=s.data,c=this.statisticSelectValue,d=[];this.statisticInfo.sum=0;for(var u=0;u<r.length;u++)d.push(r[u][c]),this.statisticInfo.sum+=r[u][c]+1-1;this.statisticInfo.max=Math.max.apply(null,d),this.statisticInfo.min=Math.min.apply(null,d),this.statisticInfo.count=r.length,this.statisticInfo.range=this.statisticInfo.max-this.statisticInfo.min,this.statisticInfo.average=parseFloat(this.statisticInfo.sum/this.statisticInfo.count).toFixed(4);for(var p=0,h=0;h<d.length;h++)p+=(d[h]-this.statisticInfo.average)*(d[h]-this.statisticInfo.average);this.statisticInfo.variance=parseFloat(p/this.statisticInfo.count).toFixed(3),this.statisticInfo.standardDevition=parseFloat(Math.sqrt(this.statisticInfo.variance)).toFixed(4);var m=parseFloat(this.statisticInfo.average)+parseFloat(this.statisticInfo.standardDevition*this.ratio1),g={name:"sdf2",z:[],x:[],y:[],type:"contour",paper_bgcolor:"none",plot_bgcolor:"none",autoscale:!0,zsmooth:"best",hoverinfo:"none",autocolorscale:!1,contours:{type:"constraint",coloring:"lines",operation:"=",value:.32,showlabels:!0,labelfont:{family:"Raleway",size:12,color:"black"}},line:{width:.5,color:"#42f462"},colorbar:{xanchor:"left",exponentformat:"none"}};g.x=s.grdData.x,g.y=s.grdData.y,g.z=s.grdData.z,g.contours.value=m,g.line.color=this.files[n].color,g.contours.labelfont.color=this.files[n].color,g.name=this.files[n].name,this.plot_data.push(g)}this.plotlydiv=document.getElementById(this.plotlydivId);var f=this.getWidth()-80,v=this.getHeight()-130,b=t.grdData.xmax-t.grdData.xmin,y=t.grdData.ymax-t.grdData.ymin;if(b/y<=.926*f/v){var _=(f-v*b/y)/2;this.layout.margin.l=80+_,this.layout.margin.r=_}else{var x=(v-.92*f*y/b)/2;this.layout.margin.t=50+x,this.layout.margin.b=80+x}this.dialogVisible=!1,this.$Plotly.newPlot(this.plotlydiv,this.plot_data,this.layout,{scrollZoom:!0,displaylogo:!1,modeBarButtonsToRemove:["toImage","zoomIn2d","zoomOut2d","toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]}),this.changeType(this.type)},switchOpeStatus:function(t){"展开"==this.switchOpeConFlag?(this.$refs.opeConRef.style.width="0",this.$refs.opeConRef.style.overflow="hidden",this.switchOpeConFlag="隐藏"):"隐藏"==this.switchOpeConFlag&&(this.$refs.opeConRef.style.width="unset",this.$refs.opeConRef.style.overflow="unset",this.switchOpeConFlag="展开")},showModal:function(){this.imageFlag=!0},closeModal:function(t){this.imageFlag=t},closeInitModal:function(){this.dialogVisible=!1}},watch:{},computed:{thematicFlag:function(){return this.$store.state.Global.thematicFlag}},mounted:function(){this.initPage()}},Rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerOpeBanner"},[a("el-button",{staticClass:"switchContainer",staticStyle:{padding:"5px 10px"},attrs:{plain:"",size:"mini",title:"菜单 展开/收缩"},on:{click:t.switchOpeStatus}},[a("i",{staticClass:"el-icon-arrow-left",class:{transition:"展开"!=this.switchOpeConFlag},staticStyle:{color:"#515a6e"}})]),t._v(" "),a("div",{ref:"opeConRef",staticClass:"operationContainerWrap"},[a("div",{staticClass:"counterMenuGroup operationContainer",style:{width:.7*this.getWidth()+"px"}},[a("span",[a("Dropdown",{staticClass:"menubutton",on:{"on-click":t.changeType}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("\n                                  "+t._s(t.$t("linesMap.mapType.title"))+"\n                                  "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"contour"}},[t._v(t._s(t.$t("linesMap.mapType.contour")))]),t._v(" "),a("DropdownItem",{attrs:{name:"heatmap"}},[t._v(t._s(t.$t("linesMap.mapType.heatmap")))])],1)],1),t._v(" "),a("Dropdown",{staticClass:"menubutton",style:{display:1==this.showFlag?"block":"none"},on:{"on-click":t.changeRender}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n                                  "+t._s(t.$t("linesMap.RenderType.title"))+"\n                                  "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"contour"}},[t._v(t._s(t.$t("linesMap.RenderType.contour")))]),t._v(" "),a("DropdownItem",{attrs:{name:"lines"}},[t._v(t._s(t.$t("linesMap.RenderType.lines")))]),t._v(" "),a("DropdownItem",{attrs:{name:"heatmap"}},[t._v(t._s(t.$t("linesMap.RenderType.heatmap")))])],1)],1),t._v(" "),a("span",{staticClass:"menubutton",staticStyle:{display:"none"}},[a("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.switchState("/map2d")}}},[t._v("地图投影")])],1)],1),t._v(" "),t.thematicFlag?a("el-button",{staticClass:"menubutton",attrs:{type:"primary",size:"mini"},on:{click:t.openFigureTable}},[t._v("\n          "+t._s(t.$t("linesMap.styleModify.title"))+"\n        ")]):t._e(),t._v(" "),a("span",{staticClass:"menubutton",style:{display:1==this.showFlag?"inline":"none"}},[t.contourLineSetting?a("span",[t._v("\n                              "+t._s(t.$t("linesMap.contour"))+"\n                              "),a("i-switch",{on:{"on-change":t.switch_cLines},model:{value:t.switch_coutourLines,callback:function(e){t.switch_coutourLines=e},expression:"switch_coutourLines"}})],1):t._e(),t._v("\n                          "+t._s(t.$t("linesMap.tagging"))+"\n                          "),a("i-switch",{on:{"on-change":t.switch_change},model:{value:t.switch_data,callback:function(e){t.switch_data=e},expression:"switch_data"}}),t._v("\n                          "+t._s(t.$t("linesMap.hover"))+"\n                          "),a("i-switch",{on:{"on-change":t.hover_change},model:{value:t.hover_data,callback:function(e){t.hover_data=e},expression:"hover_data"}}),t._v("\n                          "+t._s(t.$t("linesMap.lineWide"))+"\n                          "),a("Slider",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"middle"},attrs:{min:.5,max:2,step:.1},on:{"on-change":t.slider_widthChange},model:{value:t.lineWidth,callback:function(e){t.lineWidth=e},expression:"lineWidth"}})],1),t._v("\n         \n        "),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.showModal}},[t._v("\n          "+t._s(t.$t("linesMap.exportImage"))+"\n        ")])],1)])],1),t._v(" "),a("imageExport",{attrs:{imageConfigShow:t.imageFlag,plotlyDiv:t.plotlydiv},on:{closeModal:t.closeModal}}),t._v(" "),a("Modal",{attrs:{title:t.$t("groupElement.name"),draggable:""},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("groupElement.mainElement")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-left":"-20px"},attrs:{gutter:1,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("groupElement.element")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("Select",{on:{"on-change":function(e){return t.changeField()}},model:{value:t.statisticSelectValue,callback:function(e){t.statisticSelectValue=e},expression:"statisticSelectValue"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-left":"-20px"},attrs:{gutter:1,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("groupElement.elementName")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"mini"},model:{value:t.mainElement,callback:function(e){t.mainElement=e},expression:"mainElement"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:10,justify:"center",type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("groupElement.average")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.statisticInfo.average))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("groupElement.standardDeviation")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.statisticInfo.standardDevition))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:4,justify:"left",type:"flex"}},[a("el-col",{attrs:{span:4}}),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("groupElement.anomalyThreshold"))+t._s(t.statisticInfo.average)+" +")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small"},model:{value:t.ratio1,callback:function(e){t.ratio1=e},expression:"ratio1"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(" × "+t._s(t.statisticInfo.standardDevition))])])],1),t._v(" "),a("el-row",{attrs:{gutter:5,type:"flex"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"-10px","margin-left":"50px"},attrs:{data:t.tableData,size:"mini",height:"180","row-style":{height:"20px"},"cell-style":{padding:"0px"}}},[a("el-table-column",{attrs:{label:t.$t("groupElement.No")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.$index+1)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("groupElement.value")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.tableData[e.$index].value)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("groupElement.color")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:t.tableData[e.$index].color,callback:function(a){t.$set(t.tableData[e.$index],"color",a)},expression:"tableData[scope.$index].color"}})]}}])})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("groupElement.secondaryElement"))+"\n      "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addFileSelect()}}},[t._v(t._s(t.$t("volumn.add")))])],1),t._v(" "),t._l(t.files,function(e,i){return a("el-row",{key:i,staticStyle:{"margin-top":"10px","margin-left":"30px"},attrs:{gutter:3,type:"flex"}},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("groupElement.file"))+t._s(i+1)+"：")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("Select",{on:{"on-change":function(e){return t.changeField()}},model:{value:e.guid,callback:function(a){t.$set(e,"guid",a)},expression:"file.guid"}},t._l(t.nameArray,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:e.color,callback:function(a){t.$set(e,"color",a)},expression:"file.color"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("groupElement.elementName")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"mini"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"file.name"}})],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("span",{staticStyle:{"font-size":"20px",color:"#5cadff","margin-left":"20px"},on:{click:function(e){return t.removeFileSelect(i)}}},[a("i",{staticClass:"el-icon-remove-outline"})])])],1)}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeInitModal}},[t._v(t._s(t.$t("button.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleInit}},[t._v(t._s(t.$t("button.ok")))])],1)],2),t._v(" "),a("Content",[a("div",{attrs:{id:t.plotlydivId}})])],1)},staticRenderFns:[]};var jt=a("VU/8")(Ot,Rt,!1,function(t){a("Xpx3")},"data-v-5e890abe",null).exports,Wt={data:function(){return{theheight:742,algManage:!1,sharingProductionsManage:!1,suggesstionFeedBackManage:!1,algorithmUseStatistics:!1,addressDetection:!1,editableTabsValue:"default",pictures_arr:[{name:"二维频率域滤波",image_url:"二维频率域滤波.PNG"},{name:"张贴图",image_url:"张贴图.png"},{name:"平剖图",image_url:"平剖图.png"},{name:"等值面图",image_url:"等值面图.png"},{name:"影像图",image_url:"影像图.png"}]}},methods:{removeTab:function(t){var e=this.$store.state.Global.workspaceTabArr,a=this.$store.state.Global.workspaceActiveTabValue;a===t&&e.forEach(function(i,l){if(i.name===t){var o=e[l+1]||e[l-1];o&&(a=o.name)}}),"algManage"===t&&(this.algManage=!1,this.$store.state.Global.algManage=!1),"sharingProductionsManage"===t&&(this.sharingProductionsManage=!1,this.$store.state.Global.sharingProductionsManage=!1),"suggesstionFeedBackManage"===t&&(this.suggesstionFeedBackManage=!1,this.$store.state.Global.suggesstionFeedBackManage=!1),"algorithmUseStatistics"===t&&(this.algorithmUseStatistics=!1,this.$store.state.Global.algorithmUseStatistics=!1),"addressDetection"===t&&(this.addressDetection=!1,this.$store.state.Global.addressDetection=!1),this.$store.state.Global.workspaceTabArr=e.filter(function(e){return e.name!==t}),0==this.$store.state.Global.workspaceTabArr.length?this.$store.state.Global.workspaceActiveTabValue=this.editableTabsValue:this.$store.state.Global.workspaceActiveTabValue=a},handleTabClick:function(t){this.$store.state.Global.workspaceActiveTabValue=t.$options.propsData.name}},computed:{getWorkspaceTabArr:function(){return this.$store.state.Global.workspaceTabArr},getWorkspaceActiveTabValue:{get:function(){return this.algManage=this.$store.state.Global.algManage,this.sharingProductionsManage=this.$store.state.Global.sharingProductionsManage,this.suggesstionFeedBackManage=this.$store.state.Global.suggesstionFeedBackManage,this.algorithmUseStatistics=this.$store.state.Global.algorithmUseStatistics,this.addressDetection=this.$store.state.Global.addressDetection,""==this.$store.state.Global.workspaceActiveTabValue?this.editableTabsValue:this.$store.state.Global.workspaceActiveTabValue},set:function(){}},getHeight:function(){this.theheight=window.innerHeight-180}},watch:{algManage:function(t,e){1==t&&(this.$store.state.Global.workspaceActiveTabValue="algManage")},sharingProductionsManage:function(t,e){1==t&&(this.$store.state.Global.workspaceActiveTabValue="sharingProductionsManage")},suggesstionFeedBackManage:function(t,e){1==t&&(this.$store.state.Global.workspaceActiveTabValue="suggesstionFeedBackManage")},algorithmUseStatistics:function(t,e){1==t&&(this.$store.state.Global.workspaceActiveTabValue="algorithmUseStatistics")},addressDetection:function(t,e){1==t&&(this.$store.state.Global.workspaceActiveTabValue="addressDetection")}},components:{contourMap:J.default,diagram:at,AlgManage:rt,SharingProductionsManage:ut,SuggesstionFeedBackManage:mt,AlgorithmUseStatistics:vt,AddressDetection:_t,heatMap:ot,fileContent:xt.default,pointerMap:wt.default,sectionMap:Ct.default,compareMap:St,chemistryMap:Mt,threeDimensional:Gt,chemicalAnomaly:Vt,chemicalAnomalyCompose:jt}},Bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"workspaceTabContainer"}},[a("el-tabs",{attrs:{type:"card","tab-position":"top"},on:{"tab-remove":t.removeTab,"tab-click":t.handleTabClick},model:{value:t.getWorkspaceActiveTabValue,callback:function(e){t.getWorkspaceActiveTabValue=e},expression:"getWorkspaceActiveTabValue"}},[a("el-tab-pane",{attrs:{label:t.$t("welcome"),name:"default"}},[a("div",{staticClass:"welcome"},[a("el-row",[a("div",{staticClass:"welcome-title"},[a("span",[t._v(t._s(t.$t("index.title")))])])]),t._v(" "),a("el-row",[a("div",{staticClass:"welcome-con"},[a("span",[t._v(t._s(t.$t("index.tips")))])])])],1)]),t._v(" "),t.algManage?a("el-tab-pane",{attrs:{label:t.$t("type.systemSet.algManage"),name:"algManage",closable:""}},[a("AlgManage")],1):t._e(),t._v(" "),t.sharingProductionsManage?a("el-tab-pane",{attrs:{label:t.$t("type.production.manage"),name:"sharingProductionsManage",closable:""}},[a("SharingProductionsManage")],1):t._e(),t._v(" "),t.suggesstionFeedBackManage?a("el-tab-pane",{attrs:{label:t.$t("type.help.feedback"),name:"suggesstionFeedBackManage",closable:""}},[a("SuggesstionFeedBackManage")],1):t._e(),t._v(" "),t.algorithmUseStatistics?a("el-tab-pane",{attrs:{label:"算法使用地址统计",name:"algorithmUseStatistics",closable:""}},[a("AlgorithmUseStatistics")],1):t._e(),t._v(" "),t.addressDetection?a("el-tab-pane",{attrs:{label:"算法使用统计",name:"addressDetection",closable:""}},[a("AddressDetection")],1):t._e(),t._v(" "),t._l(t.getWorkspaceTabArr,function(t){return a("el-tab-pane",{key:t.index,attrs:{label:t.title,name:t.name,closable:""}},[a(t.componentName,{tag:"component",attrs:{dataId:t.id,plotlydivId:t.name+t.index,compareId:t.compareId,compareType:t.compareType,compareLayout:t.compareLayout,compareName:t.compareName,bindXValue:t.bindXValue,bindYValue:t.bindYValue,flagType:t.flagType,type:t.type}})],1)})],2)],1)},staticRenderFns:[]};var Ht=a("VU/8")(Wt,Bt,!1,function(t){a("4Oed")},null,null).exports,Ut=(a("z0qe"),{data:function(){return{mytitle:null,tabValue:"",authorityManage:!1,userManage:!1,logManage:!1,currentTime:"",panelIsHide:!1,switchBtnLeft:220}},methods:{switchToWorkspace:function(t){this.tabValue="工作区",this.$store.state.Global.workspaceRouter=t,this.$router.push(t)},handleTabRemove:function(t){this[t]=!1},getCurrentTime:function(){var t,e,a,i,l;t=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"];var o=new Date;a=o.getFullYear(),i=o.getMonth()+1,l=o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),e=o.getDay(),this.currentTime=a+"年"+i+"月"+l+"日  "+t[e]},nowTimes:function(){this.getCurrentTime()},switchPanelBtn:function(){this.panelIsHide=!this.panelIsHide,1==this.panelIsHide?(this.switchBtnLeft=0,this.$store.state.Global.showLayerPanelFlag=!1):(this.switchBtnLeft=220,this.$store.state.Global.showLayerPanelFlag=!0)}},computed:{getCurrentPercent:function(){return this.$store.state.Global.percent>100?100:this.$store.state.Global.percent<0?0:this.$store.state.Global.percent},getFlag:function(){return this.$store.state.Global.showLayerPanelFlag},getProgressBarVisible:function(){return this.$store.state.Global.progressVisible},getPanelHeight:function(){return 0==this.$store.state.Global.screenHeight?document.body.clientHeight-140:this.$store.state.Global.screenHeight-140},getPanelWidth:function(){return 1==this.panelIsHide?0==this.$store.state.Global.screenWidth?document.body.clientWidth:this.$store.state.Global.screenWidth:0==this.$store.state.Global.screenWidth?document.body.clientWidth-250:this.$store.state.Global.screenWidth-250},getCurActiveTab:function(){return this.$store.state.Global.activeTabValue},getSharingProductionsManage:function(){return this.$store.state.Global.sharingProductionsManage},getCurrentWidth:function(){return document.body.clientWidth}},watch:{tabValue:function(t,e){this.$store.state.Global.activeTabValue=t},getCurActiveTab:function(t,e){this.tabValue=t}},created:function(){this.tabValue=this.$store.state.Global.activeTabValue},mounted:function(){var t=this;this.nowTimes(),this.$store.state.Global.screenWidth=document.body.clientWidth,this.$store.state.Global.screenHeight=document.body.clientHeight,window.onresize=function(){t.$store.state.Global.map2DHandler.updateSize()},o.a.treeWorkSpace[0].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.label"),o.a.treeWorkSpace[0].children[0].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.children.label1"),o.a.treeWorkSpace[0].children[1].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.children.label2"),o.a.treeWorkSpace[0].children[2].label=window.vm.$i18n.t("tree_2dmap.treeWorkSpace.children.label3"),o.a.treeData2d[0].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.mapLabel"),o.a.treeData2d[1].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.workLabel"),o.a.treeData2d[0].children[0].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.WFS"),o.a.treeData2d[0].children[1].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.WMS"),o.a.treeData2d[0].children[2].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.WMTS"),o.a.treeData2d[0].children[2].children[0].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.imageLabel"),o.a.treeData2d[0].children[2].children[1].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.vectorLabel"),o.a.treeData2d[0].children[2].children[2].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.taggingLabel"),o.a.treeData2d[0].children[2].children[3].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.chinaLabel"),o.a.treeData2d[0].children[2].children[4].label=window.vm.$i18n.t("tree_2dmap.treeData_2D.children.children.asiaLabel")},components:{Map2D:C,Map3D:T,LayerPanel:Y,CommonHeader:X.a,FirstLevelMenu:Z.a,wsDefaultPage:Ht}}),qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"100%"}},[a("el-header",{staticStyle:{padding:"0px"},attrs:{height:"110px"}},[a("CommonHeader"),t._v(" "),a("FirstLevelMenu",{staticStyle:{"margin-top":"80px"}})],1),t._v(" "),a("el-container",{staticStyle:{height:"100%"}},[this.getFlag?a("el-aside",{staticStyle:{width:"250px"},attrs:{isHide:t.panelIsHide}},[a("LayerPanel")],1):t._e(),t._v(" "),a("el-button",{style:{padding:"7px 8px",position:"absolute",top:"50%",left:t.switchBtnLeft+"px",cursor:"pointer",zIndex:100},attrs:{title:"展开/收缩"},on:{click:this.switchPanelBtn}},[a("i",{staticClass:"el-icon-d-arrow-left",class:{"my-transform":t.panelIsHide}})]),t._v(" "),a("el-container",{staticStyle:{height:"100%"}},[a("el-main",{staticStyle:{padding:"0"},attrs:{id:"mainViewTabs"}},[a("Tabs",{attrs:{type:"card",size:"small"},on:{"on-tab-remove":t.handleTabRemove},model:{value:t.tabValue,callback:function(e){t.tabValue=e},expression:"tabValue"}},[a("TabPane",{attrs:{label:"三维地图",name:"三维地图",id:"map3DTab"}},[a("Map3D",{style:{height:t.getPanelHeight+"px"}})],1),t._v(" "),a("TabPane",{attrs:{label:"二维地图",name:"二维地图",id:"map2DTab"}},[a("Map2D",{style:{height:t.getPanelHeight+"px",width:t.getPanelWidth+"px"}})],1),t._v(" "),a("TabPane",{style:{height:t.getPanelHeight+"px"},attrs:{label:"工作区",name:"工作区"}},[a("wsDefaultPage")],1)],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0",height:"30px","line-height":"30px","font-size":"12px",border:"1px solid #DCDFE6"}},[a("span",{staticStyle:{float:"right","margin-right":"20px"}},[a("a",{attrs:{target:"_blank",href:"http://beian.miit.gov.cn"}},[t._v("京ICP备19052361号")]),t._v("   当前日期："+t._s(t.currentTime)+"\n            ")]),t._v(" "),this.getProgressBarVisible?a("div",{staticStyle:{position:"relative","margin-right":"40px",float:"right"}},[a("span",{staticStyle:{float:"left"}},[t._v("处理进度：")]),t._v(" "),a("div",{staticStyle:{float:"left",width:"200px","margin-left":"-13px"}},[a("Progress",{attrs:{percent:t.getCurrentPercent,status:"active"}})],1)]):t._e()])],1)],1)],1)},staticRenderFns:[]};var Yt=a("VU/8")(Ut,qt,!1,function(t){a("XmVr")},null,null);e.default=Yt.exports},"W+ao":function(t,e){},W0MU:function(t,e){},W7QJ:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n .layerControlWrap {\n     height: 100%;\n     -webkit-transition: all 0.5s;\n     transition: all 0.5s;\n     width: 250px;\n     position: relative;\n     left: 0px;\n     background: #fff;\n     border-right: 1px solid #d7dae2;\n     border-radius: 4px;\n }\n\n\n\n #layout .el-tabs__item {\n     height: 30px;\n     line-height: 30px;\n     font-size: 12px\n }\n\n\n\n #layout .el-tabs--bottom .el-tabs__header.is-bottom {\n     margin-top: 0\n }\n\n\n\n /******工作区折叠和展开顶部操作菜单的样式，公共样式 start*********/\n\n\n\n .headerOpeBanner {\n     position: absolute;\n     z-index: 100;\n     text-align: left;\n }\n\n\n\n .switchContainer {\n     display: inline-block;\n     margin: 10px;\n     position:absolute;\n     z-index:104;\n }\n\n\n\n .operationContainer {\n     margin: 20px;\n     display: inline-block;\n }\n\n\n\n .counterMenuGroup {\n   height: 10px;\n   margin: 10px;\n }\n\n\n\n .operationContainerWrap {\n     position: absolute;\n     left:100px;\n     -webkit-transition: width .3s;\n     transition: width .3s;\n     background: #fff;\n }\n\n\n\n /******工作区折叠和展开顶部操作菜单的样式，end*********/\n\n\n",""])},XC4x:function(t,e){},XXN1:function(t,e){},Xc4G:function(t,e,a){var i=a("lktj"),l=a("1kS7"),o=a("NpIQ");t.exports=function(t){var e=i(t),a=l.f;if(a)for(var n,s=a(t),r=o.f,c=0;s.length>c;)r.call(t,n=s[c++])&&e.push(n);return e}},XgCd:function(t,e,a){"use strict";var i=String.prototype.replace,l=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return i.call(t,l,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},XmVr:function(t,e){},Xpx3:function(t,e){},YGlj:function(t,e){},YL5P:function(t,e){},Yh2f:function(t,e){},Yobk:function(t,e,a){var i=a("77Pl"),l=a("qio6"),o=a("xnc9"),n=a("ax3d")("IE_PROTO"),s=function(){},r=function(){var t,e=a("ON07")("iframe"),i=o.length;for(e.style.display="none",a("RPLV").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),r=t.F;i--;)delete r.prototype[o[i]];return r()};t.exports=Object.create||function(t,e){var a;return null!==t?(s.prototype=i(t),a=new s,s.prototype=null,a[n]=t):a=r(),void 0===e?a:l(a,e)}},Zzip:function(t,e,a){t.exports={default:a("/n6Q"),__esModule:!0}},aZgk:function(t,e){},auU0:function(t,e){},bOdI:function(t,e,a){"use strict";e.__esModule=!0;var i,l=a("C4MV"),o=(i=l)&&i.__esModule?i:{default:i};e.default=function(t,e,a){return e in t?(0,o.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},bRrM:function(t,e,a){"use strict";var i=a("7KvD"),l=a("FeBl"),o=a("evD5"),n=a("+E39"),s=a("dSzd")("species");t.exports=function(t){var e="function"==typeof l[t]?l[t]:i[t];n&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},bZVH:function(t,e){},bbmn:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,'.ol-box {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid blue;\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n}\n\n.ol-overlay-container {\n  will-change: left,right,top,bottom;\n}\n\n.ol-unsupported {\n  display: none;\n}\n\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: auto;\n  -moz-user-select: auto;\n  -ms-user-select: auto;\n  user-select: auto;\n}\n\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  -webkit-transition: opacity .25s linear, visibility 0s linear;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  -webkit-transition: opacity .25s linear, visibility 0s linear .25s;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n@media print {\n  .ol-control {\n    display: none;\n  }\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-size: 1.14em;\n  font-weight: bold;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 0 .5em;\n  font-size: .7rem;\n  line-height: 1.375em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n}\n\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n  line-height: inherit;\n}\n\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n\n.ol-attribution ul, .ol-attribution button {\n  display: inline-block;\n}\n\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n\n.ol-attribution.ol-logo-only ul {\n  display: block;\n}\n\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n  height: 1.1em;\n  line-height: 1em;\n}\n\n.ol-attribution.ol-logo-only {\n  background: transparent;\n  bottom: .4em;\n  height: 1.1em;\n  line-height: 1em;\n}\n\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n\n.ol-attribution.ol-logo-only button,\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: inline-block;\n}\n\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n\n.ol-overviewmap:not(.ol-collapsed) button{\n  bottom: 1px;\n  left: 2px;\n  position: absolute;\n}\n\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',""])},"c/Tr":function(t,e,a){t.exports={default:a("5zde"),__esModule:!0}},crlp:function(t,e,a){var i=a("7KvD"),l=a("FeBl"),o=a("O4g8"),n=a("Kh4W"),s=a("evD5").f;t.exports=function(t){var e=l.Symbol||(l.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:n.f(t)})}},czsP:function(t,e){},dHmz:function(t,e){},dSzd:function(t,e,a){var i=a("e8AB")("wks"),l=a("3Eo+"),o=a("7KvD").Symbol,n="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=n&&o[t]||(n?o:l)("Symbol."+t))}).store=i},dY0y:function(t,e,a){var i=a("dSzd")("iterator"),l=!1;try{var o=[7][i]();o.return=function(){l=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!l)return!1;var a=!1;try{var o=[7],n=o[i]();n.next=function(){return{done:a=!0}},o[i]=function(){return n},t(o)}catch(t){}return a}},e6n0:function(t,e,a){var i=a("evD5").f,l=a("D2L2"),o=a("dSzd")("toStringTag");t.exports=function(t,e,a){t&&!l(t=a?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},ebnN:function(t,e){},enL2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),o=a("/sA3"),n=a("ZpFI"),s={components:{imageExport:a("Yaes").a},props:["dataId","plotlydivId"],data:function(){return{imageFlag:!1,switch_Lines:!0,contourLineSetting:!0,isColourLevelSettingsVisible:!1,colourLevel:[{value:"Rainbow",img:a("aMwd")}],customColor:["#9966FF","#0000FF","#00FF00","#FFFF00","#FF6600","#FF0000"],valueForColor:[],colorData:[],colourLevelModel:"",plotlydiv:null,figure:{title:"专题图名称",xtitle:"Distance/（m）",y1title:"Distance/（m）"},mode_text:"",isFigureVisible:!1,modal1:!1,xlxs_col:[],xlxs_json:[],selectX:"",selectY:"",selectField:"",xGrid:100,yGrid:100,xmin:99999,xmax:0,ymin:99999,ymax:0,plot_data:[{x:[],y:[],values:[],autoscale:!0,zmax:"",zmin:"",type:"scattergl",colorscale:"RdBu",text:[],textposition:"bottom center",mode:"markers"}],layout:{xaxis:{exponentformat:"none",autorange:"false",showline:!0,mirror:"allticks"},yaxis:{exponentformat:"none",autorange:"false",scaleanchor:"x",mirror:"allticks",showline:!0},margin:{t:50,b:80,l:80,r:0},title:window.vm.$i18n.t("pointMap.title"),height:this.getHeight(),width:this.getWidth()},options:{editable:!1},switchOpeConFlag:"展开",dataFromStore:null}},methods:{changeField:function(t){var e=this.xlxs_json;this.plot_data[0].text=[];for(var a=0;a<e.length;a++)this.plot_data[0].text.push(e[a][t].toString());this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},change_mode:function(t){var e=void 0;1==t?(0==this.plot_data[0].text.length&&this.$Message.error(window.vm.$i18n.t("pointMap.message")),e={mode:"markers+text"}):e={mode:"markers"};this.$Plotly.update(this.plotlydiv,e,{},0)},switch_cLines:function(t){1==t?(this.$Message.info(window.vm.$i18n.t("pointMap.message1")),this.layout.xaxis.showline=!0,this.layout.yaxis.showline=!0):(this.$Message.info(window.vm.$i18n.t("pointMap.message2")),this.layout.xaxis.showline=!1,this.layout.yaxis.showline=!1),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},changeColourLevel:function(t){this.colourLevelModel=t},applyColourLevelSettings:function(){for(var t=0;t<6;t++)this.colorData.push({value:this.valueForColor[t],color:this.customColor[t]});this.projectTo2D()},changeX:function(t){this.plot_data[0].x=[],this.xmin=this.xlxs_json[0][t],this.xmax=this.xlxs_json[0][t];for(var e,a=0;e=this.xlxs_json[a];a++)this.plot_data[0].x.push(e[t]),this.xmin=this.xmin<e[t]?this.xmin:e[t],this.xmax=this.xmax>e[t]?this.xmax:e[t];this.reLayout(),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},changeY:function(t){this.plot_data[0].y=[],this.ymin=this.xlxs_json[0][t],this.ymax=this.xlxs_json[0][t];for(var e,a=0;e=this.xlxs_json[a];a++)this.plot_data[0].y.push(e[t]),this.ymin=this.ymin<e[t]?this.ymin:e[t],this.ymax=this.ymax>e[t]?this.ymax:e[t];this.reLayout(),this.$Plotly.react(this.plotlydiv,this.plot_data,this.layout)},reLayout:function(){var t=this.getWidth()-80,e=this.getHeight()-130,a=this.xmax-this.xmin,i=this.ymax-this.ymin;if(a/i<=t/e){var l=(t-e*a/i)/2;this.layout.margin.l=80+l,this.layout.margin.r=l,this.layout.margin.t=50,this.layout.margin.b=80}else{var o=(e-t*i/a)/2;this.layout.margin.t=50+o,this.layout.margin.b=80+o,this.layout.margin.l=80,this.layout.margin.r=0}},changeV:function(t){this.plot_data[0].values=[],this.plot_data[0].zmin=this.xlxs_json[0][t],this.plot_data[0].zmax=this.xlxs_json[0][t];for(var e,a=0;e=this.xlxs_json[a];a++)this.plot_data[0].values.push(e[t]),this.plot_data[0].zmin=this.plot_data[0].zmin<e[t]?this.plot_data[0].zmin:e[t],this.plot_data[0].zmax=this.plot_data[0].zmax>e[t]?this.plot_data[0].zmax:e[t]},cancel:function(){},changeColor:function(t){this.plot_data[0].colorscale=t},getWidth:function(){return window.innerWidth-280},getHeight:function(){return window.innerHeight-200},initPage:function(){var t=this.dataId;void 0!=t&&o.a.getJsonFromDatabase(t,this.initPointMap)},initPointMap:function(t){this.$store.state.Global.thematicParams.length>0&&(t.bindX=this.$store.state.Global.thematicParams[0].x,t.bindY=this.$store.state.Global.thematicParams[0].y,this.selectField=this.$store.state.Global.thematicParams[0].p);var e=[],a=[],i=t.data,l=Math.ceil(i.length/5);for(var o in this.xlxs_json=t.data,this.dataFromStore=t,this.xlxs_col=[],i[0])this.xlxs_col.push(o);this.xmin=i[0][t.bindX],this.ymin=i[0][t.bindY],this.xmax=i[0][t.bindX],this.ymax=i[0][t.bindY],this.plot_data[0].zmin=i[0].P,this.plot_data[0].zmax=i[0].P;for(var n,s=0;n=i[s];s++)s%l!=0&&s!=i.length-1||this.valueForColor.push(i[s].P),e.push(n[t.bindX]),a.push(n[t.bindY]),this.xmin=this.xmin<n[t.bindX]?this.xmin:n[t.bindX],this.ymin=this.ymin<n[t.bindY]?this.ymin:n[t.bindY],this.xmax=this.xmax>n[t.bindX]?this.xmax:n[t.bindX],this.ymax=this.ymax>n[t.bindY]?this.ymax:n[t.bindY];this.selectX=t.bindX,this.selectY=t.bindY,this.plot_data[0].x=e,this.plot_data[0].y=a,this.reLayout(),this.plotlydiv=document.getElementById(this.plotlydivId),this.$Plotly.newPlot(this.plotlydiv,this.plot_data,this.layout,{displaylogo:!1})},switchOpeStatus:function(){"展开"==this.switchOpeConFlag?(this.$refs.opeConRef.style.width="0",this.$refs.opeConRef.style.overflow="hidden",this.switchOpeConFlag="隐藏"):"隐藏"==this.switchOpeConFlag&&(this.$refs.opeConRef.style.width="unset",this.$refs.opeConRef.style.overflow="unset",this.switchOpeConFlag="展开")},projectToMap:function(t){""!=this.selectField?"projectTo2D"==t?this.isColourLevelSettingsVisible=!0:this.projectTo3D():this.$Notice.warning({title:window.vm.$i18n.t("layer.tips"),desc:window.vm.$i18n.t("pointMap.message3")})},projectTo2D:function(){var t=this;"Null"==t.dataFromStore.spatialReference&&o.a.getJsonFromDatabase(t.dataId,function(e){t.dataFromStore=e,"Null"!=t.dataFromStore.spatialReference||t.$message({type:"warning",message:window.vm.$i18n.t("message.noCoornate")})}),o.a.changeSpatialReference(t.dataFromStore.spatialReference);var e,a=[],i=void 0,s=[],r=[];e=Math.ceil(t.dataFromStore.data.length/t.customColor.length);for(var c=0,d=t.dataFromStore.data.length;c<d;c++)r.push(parseFloat(t.dataFromStore.data[c][t.selectField]));r.sort(function(t,e){return t-e});var u=1;for(d=t.customColor.length;u<=d;u++)u==d?s.push(parseFloat(r[r.length-1])):s.push(parseFloat(r[u*e-1]));s.sort(function(t,e){return t-e});for(var p=0;p<t.dataFromStore.data.length;p++){var h=t.dataFromStore.data[p],m=[h[t.selectX],h[t.selectY]],g=t.ol.proj.transform(m,t.dataFromStore.spatialReference,"EPSG:4326"),f=new t.ol.Feature({geometry:new t.ol.geom.Point(g),name:t.selectField+": "+(1*h[t.selectField]).toFixed(2)}),v=0;for(d=t.customColor.length;v<d;v++)if(parseFloat(h[t.selectField])<=s[v]){i=t.customColor[v];break}f.setStyle(new t.ol.style.Style({text:new t.ol.style.Text({text:t.selectField+": "+(1*h[t.selectField]).toFixed(2),offsetX:30,offsetY:-10,fill:new t.ol.style.Fill({color:i})}),image:new t.ol.style.Circle({radius:3,fill:new t.ol.style.Fill({color:i})})})),a.push(f)}var b=n.a.treeData2d[1].children.map(function(t){return t.id});b.sort(function(t,e){return t-e});var y=100+Math.floor(10*Math.random());0!=b.length&&(y=b[b.length-1]+1);var _=new t.ol.source.Vector,x=new t.ol.layer.Vector({source:_,id:y});t.$store.state.Global.map2DHandler.addLayer(x),_.addFeatures(a),t.$store.state.Global.map2DHandler.getView().fit(_.getExtent());var w=(new t.ol.format.GeoJSON).writeFeatures(a),C={};C.id=y,C.layerObj=_,C.label=window.vm.$i18n.t("pointMap.title")+"_"+t.dataFromStore.displayName,C.geometry="point",C.shareObj={json:w,colorConfig:l()(s)},n.a.treeData2d[1].children.push(C),t.$store.state.Global.twoDTempLayers.push(x),t.$nextTick(function(){t.$store.state.Global.twoDLayerTree.setChecked(y,!0,!1)}),t.$store.state.Global.activeTabValue="二维地图"},openFigureTable:function(){this.isFigureVisible=!0},changeFigure:function(){var t={title:this.figure.title,"xaxis.title":this.figure.xtitle,"yaxis.title":this.figure.y1title};this.$Plotly.relayout(this.plotlydiv,t)},showModal:function(){this.imageFlag=!0},closeModal:function(t){this.imageFlag=t}},watch:{},computed:{thematicFlag:function(){return this.$store.state.Global.thematicFlag}},mounted:function(){this.initPage()}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("div",{staticClass:"headerOpeBanner"},[a("el-button",{staticClass:"switchContainer",staticStyle:{padding:"5px 10px"},attrs:{plain:"",size:"mini",title:"菜单 展开/收缩"},on:{click:t.switchOpeStatus}},[a("i",{staticClass:"el-icon-arrow-left",class:{transition:"展开"!=this.switchOpeConFlag}})]),t._v(" "),a("div",{ref:"opeConRef",staticClass:"operationContainerWrap"},[a("div",{staticClass:"counterMenuGroup operationContainer",style:{width:.7*this.getWidth()+"px"}},[t._v("\n          X："),a("Select",{staticStyle:{width:"80px","margin-right":"5px"},on:{"on-change":t.changeX},model:{value:t.selectX,callback:function(e){t.selectX=e},expression:"selectX"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1),t._v("\n          Y："),a("Select",{staticStyle:{width:"80px","margin-right":"5px"},on:{"on-change":t.changeY},model:{value:t.selectY,callback:function(e){t.selectY=e},expression:"selectY"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1),t._v("\n          "+t._s(t.$t("pointMap.projection"))+" "),a("Select",{staticStyle:{width:"80px","margin-right":"5px"},on:{"on-change":t.changeField},model:{value:t.selectField,callback:function(e){t.selectField=e},expression:"selectField"}},t._l(t.xlxs_col,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1),t._v(" "),a("Dropdown",{on:{"on-click":t.projectToMap}},[a("el-button",{staticStyle:{width:"80px","margin-right":"10px","margin-top":"1px",height:"30px"},attrs:{size:"mini",type:"primary"}},[t._v("\n                "+t._s(t.$t("pointMap.project"))+"\n                "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"projectTo2D"}},[t._v(t._s(t.$t("pointMap.projectTo2D")))])],1)],1),t._v(" "),t.thematicFlag?a("el-button",{staticStyle:{width:"80px","margin-right":"10px","margin-top":"1px",height:"30px"},attrs:{type:"primary",size:"mini"},on:{click:t.openFigureTable}},[t._v(t._s(t.$t("pointMap.styleModify.title"))+"\n          ")]):t._e(),t._v(" "),a("span",[t.contourLineSetting?a("span",[t._v("\n                    "+t._s(t.$t("pointMap.outline"))+"\n                    "),a("i-switch",{on:{"on-change":t.switch_cLines},model:{value:t.switch_Lines,callback:function(e){t.switch_Lines=e},expression:"switch_Lines"}})],1):t._e()]),t._v(" "),a("span",[t._v("\n                    "+t._s(t.$t("pointMap.taggingShow"))+"\n                    "),a("i-switch",{on:{"on-change":t.change_mode},model:{value:t.mode_text,callback:function(e){t.mode_text=e},expression:"mode_text"}})],1),t._v("\n           \n          "),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.showModal}},[t._v("\n            "+t._s(t.$t("pointMap.exportImage"))+"\n          ")])],1),t._v(" "),a("Modal",{attrs:{cancelText:t.$t("button.cancel"),okText:t.$t("button.ok"),draggable:"",title:t.$t("pointMap.styleModify.title"),width:"420"},on:{"on-ok":t.changeFigure},model:{value:t.isFigureVisible,callback:function(e){t.isFigureVisible=e},expression:"isFigureVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("pointMap.styleModify.name")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.title,callback:function(e){t.$set(t.figure,"title",e)},expression:"figure.title"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("pointMap.styleModify.X1Title")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.xtitle,callback:function(e){t.$set(t.figure,"xtitle",e)},expression:"figure.xtitle"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("pointMap.styleModify.Y1Title")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.y1title,callback:function(e){t.$set(t.figure,"y1title",e)},expression:"figure.y1title"}})],1)],1)],1)],1),t._v(" "),a("Modal",{attrs:{draggable:"",title:t.$t("point.colorSetTitle"),width:"420"},on:{"on-ok":t.applyColourLevelSettings},model:{value:t.isColourLevelSettingsVisible,callback:function(e){t.isColourLevelSettingsVisible=e},expression:"isColourLevelSettingsVisible"}},[a("Row",{staticStyle:{margin:"5px",border:"solid aliceblue 1px",padding:"5px"}},[a("Col",{attrs:{span:"8"}},[a("P",{staticStyle:{"font-size":"15px","margin-top":"5px"}},[t._v(t._s(t.$t("point.colorSet")))])],1),t._v(" "),a("Col",[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.changeColourLevel},model:{value:t.colourLevelModel,callback:function(e){t.colourLevelModel=e},expression:"colourLevelModel"}},t._l(t.colourLevel,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[a("img",{attrs:{src:e.img}}),t._v(t._s(e.value))])}),1)],1)],1)],1)],1)],1),t._v(" "),a("Content",{style:{background:"#fff"}},[a("div",{attrs:{id:t.plotlydivId}})])],1),t._v(" "),a("imageExport",{attrs:{imageConfigShow:t.imageFlag,plotlyDiv:t.plotlydiv},on:{closeModal:t.closeModal}})],1)},staticRenderFns:[]};var c=a("VU/8")(s,r,!1,function(t){a("qjou")},"data-v-953dd39e",null);e.default=c.exports},fBQ2:function(t,e,a){"use strict";var i=a("evD5"),l=a("X8DO");t.exports=function(t,e,a){e in t?i.f(t,e,l(0,a)):t[e]=a}},fWfb:function(t,e,a){"use strict";var i=a("7KvD"),l=a("D2L2"),o=a("+E39"),n=a("kM2E"),s=a("880/"),r=a("06OY").KEY,c=a("S82l"),d=a("e8AB"),u=a("e6n0"),p=a("3Eo+"),h=a("dSzd"),m=a("Kh4W"),g=a("crlp"),f=a("Xc4G"),v=a("7UMu"),b=a("77Pl"),y=a("EqjI"),_=a("sB3e"),x=a("TcQ7"),w=a("MmMw"),C=a("X8DO"),D=a("Yobk"),k=a("Rrel"),$=a("LKZe"),S=a("1kS7"),F=a("evD5"),T=a("lktj"),M=$.f,L=F.f,z=k.f,A=i.Symbol,G=i.JSON,N=G&&G.stringify,P=h("_hidden"),I=h("toPrimitive"),V={}.propertyIsEnumerable,E=d("symbol-registry"),O=d("symbols"),R=d("op-symbols"),j=Object.prototype,W="function"==typeof A&&!!S.f,B=i.QObject,H=!B||!B.prototype||!B.prototype.findChild,U=o&&c(function(){return 7!=D(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,a){var i=M(j,e);i&&delete j[e],L(t,e,a),i&&t!==j&&L(j,e,i)}:L,q=function(t){var e=O[t]=D(A.prototype);return e._k=t,e},Y=W&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},X=function(t,e,a){return t===j&&X(R,e,a),b(t),e=w(e,!0),b(a),l(O,e)?(a.enumerable?(l(t,P)&&t[P][e]&&(t[P][e]=!1),a=D(a,{enumerable:C(0,!1)})):(l(t,P)||L(t,P,C(1,{})),t[P][e]=!0),U(t,e,a)):L(t,e,a)},Z=function(t,e){b(t);for(var a,i=f(e=x(e)),l=0,o=i.length;o>l;)X(t,a=i[l++],e[a]);return t},J=function(t){var e=V.call(this,t=w(t,!0));return!(this===j&&l(O,t)&&!l(R,t))&&(!(e||!l(this,t)||!l(O,t)||l(this,P)&&this[P][t])||e)},K=function(t,e){if(t=x(t),e=w(e,!0),t!==j||!l(O,e)||l(R,e)){var a=M(t,e);return!a||!l(O,e)||l(t,P)&&t[P][e]||(a.enumerable=!0),a}},Q=function(t){for(var e,a=z(x(t)),i=[],o=0;a.length>o;)l(O,e=a[o++])||e==P||e==r||i.push(e);return i},tt=function(t){for(var e,a=t===j,i=z(a?R:x(t)),o=[],n=0;i.length>n;)!l(O,e=i[n++])||a&&!l(j,e)||o.push(O[e]);return o};W||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(a){this===j&&e.call(R,a),l(this,P)&&l(this[P],t)&&(this[P][t]=!1),U(this,t,C(1,a))};return o&&H&&U(j,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",function(){return this._k}),$.f=K,F.f=X,a("n0T6").f=k.f=Q,a("NpIQ").f=J,S.f=tt,o&&!a("O4g8")&&s(j,"propertyIsEnumerable",J,!0),m.f=function(t){return q(h(t))}),n(n.G+n.W+n.F*!W,{Symbol:A});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),at=0;et.length>at;)h(et[at++]);for(var it=T(h.store),lt=0;it.length>lt;)g(it[lt++]);n(n.S+n.F*!W,"Symbol",{for:function(t){return l(E,t+="")?E[t]:E[t]=A(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in E)if(E[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),n(n.S+n.F*!W,"Object",{create:function(t,e){return void 0===e?D(t):Z(D(t),e)},defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var ot=c(function(){S.f(1)});n(n.S+n.F*ot,"Object",{getOwnPropertySymbols:function(t){return S.f(_(t))}}),G&&n(n.S+n.F*(!W||c(function(){var t=A();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,a,i=[t],l=1;arguments.length>l;)i.push(arguments[l++]);if(a=e=i[1],(y(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!Y(e))return e}),i[1]=e,N.apply(G,i)}}),A.prototype[I]||a("hJx8")(A.prototype,I,A.prototype.valueOf),u(A,"Symbol"),u(Math,"Math",!0),u(i.JSON,"JSON",!0)},gOvZ:function(t,e){},h65t:function(t,e,a){var i=a("UuGF"),l=a("52gC");t.exports=function(t){return function(e,a){var o,n,s=String(l(e)),r=i(a),c=s.length;return r<0||r>=c?t?"":void 0:(o=s.charCodeAt(r))<55296||o>56319||r+1===c||(n=s.charCodeAt(r+1))<56320||n>57343?t?s.charAt(r):o:t?s.slice(r,r+2):n-56320+(o-55296<<10)+65536}}},hPqZ:function(t,e,a){"use strict";var i=a("mvHQ"),l=a.n(i),o=a("7t+N"),n=a.n(o),s=a("t4zo"),r=a.n(s),c=a("/sA3"),d=a("ZpFI"),u={props:["name"],data:function(){return{file:null,fileList:[],mapconfig:d.a,currentFile:"",dialogVisible:!0,spatialReferences:d.a.spatialReferences,colNames:[],selectedColX:"",selectedColY:"",spatialReLabel:this.$t("importLocalDataPop.undefined"),currentSpatilReference:"Null",radioValue:"grd",preViewFlag:"",preView:"",rows:[],startRow:0,rowCount:0,data:[],separation:"",accept:""}},methods:{handleUpload:function(t){var e=this,a=t.name;if(-1==a.indexOf("xls")&&-1==a.indexOf("xlsx")||(this.radioValue="excel",c.a.getColumnNamesFromXls(t,function(t){t.forEach(function(t){e.colNames.push({label:t,value:t})}),e.colNames.length>1&&(e.selectedColX=e.colNames[0].value,e.selectedColY=e.colNames[1].value)})),-1!=a.indexOf("grd")&&(this.radioValue="grd"),-1!=a.indexOf(".dat")||-1!=a.indexOf(".txt")||-1!=a.indexOf(".csv")||-1!=a.indexOf(".xyz")){this.radioValue=a.substring(a.lastIndexOf(".")+1);var i=new FormData;i.append("multipartFile",t),e.axios.post(WebConfig.ServicesUrl+"/preView",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){0==t.data.retCode?(e.preView=t.data.data.preView,e.rowCount=t.data.data.rowCount):e.$Message.error(t.data.message)})}-1!=a.indexOf("xyzval")&&(this.radioValue="xyzval"),this.file=t,setTimeout(1e3,void(e.currentFile=e.file.name))},enterStartRow:function(){var t=this,e=new FormData;e.append("multipartFile",this.file),e.append("startLineNumber",this.startRow),e.append("rowCount",this.rowCount),t.axios.post(WebConfig.ServicesUrl+"/backData",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){0==e.data.retCode?(t.separation=e.data.data.separation,t.rows=e.data.data.row,t.data=e.data.data.data):t.$Message.error(e.data.message)})},handleClose:function(){return this.file=null,this.currentFile="",this.dialogVisible=!1,this.$emit("inputMess"),!1},spatialReferenceChange:function(t){this.currentSpatilReference=t},handleOK:function(){var t=this;if(""!=t.spatialReLabel){if("dat"==this.radioValue||"txt"==this.radioValue||"csv"==this.radioValue||"xyz"==this.radioValue){if(0==t.startRow)return void t.$message({type:"warning",message:window.vm.$i18n.t("importLocalDataPop.alert.startRowError")});for(var e=0;e<t.rows.length;e++)if(null==t.rows[e]||""==t.rows[e].trim())return void t.$message({type:"warning",message:window.vm.$i18n.t("importLocalDataPop.alert.rowError")});if(""==t.selectedColX.trim()||""==t.selectedColY.trim())return void t.$message({type:"warning",message:window.vm.$i18n.t("importLocalDataPop.alert.startRowError")})}if(t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),this.file){var a={};a.spatialReference=t.currentSpatilReference,a.type=t.radioValue,a.bindX=t.selectedColX,a.bindY=t.selectedColY,a.data=t.data,a.field=t.rows,a.separation=t.separation,c.a.getJsonFromFile(this.file,a,function(){c.a.getAllJsonFromDatabase(function(e){if(t.mapconfig.treeWorkSpace[0].children[0].children.length=0,t.mapconfig.treeWorkSpace[0].children[1].children.length=0,t.mapconfig.treeWorkSpace[0].children[2].children.length=0,e.length>0){for(var a=0;a<e.length;a++)if(e[a].isExecuted)e[a].isView?t.mapconfig.treeWorkSpace[0].children[0].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid,isView:e[a].isView}):t.mapconfig.treeWorkSpace[0].children[1].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid,isView:e[a].isView});else{var i=e[a].datatype;"xls"==i||"xlsx"==i?t.mapconfig.treeWorkSpace[0].children[0].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid}):"dat"==i||"txt"==i||"csv"==i||"xyz"==i?t.mapconfig.treeWorkSpace[0].children[0].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid}):"grd"==i?t.mapconfig.treeWorkSpace[0].children[1].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid,isView:e[a].isView}):"xyzval"==i?t.mapconfig.treeWorkSpace[0].children[2].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid}):"shp"==i?t.mapconfig.treeWorkSpace[0].children[2].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid}):t.mapconfig.treeWorkSpace[0].children[3].children.push({label:e[a].displayName,datatype:e[a].datatype,guid:e[a].guid})}t.$message({type:"success",message:window.vm.$i18n.t("importLocalDataPop.alert.successMessage")})}})}),this.handleClose()}else this.$message({type:"warning",message:window.vm.$i18n.t("importLocalDataPop.alert.warnMessage")});t.radioValue=""}else t.$message({type:"warning",message:window.vm.$i18n.t("importLocalDataPop.alert.selectCoordinate")})}},watch:{rows:function(t,e){var a=this;this.colNames=[],t.forEach(function(t){a.colNames.push({label:t,value:t})})}},mounted:function(){switch(this.name){case"数据表":this.accept=".dat,.txt,.xyz,.csv,.xlsx,.xls";break;case"网格":this.accept=".grd";break;case"三维":this.accept=".xyzval"}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("importLocalDataPop.title"),visible:t.dialogVisible,width:"550px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:3}}),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:"","before-upload":t.handleUpload,"show-file-list":!1,accept:t.accept,drag:""},model:{value:t.currentFile,callback:function(e){t.currentFile=e},expression:"currentFile"}},[a("el-alert",{attrs:{title:t.$t("importTips.tips"),type:"success",closable:!1}}),t._v(" "),a("i",{staticClass:"el-icon-upload",staticStyle:{height:"20px","margin-top":"15px"}}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v(t._s(t.$t("importTips.uploadTip1"))),a("em",[t._v(t._s(t.$t("importTips.uploadTip2")))]),t._v(" "),a("div",[t._v(t._s(t.$t("importTips.file"))+t._s(this.currentFile))])])],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("importLocalDataPop.setCoordinate")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{placeholder:"请输入关键字搜索或选择",size:"small",filterable:""},on:{change:t.spatialReferenceChange},model:{value:t.spatialReLabel,callback:function(e){t.spatialReLabel=e},expression:"spatialReLabel"}},t._l(t.spatialReferences,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1)],1),t._v(" "),"excel"==t.radioValue?a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("importLocalDataPop.setX")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},model:{value:t.selectedColX,callback:function(e){t.selectedColX=e},expression:"selectedColX"}},t._l(t.colNames,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("importLocalDataPop.setY")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},model:{value:t.selectedColY,callback:function(e){t.selectedColY=e},expression:"selectedColY"}},t._l(t.colNames,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1):t._e(),t._v(" "),"dat"==t.radioValue||"txt"==t.radioValue||"csv"==t.radioValue||"xyz"==t.radioValue?a("div",{staticStyle:{height:"300px"}},[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{offset:1,span:5}},[a("label",[t._v(t._s(t.$t("importLocalDataPop.preview")))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("div",[a("el-col",{attrs:{span:20}},[a("pre",{staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.preView)}})])],1)]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{offset:2,span:5}},[a("label",[t._v(t._s(t.$t("importLocalDataPop.startLine")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{attrs:{size:"small",min:0,max:20},on:{change:t.enterStartRow},model:{value:t.startRow,callback:function(e){t.startRow=e},expression:"startRow"}})],1)],1),t._v(" "),t._l(t.rows,function(e,i){return a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("label",[t._v(t._s(t.$t("importLocalDataPop.the"))+t._s(i+1)+t._s(t.$t("importLocalDataPop.row")))])]),t._v(" "),a("div",[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{type:"text",size:"small"},model:{value:t.rows[i],callback:function(e){t.$set(t.rows,i,e)},expression:"rows[i]"}})],1)],1)],1)],1)}),t._v(" "),a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("importLocalDataPop.setX")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},model:{value:t.selectedColX,callback:function(e){t.selectedColX=e},expression:"selectedColX"}},t._l(t.colNames,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("importLocalDataPop.setY")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},model:{value:t.selectedColY,callback:function(e){t.selectedColY=e},expression:"selectedColY"}},t._l(t.colNames,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1)],2):t._e()],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleOK}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleClose}},[t._v(t._s(t.$t("button.cancel")))])],1)])},staticRenderFns:[]};var h=a("VU/8")(u,p,!1,function(t){a("7N1R")},null,null).exports,m=a("BmLr"),g={props:["name"],data:function(){return{file:null,mapconfig:d.a,currentFile:"",compare:!1,dialogVisible:!0,colNames:[],selectedColX:"",selectedColY:"",charttypelist1:[],charttypelist2:[],layoutRadio:"2_1",charttype1:"",charttype2:"",spatialReLabel:"请选择专题数据",compareid1:"",compareid2:"",comparename1:window.vm.$i18n.t("compareMap.compareName1"),comparename2:window.vm.$i18n.t("compareMap.compareName2"),currentName:"",radioValue:"grd",nameArry:[],inittype:"",title:"",xlxs_col:[],selectP:"",field:"",ratio:1.1,pointNumber:"",lineNumber:"",xField:"",yField:"",xyOption1:[],bindXValue1:"",bindYValue1:"",xyOption2:[],bindXValue2:"",bindYValue2:""}},methods:{init:function(){this.inittype=this.name},handleUpload:function(t){var e=t.name;-1==e.indexOf("xls")&&-1==e.indexOf("xlsx")||(this.radioValue="excel"),-1!=e.indexOf("grd")&&(this.radioValue="grd"),-1!=e.indexOf("xyzval")&&(this.radioValue="xyzval"),this.file=t;var a=this;setTimeout(1e3,void(a.currentFile=a.file.name)),c.a.getColumnNamesFromXls(t,function(t){t.forEach(function(t){a.colNames.push({label:t,value:t})})})},handleClose:function(){return this.file=null,this.currentFile="",this.dialogVisible=!1,this.$emit("inputMess"),!1},spatialReferenceChange:function(t){this.currentName=t;var e=this;c.a.getAllJsonFromDatabase(function(t){for(var a=0;a<t.length;a++)if(e.currentName==t[a].displayName){if(e.name==window.vm.$i18n.t("pointMap.title")||e.name==window.vm.$i18n.t("sectionMap.title")){for(var i in e.xlxs_col=[],t[a].data[0])e.xlxs_col.push({value:i});e.xField=t[a].bindX,e.yField=t[a].bindY}e.xlxs_col.length>2&&(e.selectP=e.xlxs_col[2].value,e.lineNumber="",e.pointNumber="",e.field=""),e.xlxs_col.length>4&&(e.lineNumber=e.xlxs_col[2].value,e.pointNumber=e.xlxs_col[3].value,e.field=e.xlxs_col[4].value)}})},getZTTdatatype:function(t){return window.vm.$i18n.t("compareMap.CompareDataForType")[t]},selectfile1:function(t){var e=this.compareid1,a=this;a.xyOption1=[],c.a.getJsonFromDatabase(e,function(t){if(t){if("xls"==t.datatype||"xlsx"==t.datatype){a.bindXValue1=t.bindX,a.bindYValue1=t.bindY;var e=t.data[0];for(var i in e)a.xyOption1.push({value:i,label:i})}else a.excelFlag=!1;a.charttypelist1=a.getZTTdatatype(t.datatype),a.charttype1=a.charttypelist1[0].value}});var i=this.nameArry.find(function(e){return e.value===t});this.comparename1=i.label.substr(0,i.label.lastIndexOf("."))},selectfile2:function(t){var e=this.compareid2,a=this;a.xyOption2=[],c.a.getJsonFromDatabase(e,function(t){if(t){if("xls"==t.datatype||"xlsx"==t.datatype){a.bindXValue2=t.bindX,a.bindYValue2=t.bindY;var e=t.data[0];for(var i in e)a.xyOption2.push({value:i,label:i})}else a.excelFlag=!1;a.charttypelist2=a.getZTTdatatype(t.datatype),a.charttype2=a.charttypelist2[0].value}});var i=this.nameArry.find(function(e){return e.value===t});this.comparename2=i.label.substr(0,i.label.lastIndexOf("."))},handleOK:function(){var t=this;if(t.$store.state.Global.thematicParams=[],t.spatialReLabel!=window.vm.$i18n.t("pointMap.spatialReLabel")&&t.spatialReLabel!=window.vm.$i18n.t("linesMap.spatialReLabel")){t.$store.state.Global.thematicFlag=!0;var e="";if(t.name==window.vm.$i18n.t("compareMap.title")){if(""==t.compareid1||""==t.compareid2)return void t.$Message.error(window.vm.$i18n.t("message.selectFile"));var a=1;t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1;for(var i=0;i<t.$store.state.Global.workspaceTabArr.length;i++)if(-1!=t.$store.state.Global.workspaceTabArr[i].title.indexOf(window.vm.$i18n.t("compareMap.resultName")+"_")){var l=t.$store.state.Global.workspaceTabArr[i].title,o=Number(l.replace(window.vm.$i18n.t("compareMap.resultName")+"_",""));a=a>o?a:o}a+=1;var n=[t.compareid1,t.compareid2],s=[t.charttype1,t.charttype2],r=[t.comparename1,t.comparename2],d=[t.bindXValue1,t.bindXValue2],u=[t.bindYValue1,t.bindYValue2];t.$store.state.Global.workspaceTabArr.push({name:window.vm.$i18n.t("compareMap.resultName")+"_"+a,componentName:"compareMap",title:window.vm.$i18n.t("compareMap.resultName")+"_"+a,index:t.$store.state.Global.workspaceTabIndex,type:"compare",compareId:n,compareType:s,compareName:r,compareLayout:t.layoutRadio,bindXValue:d,bindYValue:u}),e=window.vm.$i18n.t("compareMap.resultName")+"_"+a,t.$store.state.Global.workspaceActiveTabValue=e,t.handleClose()}c.a.getAllJsonFromDatabase(function(a){for(var i=0;i<a.length;i++)if(t.currentName==a[i].displayName)if(t.name==window.vm.$i18n.t("pointMap.title")){if(""==t.xField||""==t.yField||""==t.selectP){t.$Message.error(window.vm.$i18n.t("message.fieldConfError"));break}if(t.$store.state.Global.thematicParams.push({name:t.name,x:t.xField,y:t.yField,p:t.selectP}),0==t.$store.state.Global.workspaceTabArr.length)t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("pointMap.resultName"),componentName:"pointerMap",id:a[i].guid,title:window.vm.$i18n.t("pointMap.resultName")+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex}),e=a[i].guid+window.vm.$i18n.t("pointMap.resultName");else for(var l=0;l<t.$store.state.Global.workspaceTabArr.length;l++){if(t.$store.state.Global.workspaceTabArr[l].title==window.vm.$i18n.t("pointMap.resultName")+"_"+t.currentName&&"pointerMap"==t.$store.state.Global.workspaceTabArr[l].componentName){e=t.$store.state.Global.workspaceTabArr[l].id+window.vm.$i18n.t("pointMap.resultName");break}l==t.$store.state.Global.workspaceTabArr.length-1&&(t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("pointMap.resultName"),componentName:"pointerMap",id:a[i].guid,title:window.vm.$i18n.t("pointMap.resultName")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex}),e=a[i].guid+window.vm.$i18n.t("pointMap.resultName"))}t.$store.state.Global.workspaceActiveTabValue=e,t.handleClose()}else if(t.name==window.vm.$i18n.t("sectionMap.title")){if(""==t.ratio||""==t.field){t.$Message.error(window.vm.$i18n.t("message.fieldConfError"));break}if(t.$store.state.Global.thematicParams.push({name:t.name,xField:t.xField,yField:t.yField,pointNumber:t.pointNumber,lineNumber:t.lineNumber,field:t.field}),0==t.$store.state.Global.workspaceTabArr.length)t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("sectionMap.resultName"),componentName:"sectionMap",id:a[i].guid,title:window.vm.$i18n.t("sectionMap.resultName")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex}),e=a[i].guid+window.vm.$i18n.t("sectionMap.resultName");else for(l=0;l<t.$store.state.Global.workspaceTabArr.length;l++){if(t.$store.state.Global.workspaceTabArr[l].title==window.vm.$i18n.t("sectionMap.resultName")+"_"+t.currentName&&"sectionMap"==t.$store.state.Global.workspaceTabArr[l].componentName){e=t.$store.state.Global.workspaceTabArr[l].id+window.vm.$i18n.t("sectionMap.resultName");break}l==t.$store.state.Global.workspaceTabArr.length-1&&(t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("sectionMap.resultName"),componentName:"sectionMap",id:a[i].guid,title:window.vm.$i18n.t("sectionMap.resultName")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex}),e=a[i].guid+window.vm.$i18n.t("sectionMap.resultName"))}t.$store.state.Global.workspaceActiveTabValue=e,t.handleClose()}else if(t.name==window.vm.$i18n.t("linesMap.title")){if(0==t.$store.state.Global.workspaceTabArr.length)t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("linesMap.resultName"),componentName:"contourMap",id:a[i].guid,title:window.vm.$i18n.t("linesMap.resultName")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex,type:"contour"}),e=a[i].guid+window.vm.$i18n.t("linesMap.resultName");else for(l=0;l<t.$store.state.Global.workspaceTabArr.length;l++){if(t.$store.state.Global.workspaceTabArr[l].title==window.vm.$i18n.t("linesMap.resultName")+"_"+t.currentName&&"contourMap"==t.$store.state.Global.workspaceTabArr[l].componentName){e=t.$store.state.Global.workspaceTabArr[l].id+window.vm.$i18n.t("linesMap.resultName");break}l==t.$store.state.Global.workspaceTabArr.length-1&&(t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("linesMap.resultName"),componentName:"contourMap",id:a[i].guid,title:window.vm.$i18n.t("linesMap.resultName")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex,type:"contour"}),e=a[i].guid+window.vm.$i18n.t("linesMap.resultName"))}t.$store.state.Global.workspaceActiveTabValue=e,t.handleClose()}else if(t.name==window.vm.$i18n.t("type.specialChart.volumn")){if(0==t.$store.state.Global.workspaceTabArr.length)t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("type.specialChart.volumn"),componentName:"threeDimensional",id:a[i].guid,title:window.vm.$i18n.t("type.specialChart.volumn")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex,type:"contour"}),e=a[i].guid+window.vm.$i18n.t("type.specialChart.volumn");else for(l=0;l<t.$store.state.Global.workspaceTabArr.length;l++){if(t.$store.state.Global.workspaceTabArr[l].title==window.vm.$i18n.t("type.specialChart.volumn")+"_"+t.currentName&&"threeDimensional"==t.$store.state.Global.workspaceTabArr[l].componentName){e=t.$store.state.Global.workspaceTabArr[l].id+window.vm.$i18n.t("type.specialChart.volumn");break}l==t.$store.state.Global.workspaceTabArr.length-1&&(t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("type.specialChart.volumn"),componentName:"threeDimensional",id:a[i].guid,title:window.vm.$i18n.t("type.specialChart.volumn")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex,type:"contour"}),e=a[i].guid+window.vm.$i18n.t("type.specialChart.volumn"))}t.$store.state.Global.workspaceActiveTabValue=e,t.handleClose()}else if(t.name==window.vm.$i18n.t("voxels.name")){if(0==t.$store.state.Global.workspaceTabArr.length)t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("voxels.name"),componentName:"chemicalAnomaly",id:a[i].guid,title:window.vm.$i18n.t("voxels.name")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex,type:"contour"}),e=a[i].guid+window.vm.$i18n.t("voxels.name");else for(l=0;l<t.$store.state.Global.workspaceTabArr.length;l++){if(t.$store.state.Global.workspaceTabArr[l].title==window.vm.$i18n.t("voxels.name")+"_"+t.currentName&&"chemicalAnomaly"==t.$store.state.Global.workspaceTabArr[l].componentName){e=t.$store.state.Global.workspaceTabArr[l].id+window.vm.$i18n.t("voxels.name");break}l==t.$store.state.Global.workspaceTabArr.length-1&&(t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("voxels.name"),componentName:"chemicalAnomaly",id:a[i].guid,title:window.vm.$i18n.t("voxels.name")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex,type:"contour"}),e=a[i].guid+window.vm.$i18n.t("voxels.name"))}t.$store.state.Global.workspaceActiveTabValue=e,t.handleClose()}else if(t.name==window.vm.$i18n.t("groupElement.name")){if(0==t.$store.state.Global.workspaceTabArr.length)t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("groupElement.name"),componentName:"chemicalAnomalyCompose",id:a[i].guid,title:window.vm.$i18n.t("groupElement.name")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex,type:"contour"}),e=a[i].guid+window.vm.$i18n.t("groupElement.name");else for(l=0;l<t.$store.state.Global.workspaceTabArr.length;l++){if(t.$store.state.Global.workspaceTabArr[l].title==window.vm.$i18n.t("groupElement.name")+"_"+t.currentName&&"chemicalAnomalyCompose"==t.$store.state.Global.workspaceTabArr[l].componentName){e=t.$store.state.Global.workspaceTabArr[l].id+window.vm.$i18n.t("groupElement.name");break}l==t.$store.state.Global.workspaceTabArr.length-1&&(t.$store.state.Global.workspaceTabIndex=t.$store.state.Global.workspaceTabIndex+1,t.$store.state.Global.workspaceTabArr.push({name:a[i].guid+window.vm.$i18n.t("groupElement.name"),componentName:"chemicalAnomalyCompose",id:a[i].guid,title:window.vm.$i18n.t("groupElement.name")+"_"+a[i].displayName,index:t.$store.state.Global.workspaceTabIndex,type:"contour"}),e=a[i].guid+window.vm.$i18n.t("groupElement.name"))}t.$store.state.Global.workspaceActiveTabValue=e,t.handleClose()}})}else t.$Message.error(window.vm.$i18n.t("message.selectFile"))}},watch:{inittype:function(t,e){var a=this;t==window.vm.$i18n.t("pointMap.title")?(a.title=window.vm.$i18n.t("pointMap.title"),a.spatialReLabel=window.vm.$i18n.t("pointMap.spatialReLabel"),a.mapconfig.treeWorkSpace[0].children[0].children.forEach(function(t,e){a.nameArry.push({label:t.label,value:t.label})})):t==window.vm.$i18n.t("type.specialChart.volumn")?(a.title=window.vm.$i18n.t("type.specialChart.volumn"),a.spatialReLabel="xyzval type",a.mapconfig.treeWorkSpace[0].children[2].children.forEach(function(t,e){a.nameArry.push({label:t.label,value:t.label})})):t==window.vm.$i18n.t("sectionMap.title")?(a.title=window.vm.$i18n.t("sectionMap.title"),a.spatialReLabel=window.vm.$i18n.t("sectionMap.spatialReLabel"),a.mapconfig.treeWorkSpace[0].children[0].children.forEach(function(t,e){a.nameArry.push({label:t.label,value:t.label})})):t==window.vm.$i18n.t("compareMap.title")?(a.title=t,this.compare=!0,this.mapconfig.treeWorkSpace[0].children[1].children.forEach(function(t,e){a.nameArry.push({label:t.label,value:t.guid})}),a.mapconfig.treeWorkSpace[0].children[0].children.forEach(function(t,e){a.nameArry.push({label:t.label,value:t.guid})})):(a.title=t,a.spatialReLabel=window.vm.$i18n.t("linesMap.spatialReLabel"),a.mapconfig.treeWorkSpace[0].children[1].children.forEach(function(t,e){a.nameArry.push({label:t.label,value:t.label})}))}},mounted:function(){this.init()}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.title,visible:t.dialogVisible,width:"550px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",[0==t.compare?a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("pointMap.file")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},on:{change:t.spatialReferenceChange},model:{value:t.spatialReLabel,callback:function(e){t.spatialReLabel=e},expression:"spatialReLabel"}},t._l(t.nameArry,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),t.title==t.$t("pointMap.title")?a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("X：")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.xField,callback:function(e){t.xField=e},expression:"xField"}},t._l(t.xlxs_col,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Y：")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.yField,callback:function(e){t.yField=e},expression:"yField"}},t._l(t.xlxs_col,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("pointMap.projection")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.selectP,callback:function(e){t.selectP=e},expression:"selectP"}},t._l(t.xlxs_col,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1)],1):t._e(),t._v(" "),t.title==t.$t("sectionMap.title")?a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.xField")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.xField,callback:function(e){t.xField=e},expression:"xField"}},t._l(t.xlxs_col,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.yField")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.yField,callback:function(e){t.yField=e},expression:"yField"}},t._l(t.xlxs_col,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.lineNumber")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.lineNumber,callback:function(e){t.lineNumber=e},expression:"lineNumber"}},t._l(t.xlxs_col,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.pointNumber")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.pointNumber,callback:function(e){t.pointNumber=e},expression:"pointNumber"}},t._l(t.xlxs_col,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("sectionMap.valueField")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.field,callback:function(e){t.field=e},expression:"field"}},t._l(t.xlxs_col,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1)],1):t._e()],1):t._e(),t._v(" "),1==t.compare?a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.data1")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectfile1},model:{value:t.compareid1,callback:function(e){t.compareid1=e},expression:"compareid1"}},t._l(t.nameArry,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.dataName1")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:t.comparename1,callback:function(e){t.comparename1=e},expression:"comparename1"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.dataType1")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.charttype1,callback:function(e){t.charttype1=e},expression:"charttype1"}},t._l(t.charttypelist1,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),"diagram"==t.charttype1?a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.Xfield1")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},model:{value:t.bindXValue1,callback:function(e){t.bindXValue1=e},expression:"bindXValue1"}},t._l(t.xyOption1,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.Yfield1")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},model:{value:t.bindYValue1,callback:function(e){t.bindYValue1=e},expression:"bindYValue1"}},t._l(t.xyOption1,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1):t._e(),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}}),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.data2")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectfile2},model:{value:t.compareid2,callback:function(e){t.compareid2=e},expression:"compareid2"}},t._l(t.nameArry,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.dataName2")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:t.comparename2,callback:function(e){t.comparename2=e},expression:"comparename2"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.dataType2")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.charttype2,callback:function(e){t.charttype2=e},expression:"charttype2"}},t._l(t.charttypelist2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),"diagram"==t.charttype2?a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.Xfield2")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},model:{value:t.bindXValue2,callback:function(e){t.bindXValue2=e},expression:"bindXValue2"}},t._l(t.xyOption2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.Yfield2")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},model:{value:t.bindYValue2,callback:function(e){t.bindYValue2=e},expression:"bindYValue2"}},t._l(t.xyOption2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1):t._e(),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}}),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("compareMap.layoutType")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-radio",{staticStyle:{"margin-top":"7px"},attrs:{label:"2_1"},model:{value:t.layoutRadio,callback:function(e){t.layoutRadio=e},expression:"layoutRadio"}},[t._v(t._s(t.$t("compareMap.leftRight")))]),t._v(" "),a("el-radio",{staticStyle:{"margin-top":"7px"},attrs:{label:"2_2"},model:{value:t.layoutRadio,callback:function(e){t.layoutRadio=e},expression:"layoutRadio"}},[t._v(t._s(t.$t("compareMap.topBottom")))])],1)],1)],1):t._e()]),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleOK}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleClose}},[t._v(t._s(t.$t("button.cancel")))])],1)])},staticRenderFns:[]};var v=a("VU/8")(g,f,!1,function(t){a("YGlj")},null,null).exports,b=a("xEiC"),y=a("Bbvv"),_={data:function(){return{mapconfig:d.a,filedata:"",Xfield:"",Yfield:"",Vfield:"",displayname:"",files:[],dialogVisible:!0,input:"",xlxs_col:[],xlxs_json:[],values:[],selectAlg:"1",searchType:[{value:"1",label:"IDW(Surfer)"},{value:"3",label:"Near Naber"}],xNum:"",yNum:"",xmin:"",xmax:"",ymin:"",ymax:"",zmin:"",zmax:"",xGrid:101,yGrid:101,x:[],y:[],spatialReference:null,numOfPoints:12,searchRadius:200,disRaito:2}},methods:{ChangeXNUM:function(t){this.xGrid=Math.floor((this.xmax-this.xmin)/t)+1,this.ChangeXGRID(this.xGrid)},ChangeYNUM:function(t){this.yGrid=Math.floor((this.ymax-this.ymin)/t)+1,this.ChangeYGRID(this.yGrid)},ChangeXGRID:function(t){""!=this.filedata&&(this.xNum=((this.xmax-this.xmin)/(this.xGrid-1)).toFixed(9))},ChangeYGRID:function(t){""!=this.filedata&&(this.yNum=((this.ymax-this.ymin)/(this.yGrid-1)).toFixed(9))},initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("xls",function(t){e.files=e.files.concat(t)}),this.$store.state.LocalDB.db.gettypeDataInfos("xyz",function(t){e.files=e.files.concat(t)}),this.$store.state.LocalDB.db.gettypeDataInfos("txt",function(t){e.files=e.files.concat(t)}),this.$store.state.LocalDB.db.gettypeDataInfos("dat",function(t){e.files=e.files.concat(t)}),this.$store.state.LocalDB.db.gettypeDataInfos("csv",function(t){e.files=e.files.concat(t)})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=this.files.find(function(e){return e.key===t}).label.split(".");this.displayname=e[0]+"_"+window.vm.$i18n.t("dataGrid.grd")+".grd",this.key=t;var a=this;this.$store.state.LocalDB.db.getData(a.key,function(t){a.handledata(t)})},changeX:function(t){this.x=[];var e=void 0,a=void 0;e=this.xlxs_json[0][t],a=this.xlxs_json[0][t];for(var i,l=0;i=this.xlxs_json[l];l++)this.x.push(i[t]),e=e<i[t]?e:i[t],a=a>i[t]?a:i[t];this.xmin=e,this.xmax=a,this.xNum=((a-e)/(this.xGrid-1)).toFixed(9)},changeY:function(t){this.y=[];var e=void 0,a=void 0;e=this.xlxs_json[0][t],a=this.xlxs_json[0][t];for(var i,l=0;i=this.xlxs_json[l];l++)this.y.push(i[t]),e=e<i[t]?e:i[t],a=a>i[t]?a:i[t];this.ymin=e,this.ymax=a,this.yNum=((a-e)/(this.yGrid-1)).toFixed(9)},changeV:function(t){this.values=[],this.zmin=this.xlxs_json[0][t],this.zmax=this.xlxs_json[0][t];for(var e,a=0;e=this.xlxs_json[a];a++)this.values.push(e[t]),this.zmin=this.zmin<e[t]?this.zmin:e[t],this.zmax=this.zmax>e[t]?this.zmax:e[t]},ok:function(){var t=this;if(""!=this.x&&""!=this.y&&""!=this.values){if(2!=this.selectAlg){if(0==this.searchRadius)return void this.$Message.error(window.vm.$i18n.t("message.searchRError"));t.$emit("inputMess");var e={};1==this.selectAlg?e.type="idw":e.type="nearest_neighbor",e.data=[],e.data.push(t.xlxs_json.length),e.data.push(t.searchRadius),e.data.push(t.disRaito),e.data.push(t.xmin+","+t.xmax+","+t.ymin+","+t.ymax),e.data.push(t.xGrid+","+t.yGrid);for(var i=0;i<t.xlxs_json.length;i++){var l=t.xlxs_json[i];e.data.push(l[t.Xfield]+" "+l[t.Yfield]+" "+l[t.Vfield])}t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,setTimeout(function(){100!=t.$store.state.Global.percent&&(t.$store.state.Global.percent=60)},2e3),y.a.name=t.displayname,y.a.executeAlgorithmOnServer(e,t.spatialReference,function(e,a){"success"==e?t.$message({message:window.vm.$i18n.t("message.grdHandleSuccess"),type:"success"}):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})})}else if(2==this.selectAlg){t.$emit("inputMess");var o={};o.traindata=[this.x,this.y,this.values],o.bounds=[this.xmin,this.ymin,this.xmax,this.ymax],o.size=[this.xGrid,this.yGrid],o.searchType=t.selectAlg,o.numOfPoints=t.numOfPoints,o.searchRadius=0;var n=a("mtWM");t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,setTimeout(function(){100!=t.$store.state.Global.percent&&(t.$store.state.Global.percent=60)},2e3),n({method:"post",url:WebConfig.ServicesUrl+"/GetIDWGridData",data:o,dataType:"json",contentType:"application/json;"}).then(function(e){var a={},i=[],l=[],o=[];a.xmin=t.xmin,a.xmax=t.xmax,a.ymin=t.ymin,a.ymax=t.ymax,a.xcount=t.xGrid,a.ycount=t.yGrid,a.type="DSAA";for(var n=(t.xmax-t.xmin)/(t.xGrid-1),s=0;s<t.xGrid;s++)i[s]=t.xmin-0+s*n;for(var r=(t.ymax-t.ymin)/(t.yGrid-1),d=0;d<t.yGrid;d++)l[d]=t.ymin-0+d*r;for(var u=e.data.data+"",p=new RegExp(",","g"),h=u.replace(p," ").split(" "),m=[],g=h[0],f=5e-324,v=0;v<t.yGrid;v++){o[v]=[];for(var b=0;b<t.xGrid;b++){var y=parseFloat(h[v*t.xGrid+b]);y>=1.70141e38?o[v][b]="NaN":(o[v][b]=y,g=g<y?g:y,f=f>y?f:y);var _={x:i[b],y:l[v],z:o[v][b]};m.push(_)}}a.zmin=g,a.zmax=f,a.x=i,a.y=l,a.z=o;var x=c.a.newGuid(),w=t.displayname;t.$store.state.LocalDB.db.addData({guid:x,data:m,grdData:a,displayName:w,datatype:"grd",isExecuted:!0,spatialReference:t.spatialReference},function(){t.mapconfig.treeWorkSpace[0].children[1].children.push({label:w,datatype:"grd",guid:x}),t.$store.state.Global.percent=100,t.$message({message:window.vm.$i18n.t("message.grdHandleSuccess"),type:"success"}),t.$emit("inputMess"),setTimeout(function(){t.$store.state.Global.progressVisible=!1},2e3)})}).catch(function(e){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:e})})}}else this.$Message.error(window.vm.$i18n.t("message.confError"))},handledata:function(t){var e=t.data;this.xlxs_json=e,this.xlxs_col=[];var a=[];for(var i in e[0])a.push(i);this.xlxs_col=a,this.spatialReference=t.spatialReference,this.Xfield=t.bindX,this.Yfield=t.bindY,this.changeX(this.Xfield),this.changeY(this.Yfield)}},mounted:function(){this.initForm()}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("dataGrid.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"550px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.dataFile")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label))])}),1)],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("dataGrid.dataFiled")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("X：")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},on:{change:t.changeX},model:{value:t.Xfield,callback:function(e){t.Xfield=e},expression:"Xfield"}},t._l(t.xlxs_col,function(e){return a("el-option",{key:e,attrs:{value:e,label:e}},[t._v(t._s(e))])}),1)],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:1}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Y：")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},on:{change:t.changeY},model:{value:t.Yfield,callback:function(e){t.Yfield=e},expression:"Yfield"}},t._l(t.xlxs_col,function(e){return a("el-option",{key:e,attrs:{value:e,label:e}},[t._v(t._s(e))])}),1)],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Value：")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small"},on:{change:t.changeV},model:{value:t.Vfield,callback:function(e){t.Vfield=e},expression:"Vfield"}},t._l(t.xlxs_col,function(e){return a("el-option",{key:e,attrs:{value:e,label:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Xmin：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"small"},on:{change:t.ChangeXGRID},model:{value:t.xmin,callback:function(e){t.xmin=e},expression:"xmin"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Xmax：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"small"},on:{change:t.ChangeXGRID},model:{value:t.xmax,callback:function(e){t.xmax=e},expression:"xmax"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Ymin：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"small"},on:{change:t.ChangeYGRID},model:{value:t.ymin,callback:function(e){t.ymin=e},expression:"ymin"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Ymax：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"small"},on:{change:t.ChangeYGRID},model:{value:t.ymax,callback:function(e){t.ymax=e},expression:"ymax"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Vmin：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{readonly:"",size:"small"},model:{value:t.zmin,callback:function(e){t.zmin=e},expression:"zmin"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Vmax：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{readonly:"",size:"small"},model:{value:t.zmax,callback:function(e){t.zmax=e},expression:"zmax"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("dataGrid.gridArgs.title")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.gridArgs.xInterval")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"small"},on:{change:t.ChangeXNUM},model:{value:t.xNum,callback:function(e){t.xNum=e},expression:"xNum"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.gridArgs.xCells")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{attrs:{size:"small",min:10,max:1e6},on:{change:t.ChangeXGRID},model:{value:t.xGrid,callback:function(e){t.xGrid=e},expression:"xGrid"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.gridArgs.yInterval")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"small"},on:{change:t.ChangeYNUM},model:{value:t.yNum,callback:function(e){t.yNum=e},expression:"yNum"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.gridArgs.yCells")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{attrs:{size:"small",min:10,max:1e6},on:{change:t.ChangeYGRID},model:{value:t.yGrid,callback:function(e){t.yGrid=e},expression:"yGrid"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("dataGrid.interpolationType.title")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.interpolationType.name")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.selectAlg,callback:function(e){t.selectAlg=e},expression:"selectAlg"}},t._l(t.searchType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),"2"!=t.selectAlg?a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.interpolationType.searchRadius")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"small"},model:{value:t.searchRadius,callback:function(e){t.searchRadius=e},expression:"searchRadius"}})],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.interpolationType.distance")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small"},model:{value:t.disRaito,callback:function(e){t.disRaito=e},expression:"disRaito"}})],1)],1):t._e(),t._v(" "),"2"==t.selectAlg?a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.searchPoint")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{attrs:{size:"small",min:2,max:1e6},model:{value:t.numOfPoints,callback:function(e){t.numOfPoints=e},expression:"numOfPoints"}})],1)],1):t._e(),t._v(" "),a("el-divider"),t._v(" "),a("el-row",{attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("dataGrid.interpolationType.outputFileName")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.displayname,callback:function(e){t.displayname=e},expression:"displayname"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.ok}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var w=a("VU/8")(_,x,!1,function(t){a("FUXX")},"data-v-0bd80e6f",null).exports,C=a("/g/g"),D=(a("nvAS"),{data:function(){return{dialogVisible:!0,files:[],sourceCoordinateLabel:"",sourceCoordinateValue:"",key:"",mapconfig:d.a,currentFile:"",spatialReferences:[{label:"WGS 84",options:[{label:"WGS 84",value:"EPSG:4326"}]}],selectedReference:null}},methods:{initForm:function(t){var e=this;e.$store.state.LocalDB.db.gettypeDataInfos("xls",function(t){e.$store.state.LocalDB.db.gettypeDataInfos("xlsx",function(a){var i=t.concat(a);e.files=i})})},selectSpatialReference:function(t){this.selectedReference=t},executeTransform:function(){var t=new FormData;t.append("key","GeoPhy:Algorithm:All"),this.axios.post(WebConfig.ServicesUrl+"/DownLoadExe",t).then(function(t){})},close:function(){this.$emit("inputMess")},selectFile:function(t){var e=this;e.key=t,e.$store.state.LocalDB.db.getData(e.key,function(t){e.mapconfig.spatialReferences.forEach(function(a){a.options.forEach(function(a){a.value==t.spatialReference&&(e.sourceCoordinateLabel=a.label,e.sourceCoordinateValue=a.value)})})})},handleFormatError:function(){this.$Notice.warning({title:"文件格式错误",desc:"请选择grd文件"})}},mounted:function(){this.initForm()}}),k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:"坐标转换",visible:t.dialogVisible,width:"550px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("选择数据：")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.currentFile,callback:function(e){t.currentFile=e},expression:"currentFile"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label))])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("源坐标系：")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:t.sourceCoordinateLabel,callback:function(e){t.sourceCoordinateLabel=e},expression:"sourceCoordinateLabel"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("目标坐标系：")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{placeholder:"请输入关键字搜索或选择",size:"small",filterable:""},on:{change:t.selectSpatialReference},model:{value:t.selectedReference,callback:function(e){t.selectedReference=e},expression:"selectedReference"}},t._l(t.spatialReferences,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.executeTransform}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var $=a("VU/8")(D,k,!1,function(t){a("u74G")},"data-v-2edc392a",null).exports,S=a("6xVm"),F={components:{algExplain:S.a},data:function(){return{algName:"二维窗口滑动平均滤波",mf_time:2,mf_width:1,mf_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.mf_name=e.label.substring(0,e.label.length-4)+"(mvfilter).grd",this.dataGuid=t},mvfilterHandle:function(){if(""!=this.mf_name&&null!=this.mf_time&&null!=this.mf_width&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a={type:"mvfilter",data:[]};a.data.push(t.mf_time),a.data.push(t.mf_width),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount),a.data.push(e.grdData.ycount),a.data.push(e.grdData.xmin),a.data.push(e.grdData.xmax),a.data.push(e.grdData.ymin),a.data.push(e.grdData.ymax),a.data.push(e.grdData.zmin),a.data.push(e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)"NaN"==e.grdData.z[i][l]?a.data.push(1.70141e38):a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.mf_name,y.a.executeAlgorithm(e,t.mf_time+"\n"+t.mf_width+"\n","mvfilter",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")}),setTimeout(function(){t.$store.state.Global.progressVisible=!1},2e3)})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.mf_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("mvfilter.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"350px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("mvfilter.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("mvfilter.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.mf_name,callback:function(e){t.mf_name=e},expression:"mf_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("mvfilter.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("mvfilter.mvTimes")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",max:100,min:1},model:{value:t.mf_time,callback:function(e){t.mf_time=e},expression:"mf_time"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("mvfilter.halfWidth")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",max:100,min:1},model:{value:t.mf_width,callback:function(e){t.mf_width=e},expression:"mf_width"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.mvfilterHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("mvfilter.title"),algName:t.algName}})],1)},staticRenderFns:[]};var M=a("VU/8")(F,T,!1,function(t){a("sIAD")},"data-v-5b3da146",null).exports,L={components:{algExplain:S.a},data:function(){return{algName:"插值切割法异常分离",r0:0,r1:0,ddPrecision:.001,ddNum:5,czqg_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.czqg_name=e.label.substring(0,e.label.length-4)+"(czqg).grd",this.dataGuid=t},czqgHandle:function(){if(""!=this.filedata)if(""!=this.czqg_name)if(0!=this.r0&&0!=this.r1)if(parseInt(this.r0)>=parseInt(this.r1))this.$Message.error(window.vm.$i18n.t("message.argsError2"));else{var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a={type:"czqg",data:[]};a.data.push(t.r0),a.data.push(t.r1),a.data.push(t.ddPrecision),a.data.push(t.ddNum),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount),a.data.push(e.grdData.ycount),a.data.push(e.grdData.xmin),a.data.push(e.grdData.xmax),a.data.push(e.grdData.ymin),a.data.push(e.grdData.ymax),a.data.push(e.grdData.zmin),a.data.push(e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)"NaN"==e.grdData.z[i][l]?a.data.push(1.70141e38):a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.czqg_name,y.a.executeAlgorithm(e,t.r0+"\n"+t.r1+"\n"+t.ddPrecision+"\n"+t.ddNum+"\n","czqg",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")}),setTimeout(function(){t.$store.state.Global.progressVisible=!1},2e3)})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.czqg_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.argsError1"));else this.$Message.error(window.vm.$i18n.t("message.outFileNotNull"));else this.$Message.error(window.vm.$i18n.t("message.selectFile"))}},mounted:function(){this.initForm()}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("czqg.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"350px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("czqg.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("czqg.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.czqg_name,callback:function(e){t.czqg_name=e},expression:"czqg_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("czqg.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:9}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("czqg.radius_R0")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{style:{width:"100px"},attrs:{size:"small"},model:{value:t.r0,callback:function(e){t.r0=e},expression:"r0"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:9}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("czqg.radius_R1")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{style:{width:"100px"},attrs:{size:"small"},model:{value:t.r1,callback:function(e){t.r1=e},expression:"r1"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("czqg.ddPrecision")))])]),t._v(" "),a("el-col",{attrs:{span:3}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",max:100,min:1e-6},model:{value:t.ddPrecision,callback:function(e){t.ddPrecision=e},expression:"ddPrecision"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("czqg.ddNum")))])]),t._v(" "),a("el-col",{attrs:{span:3}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",max:100,min:1},model:{value:t.ddNum,callback:function(e){t.ddNum=e},expression:"ddNum"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.czqgHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("czqg.title"),algName:t.algName}})],1)},staticRenderFns:[]};var A=a("VU/8")(L,z,!1,function(t){a("B0lN")},"data-v-f7cdae60",null).exports,G={components:{algExplain:S.a},data:function(){return{algName:"二维导数计算",options:[{value:"2",label:window.vm.$i18n.t("derivative.label.direction_0")},{value:"4",label:window.vm.$i18n.t("derivative.label.direction_45")},{value:"1",label:window.vm.$i18n.t("derivative.label.direction_90")},{value:"5",label:window.vm.$i18n.t("derivative.label.direction_135")},{value:"3",label:window.vm.$i18n.t("derivative.label.direction_all")}],dv_flag:"",dv_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.dv_name=e.label.substring(0,e.label.length-4)+"(derivative).grd",this.dataGuid=t,this.dv_flag="2"},derivativeHandle:function(){if(""!=this.dv_name&&""!=this.dv_flag&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a={type:"derivative",data:[]};a.data.push(t.dv_flag),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount),a.data.push(e.grdData.ycount),a.data.push(e.grdData.xmin),a.data.push(e.grdData.xmax),a.data.push(e.grdData.ymin),a.data.push(e.grdData.ymax),a.data.push(e.grdData.zmin),a.data.push(e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)"NaN"==e.grdData.z[i][l]?a.data.push(1.70141e38):a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.dv_name,y.a.executeAlgorithm(e," "+t.dv_flag+"\n ","derivative",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.dv_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("derivative.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"350px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("derivative.file")))])]),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("derivative.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{size:"small "},model:{value:t.dv_name,callback:function(e){t.dv_name=e},expression:"dv_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("derivative.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("derivative.type")))])]),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-select",{attrs:{size:"small"},model:{value:t.dv_flag,callback:function(e){t.dv_flag=e},expression:"dv_flag"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.derivativeHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("derivative.title"),algName:t.algName}})],1)},staticRenderFns:[]};var P=a("VU/8")(G,N,!1,function(t){a("CKZy")},"data-v-5908ebe8",null).exports,I={components:{algExplain:S.a},data:function(){return{algName:"二维频率域滤波",options:[{value:"1",label:"高通"},{value:"-1",label:"低通"}],ff_name:"",ff_flag:"",ff_frequnency:1e-4,mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.ff_name=e.label.substring(0,e.label.length-4)+"(高通frefilter).grd",this.dataGuid=t},frefilterHandle:function(){if(""!=this.ff_name&&null!=this.ff_frequnency&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a={type:"frefilter",data:[]};a.data.push(1),a.data.push(t.ff_frequnency),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount),a.data.push(e.grdData.ycount),a.data.push(e.grdData.xmin),a.data.push(e.grdData.xmax),a.data.push(e.grdData.ymin),a.data.push(e.grdData.ymax),a.data.push(e.grdData.zmin),a.data.push(e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)"NaN"==e.grdData.z[i][l]?a.data.push(1.70141e38):a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.ff_name,y.a.executeAlgorithm(e,"1\n"+t.ff_frequnency+"\n","frefilter",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.ff_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("frefilter_Heigh.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"350px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("frefilter_Heigh.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("frefilter_Heigh.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.ff_name,callback:function(e){t.ff_name=e},expression:"ff_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("frefilter_Heigh.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("frefilter_Heigh.ff_frequnency")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",max:10,min:1e-4,precision:4,step:1e-4},model:{value:t.ff_frequnency,callback:function(e){t.ff_frequnency=e},expression:"ff_frequnency"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}})],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.frefilterHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("frefilter_Heigh.title"),algName:t.algName}})],1)},staticRenderFns:[]};var E=a("VU/8")(I,V,!1,function(t){a("M3Rz")},"data-v-762a16b4",null).exports,O={components:{algExplain:S.a},data:function(){return{algName:"二维频率域滤波",options:[{value:"1",label:"高通"},{value:"-1",label:"低通"}],ff_name:"",ff_flag:"",ff_frequnency:1e-4,mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.ff_name=e.label.substring(0,e.label.length-4)+"(低通frefilter).grd",this.dataGuid=t},frefilterHandle:function(){if(""!=this.ff_name&&null!=this.ff_frequnency&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a={type:"frefilter",data:[]};a.data.push(-1),a.data.push(t.ff_frequnency),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount),a.data.push(e.grdData.ycount),a.data.push(e.grdData.xmin),a.data.push(e.grdData.xmax),a.data.push(e.grdData.ymin),a.data.push(e.grdData.ymax),a.data.push(e.grdData.zmin),a.data.push(e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)"NaN"==e.grdData.z[i][l]?a.data.push(1.70141e38):a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.ff_name,y.a.executeAlgorithm(e,"-1\n"+t.ff_frequnency+"\n","frefilter",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.ff_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("frefilter_low.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"350px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("frefilter_low.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(" b n\n      "),a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("frefilter_low.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.ff_name,callback:function(e){t.ff_name=e},expression:"ff_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("frefilter_low.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("frefilter_low.ff_frequnency")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",max:10,min:1e-4,precision:4,step:1e-4},model:{value:t.ff_frequnency,callback:function(e){t.ff_frequnency=e},expression:"ff_frequnency"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}})],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.frefilterHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("frefilter_low.title"),algName:t.algName}})],1)},staticRenderFns:[]};var j=a("VU/8")(O,R,!1,function(t){a("czsP")},"data-v-25d6995d",null).exports,W=a("fZjL"),B=a.n(W),H={components:{algExplain:S.a},data:function(){return{algName:"导数计算（剖面）",options:[{value:"1",label:window.vm.$i18n.t("derivativeCalculation.label.horizontal")},{value:"2",label:window.vm.$i18n.t("derivativeCalculation.label.vertical")}],ff_name:"",ff_flag:"1",fff_name:window.vm.$i18n.t("derivativeCalculation.label.calculation"),flag_X:"",flag_D:"",ff_frequnency:0,mapconfig:d.a,filedata:"",dataGuid:"",files:[],DataArr:[],dialogVisible:!0,flag:0}},methods:{initForm:function(t){var e=this;e.mapconfig.treeWorkSpace[0].children[0].children.forEach(function(t,a){e.files.push({label:t.label,key:t.guid,data:t.Data})})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=this,a=void 0;a=this.files.find(function(e){return e.key===t}),this.ff_name=a.label.substring(0,a.label.length-5)+"_导数计算.xlsx",this.dataGuid=t,c.a.getJsonFromDatabase(this.dataGuid,function(t){for(var a in e.DataArr=B()(t.data[0]),e.DataArr)e.DataArr[a]={key:a,value:e.DataArr[a]};e.DataArr.length>1&&(e.flag_X=e.DataArr[0].value,e.flag_D=e.DataArr[1].value)})},frefilterHandle:function(){if(""!=this.filedata&&""!=this.ff_name&&""!=this.flag_X&&""!=this.flag_D&&""!=this.fff_name&&""!=this.ff_flag&&null!=this.ff_frequnency&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a=e.data,i={};i.column_X=t.flag_X,i.column_D=t.flag_D,i.column_E=t.fff_name,i.data=[];var l={};l.flag=t.flag,l.type="ans2d",l.data=[];var o=e.data.length,n=e.data.length;l.data.push(o),l.data.push(n),l.data.push(t.ff_flag),l.data.push(t.ff_frequnency);for(var s=0;s<a.length;s++)l.data.push(a[s][t.flag_X]+" "+a[s][t.flag_D]);i.data=a,t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=30,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.ff_name,y.a.executeAlgorithm6(l,"ans2d",i,function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.ff_name,y.a.executeAlgorithmOnServer2(l,e.spatialReference,i,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("derivativeCalculation.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"350px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("derivativeCalculation.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("derivativeCalculation.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.ff_name,callback:function(e){t.ff_name=e},expression:"ff_name"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("derivativeCalculation.xField")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},model:{value:t.flag_X,callback:function(e){t.flag_X=e},expression:"flag_X"}},t._l(t.DataArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("derivativeCalculation.dataField")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},model:{value:t.flag_D,callback:function(e){t.flag_D=e},expression:"flag_D"}},t._l(t.DataArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("derivativeCalculation.resultField")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.fff_name,callback:function(e){t.fff_name=e},expression:"fff_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("derivativeCalculation.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("derivativeCalculation.direction")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},model:{value:t.ff_flag,callback:function(e){t.ff_flag=e},expression:"ff_flag"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.frefilterHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("derivativeCalculation.title"),algName:t.algName}})],1)},staticRenderFns:[]};var q=a("VU/8")(H,U,!1,function(t){a("xwID")},"data-v-4189fd47",null).exports,Y={components:{algExplain:S.a},data:function(){return{algName:"曲线圆滑",options:[{value:"1",label:window.vm.$i18n.t("smoothCurve.label.horizontal")},{value:"2",label:window.vm.$i18n.t("smoothCurve.label.vertical")}],ff_name:"",fff_name:window.vm.$i18n.t("smoothCurve.label.curve"),ff_flag:"",ff_frequnency:3,fff_frequnency:1,mapconfig:d.a,filedata:"",flag_X:"",flag_D:"",dataGuid:"",files:[],DataArr:[],dialogVisible:!0,flag:1}},methods:{initForm:function(t){var e=this;e.mapconfig.treeWorkSpace[0].children[0].children.forEach(function(t,a){e.files.push({label:t.label,key:t.guid,data:t.Data})})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=this,a=void 0;a=this.files.find(function(e){return e.key===t}),this.ff_name=a.label.substring(0,a.label.length-5)+"_"+window.vm.$i18n.t("smoothCurve.title")+".xlsx",this.dataGuid=t,c.a.getJsonFromDatabase(this.dataGuid,function(t){for(var a in e.DataArr=B()(t.data[0]),e.DataArr)e.DataArr[a]={key:a,value:e.DataArr[a]};e.DataArr.length>1&&(e.flag_X=e.DataArr[0].value,e.flag_D=e.DataArr[1].value)})},frefilterHandle:function(){if(""!=this.ff_name&&""!=this.fff_frequnency&&null!=this.ff_frequnency&&""!=this.dataGuid&&""!=this.filedata&&""!=this.flag_X&&""!=this.flag_D){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a=e.data,i={};i.column_X=t.flag_X,i.column_D=t.flag_D,i.column_E=t.fff_name,i.data=[];var l={};l.flag=t.flag,l.type="polyfit",l.data=[];var o=e.data.length;l.data.push(t.ff_frequnency),l.data.push(t.fff_frequnency),l.data.push(o);for(var n=0;n<a.length;n++)l.data.push(a[n][t.flag_X]+" "+a[n][t.flag_D]);i.data=a,t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=30,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.ff_name,y.a.executeAlgorithm6(l,"polyfit",i,function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.ff_name,y.a.executeAlgorithmOnServer2(l,e.spatialReference,i,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("smoothCurve.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"350px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("smoothCurve.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("smoothCurve.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.ff_name,callback:function(e){t.ff_name=e},expression:"ff_name"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("smoothCurve.xField")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},model:{value:t.flag_X,callback:function(e){t.flag_X=e},expression:"flag_X"}},t._l(t.DataArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("smoothCurve.dataField")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},model:{value:t.flag_D,callback:function(e){t.flag_D=e},expression:"flag_D"}},t._l(t.DataArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("smoothCurve.resultField")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.fff_name,callback:function(e){t.fff_name=e},expression:"fff_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("smoothCurve.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("smoothCurve.winCounts")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",precision:0,step:1},model:{value:t.ff_frequnency,callback:function(e){t.ff_frequnency=e},expression:"ff_frequnency"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("smoothCurve.degree")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",precision:0,step:1},model:{value:t.fff_frequnency,callback:function(e){t.fff_frequnency=e},expression:"fff_frequnency"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.frefilterHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("smoothCurve.title"),algName:t.algName}})],1)},staticRenderFns:[]};var Z=a("VU/8")(Y,X,!1,function(t){a("QPkp")},"data-v-130d5434",null).exports,J={components:{algExplain:S.a},props:["type"],data:function(){return{algName:"向上/下延拓",options:[{value:"0",label:"延拓异常"}],ff_name:"",ff_flag:"0",fff_name:"解析延拓",flag_X:"",flag_D:"",ff_frequnency:1,fff_frequnency:1,mapconfig:d.a,filedata:"",dataGuid:"",files:[],DataArr:[],dialogVisible:!0,flag:3}},methods:{initForm:function(t){var e=this;e.mapconfig.treeWorkSpace[0].children[0].children.forEach(function(t,a){e.files.push({label:t.label,key:t.guid,data:t.Data})})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=this,a=void 0;a=this.files.find(function(e){return e.key===t}),this.ff_name=a.label.substring(0,a.label.length-5)+"_"+this.type+".xlsx",this.dataGuid=t,c.a.getJsonFromDatabase(this.dataGuid,function(t){for(var a in e.DataArr=B()(t.data[0]),e.DataArr)e.DataArr[a]={key:a,value:e.DataArr[a]};e.DataArr.length>1&&(e.flag_X=e.DataArr[0].value,e.flag_D=e.DataArr[1].value)})},frefilterHandle:function(){if(""!=this.filedata&&""!=this.ff_name&&""!=this.flag_X&&""!=this.flag_D&&""!=this.ff_flag&&""!=this.type&&""!=this.ff_frequnency&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a=e.data,i={};i.column_X=t.flag_X,i.column_D=t.flag_D,i.column_E=t.type,i.data=[];var l={};t.type==window.vm.$i18n.t("conti_up.title")?(t.flag=2,t.ff_frequnency=-t.ff_frequnency):t.flag=3,l.flag=t.flag,l.type="ans2d",l.data=[];var o=e.data.length,n=e.data.length;l.data.push(o),l.data.push(n),l.data.push(t.ff_flag),l.data.push(t.ff_frequnency);for(var s=0;s<a.length;s++)l.data.push(a[s][t.flag_X]+" "+a[s][t.flag_D]);i.data=a,t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=30,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.ff_name,y.a.executeAlgorithm6(l,"ans2d",i,function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.ff_name,y.a.executeAlgorithmOnServer2(l,e.spatialReference,i,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.type,visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"350px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("analyticContinuation.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("analyticContinuation.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.ff_name,callback:function(e){t.ff_name=e},expression:"ff_name"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("analyticContinuation.xField")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},model:{value:t.flag_X,callback:function(e){t.flag_X=e},expression:"flag_X"}},t._l(t.DataArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("analyticContinuation.dataField")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},model:{value:t.flag_D,callback:function(e){t.flag_D=e},expression:"flag_D"}},t._l(t.DataArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("analyticContinuation.resultField")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("analyticContinuation.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("analyticContinuation.height")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",precision:0,step:1,min:0},model:{value:t.ff_frequnency,callback:function(e){t.ff_frequnency=e},expression:"ff_frequnency"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.frefilterHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("type.section.frequency.up_down"),algName:t.algName}})],1)},staticRenderFns:[]};var Q=a("VU/8")(J,K,!1,function(t){a("sgyz")},"data-v-7e7efede",null).exports,tt={components:{algExplain:S.a},data:function(){return{algName:"二维频率域位场延拓",ct_high:10,ct_precision:.01,ct_time:20,ct_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.ct_name=e.label.substring(0,e.label.length-4)+"(向下conti).grd",this.dataGuid=t},contiHandle:function(){if(""!=this.ct_name&&null!=this.ct_high&&null!=this.ct_precision&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a={type:"conti",data:[]};a.data.push(-1*t.ct_high),a.data.push(t.ct_precision),a.data.push(t.ct_time),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount),a.data.push(e.grdData.ycount),a.data.push(e.grdData.xmin),a.data.push(e.grdData.xmax),a.data.push(e.grdData.ymin),a.data.push(e.grdData.ymax),a.data.push(e.grdData.zmin),a.data.push(e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)"NaN"==e.grdData.z[i][l]?a.data.push(1.70141e38):a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.ct_name,y.a.executeAlgorithm(e,-1*t.ct_high+"\n"+t.ct_precision+"\n"+t.ct_time+" \n","conti",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.ct_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("conti_down.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("conti_down.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("conti_down.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.ct_name,callback:function(e){t.ct_name=e},expression:"ct_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("conti_down.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("conti_down.ct_high")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{size:"small","controls-position":"right",max:100,min:0},model:{value:t.ct_high,callback:function(e){t.ct_high=e},expression:"ct_high"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("conti_down.ddPrecision")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{size:"small","controls-position":"right",max:10,min:.01,precision:3,step:.01},model:{value:t.ct_precision,callback:function(e){t.ct_precision=e},expression:"ct_precision"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("conti_down.ddNum")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{size:"small","controls-position":"right",max:100,min:1},model:{value:t.ct_time,callback:function(e){t.ct_time=e},expression:"ct_time"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.contiHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("conti_down.title"),algName:t.algName}})],1)},staticRenderFns:[]};var at=a("VU/8")(tt,et,!1,function(t){a("NBxo")},"data-v-06ceb990",null).exports,it={components:{algExplain:S.a},data:function(){return{algName:"二维频率域位场延拓",ct_high:10,ct_precision:.01,ct_time:2,ct_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.ct_name=e.label.substring(0,e.label.length-4)+"(向上conti).grd",this.dataGuid=t},contiHandle:function(){if(""!=this.ct_name&&null!=this.ct_high&&null!=this.ct_precision&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a={type:"conti",data:[]};a.data.push(t.ct_high),a.data.push(t.ct_precision),a.data.push(t.ct_time),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount),a.data.push(e.grdData.ycount),a.data.push(e.grdData.xmin),a.data.push(e.grdData.xmax),a.data.push(e.grdData.ymin),a.data.push(e.grdData.ymax),a.data.push(e.grdData.zmin),a.data.push(e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)"NaN"==e.grdData.z[i][l]?a.data.push(1.70141e38):a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.ct_name,y.a.executeAlgorithm(e,t.ct_high+"\n"+t.ct_precision+"\n"+t.ct_time+" \n","conti",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.ct_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("conti_up.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("conti_up.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("conti_up.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.ct_name,callback:function(e){t.ct_name=e},expression:"ct_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("conti_up.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("conti_up.ct_high")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{size:"small","controls-position":"right",max:100,min:0},model:{value:t.ct_high,callback:function(e){t.ct_high=e},expression:"ct_high"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.contiHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("conti_up.title"),algName:t.algName}})],1)},staticRenderFns:[]};var ot=a("VU/8")(it,lt,!1,function(t){a("gOvZ")},"data-v-57041a99",null).exports,nt={components:{algExplain:S.a},data:function(){return{algName:"二维磁异常化极",II:0,DD:0,pfp_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.pfp_name=e.label.substring(0,e.label.length-4)+"(rtp).grd",this.dataGuid=t},pfpHandle:function(){if(""!=this.pfp_name&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a={type:"rtp",data:[]};a.data.push(t.II),a.data.push(t.DD),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount+","+e.grdData.ycount),a.data.push(e.grdData.xmin+","+e.grdData.xmax),a.data.push(e.grdData.ymin+","+e.grdData.ymax),a.data.push(e.grdData.zmin+","+e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)"NaN"==e.grdData.z[i][l]?a.data.push(1.70141e38):a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.pfp_name,y.a.executeAlgorithm2(e,t.II+"  \n"+t.DD+"  \n","rtp",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.pfp_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("rtp.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("rtp.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("rtp.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.pfp_name,callback:function(e){t.pfp_name=e},expression:"pfp_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("rtp.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("rtp.dip")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("InputNumber",{staticStyle:{width:"100px"},attrs:{max:90,min:0},model:{value:t.II,callback:function(e){t.II=e},expression:"II"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("rtp.driftAngle")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("InputNumber",{staticStyle:{width:"100px"},attrs:{max:360,min:0},model:{value:t.DD,callback:function(e){t.DD=e},expression:"DD"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.pfpHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("rtp.title"),algName:t.algName}})],1)},staticRenderFns:[]};var rt=a("VU/8")(nt,st,!1,function(t){a("auU0")},"data-v-6ef9e894",null).exports,ct={components:{algExplain:S.a},data:function(){return{algName:"位场曲面延拓",resultHeight:0,splitCount:10,DDnum:50,deviation:.5,qhp2d_name:"",mapconfig:d.a,filedata:"",filedata2:"",dataGuid:"",dataGuid2:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.qhp2d_name=e.label.substring(0,e.label.length-4)+"(qhp2d).grd",this.dataGuid=t},selectFile2:function(t){this.dataGuid2=t},qhp2dHandle:function(){if(""!=this.qhp2d_name&&""!=this.dataGuid&&""!=this.filedata2){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(t.dataGuid,function(e){c.a.getJsonFromDatabase(t.dataGuid2,function(a){var i={type:"qhp2d",data:[]};i.data.push(t.resultHeight),i.data.push(t.splitCount),i.data.push(t.deviation),i.data.push(t.DDnum),i.data.push(a.grdData.type),i.data.push(a.grdData.xcount+","+a.grdData.ycount),i.data.push(a.grdData.xmin+","+a.grdData.xmax),i.data.push(a.grdData.ymin+","+a.grdData.ymax),i.data.push(a.grdData.zmin+","+a.grdData.zmax);for(var l=0;l<a.grdData.z.length;l++)for(var o=0;o<a.grdData.z[l].length;o++)"NaN"==a.grdData.z[l][o]?i.data.push(1.70141e38):i.data.push(a.grdData.z[l][o]);i.data.push(e.grdData.type),i.data.push(e.grdData.xcount+","+e.grdData.ycount),i.data.push(e.grdData.xmin+","+e.grdData.xmax),i.data.push(e.grdData.ymin+","+e.grdData.ymax),i.data.push(e.grdData.zmin+","+e.grdData.zmax);for(var n=0;n<e.grdData.z.length;n++)for(var s=0;s<e.grdData.z[n].length;s++)"NaN"==e.grdData.z[n][s]?i.data.push(1.70141e38):i.data.push(e.grdData.z[n][s]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.qhp2d_name,y.a.executeAlgorithm3(a,e,t.resultHeight+"\n"+t.splitCount+"\n"+t.deviation+"\n"+t.DDnum+"\n","qhp2d",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.qhp2d_name,y.a.executeAlgorithmOnServer(i,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("qhp2d.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"450px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("qhp2d.gravityFile")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{offset:2,span:8}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("qhp2d.altitude")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile2},model:{value:t.filedata2,callback:function(e){t.filedata2=e},expression:"filedata2"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("qhp2d.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{size:"small"},model:{value:t.qhp2d_name,callback:function(e){t.qhp2d_name=e},expression:"qhp2d_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("qhp2d.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:9}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("qhp2d.resultHeight")))])]),t._v(" "),a("el-col",{attrs:{offset:1,span:4}},[a("el-input",{attrs:{size:"small",min:0},model:{value:t.resultHeight,callback:function(e){t.resultHeight=e},expression:"resultHeight"}})],1),t._v(" "),a("el-col",{attrs:{span:9}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("qhp2d.splitCount")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small",min:0},model:{value:t.splitCount,callback:function(e){t.splitCount=e},expression:"splitCount"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:9}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("qhp2d.DDnum")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small",min:0},model:{value:t.DDnum,callback:function(e){t.DDnum=e},expression:"DDnum"}})],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("qhp2d.deviation")))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small",min:0},model:{value:t.deviation,callback:function(e){t.deviation=e},expression:"deviation"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.qhp2dHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("qhp2d.title"),algName:t.algName}})],1)},staticRenderFns:[]};var ut=a("VU/8")(ct,dt,!1,function(t){a("C512")},"data-v-a8f704a4",null).exports,pt={components:{algExplain:S.a},data:function(){return{algName:"归一化总体度",poumianWeizhi:"",yichangZhi:"",XBnum:1,Zmin:0,Zmax:0,NZ:10,nfg2d_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],fields:[],funFlag:[{key:0,label:"算数平均"},{key:1,label:"几何平均"},{key:2,label:"调和平均"},{key:3,label:"截断平均"},{key:4,label:"中位数"},{key:5,label:"标准差"},{key:6,label:"众数"},{key:7,label:"自相关"},{key:8,label:"最大绝对值"},{key:9,label:"平方平均"}],gyhFlag:"",dialogVisible:!0}},methods:{initForm:function(t){var e=this;e.$store.state.LocalDB.db.gettypeDataInfos("xls",function(t){e.$store.state.LocalDB.db.gettypeDataInfos("xlsx",function(a){t.concat(a);e.files=t})})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=this,a=void 0;a=this.files.find(function(e){return e.key===t}),this.nfg2d_name=a.label.substring(0,a.label.length-5)+"(nfg2d).grd",this.dataGuid=t,c.a.getJsonFromDatabase(this.dataGuid,function(t){for(var a in t.data[0])e.fields.push({key:a,label:a});e.fields.length>2&&(e.poumianWeizhi=e.fields[0].key,e.yichangZhi=e.fields[1].key,e.gyhFlag=e.funFlag[0].key)})},selectFuncFlag:function(t){this.gyhFlag=t},selectPouMian:function(t){this.poumianWeizhi=t},selectYCZ:function(t){this.yichangZhi=t},nfg2dHandle:function(){if(""!=this.nfg2d_name&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(t.dataGuid,function(e){var a={type:"nfg2d",data:[]};a.data.push(e.data.length),a.data.push(t.NZ),a.data.push(t.XBnum),a.data.push(t.gyhFlag),a.data.push(t.Zmin),a.data.push(t.Zmax);for(var i=0;i<e.data.length;i++)a.data.push(e.data[i][t.poumianWeizhi]+" "+e.data[i][t.yichangZhi]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.nfg2d_name,y.a.executeAlgorithm7(e,e.data.length+"\n"+t.NZ+"\n"+t.XBnum+"\n"+t.gyhFlag+"\n"+t.Zmin+"\n"+t.Zmax+"\n",t.poumianWeizhi,t.yichangZhi,"nfg2d",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.nfg2d_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))},verifyXBnum:function(){if(!(new RegExp(/^[0-9]*[1-9][0-9]*$/).test(this.XBnum)&&this.XBnum<=200))return this.$Message.error(window.vm.$i18n.t("message.xieboCount")),void(this.XBnum="")},verifyNz:function(){if(!(new RegExp(/^[0-9]*[1-9][0-9]*$/).test(this.NZ)&&this.NZ>=2&&this.NZ<=100))return this.$Message.error(window.vm.$i18n.t("message.NZCount")),void(this.NZ="")}},mounted:function(){this.initForm()}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("nfg2d.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("nfg2d.gravityMag")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("nfg2d.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{size:"small"},model:{value:t.nfg2d_name,callback:function(e){t.nfg2d_name=e},expression:"nfg2d_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("nfg2d.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("nfg2d.sectionPos")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectPouMian},model:{value:t.poumianWeizhi,callback:function(e){t.poumianWeizhi=e},expression:"poumianWeizhi"}},t._l(t.fields,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("nfg2d.abnormal")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectYCZ},model:{value:t.yichangZhi,callback:function(e){t.yichangZhi=e},expression:"yichangZhi"}},t._l(t.fields,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("nfg2d.harmonic")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"small"},on:{blur:t.verifyXBnum},model:{value:t.XBnum,callback:function(e){t.XBnum=e},expression:"XBnum"}})],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("nfg2d.function")))])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFuncFlag},model:{value:t.gyhFlag,callback:function(e){t.gyhFlag=e},expression:"gyhFlag"}},t._l(t.funFlag,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Zmin：")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small",min:0},model:{value:t.Zmin,callback:function(e){t.Zmin=e},expression:"Zmin"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Zmax：")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small",min:0},model:{value:t.Zmax,callback:function(e){t.Zmax=e},expression:"Zmax"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("NZ：")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small",min:0},on:{blur:t.verifyNz},model:{value:t.NZ,callback:function(e){t.NZ=e},expression:"NZ"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.nfg2dHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("nfg2d.title"),algName:t.algName}})],1)},staticRenderFns:[]};var mt=a("VU/8")(pt,ht,!1,function(t){a("T3zb")},"data-v-8c4e4cce",null).exports,gt=a("xrTZ"),ft=a("gZfX"),vt={components:{algExplain:S.a},data:function(){return{algName:"单点地磁要素计算",Lat:33,Lnt:107,time:0,timeFloat:0,height:0,XfenL:0,YfenL:0,ZfenL:0,PianJ:0,QingJ:0,ZongC:0,ShuiP:0,singleG_name:"",mapconfig:d.a,dialogVisible:!0,Base64:gt.Base64}},methods:{close:function(){this.dialogVisible=!1,this.$emit("inputMess")},singleGravityHandle:function(){if(0!=this.Lat&&0!=this.Lnt&&0!=this.time){var t=this;t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),t.timeFloat=t.getTime(t.time);var e={type:"igrf",data:[]};if(e.data.push(1),e.data.push(t.timeFloat+" "+t.height+" "+t.Lat+" "+t.Lnt),t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal){var a="1\n";a+=t.timeFloat+" "+t.height+" "+t.Lat+" "+t.Lnt;var i="http://"+t.mapconfig.algorithmUrl+":"+t.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890",o={fun:"igrf"};o.par=a,this.axios({method:"post",url:i,data:l()(o),dataType:"text",contentType:"application/json"}).then(function(e){var a=t.Base64.decode(e.data.res).replace(/\r|\n|\"/," ").split(/\s+/);t.XfenL=(1*a[8]).toFixed(2),t.YfenL=(1*a[7]).toFixed(2),t.ZfenL=(1*a[9]).toFixed(2),t.PianJ=(1*a[4]).toFixed(2),t.QingJ=(1*a[5]).toFixed(2),t.ZongC=(1*a[10]).toFixed(2),t.ShuiP=(1*a[6]).toFixed(2),setTimeout(function(){ft.a.state.percent=100},2e3),setTimeout(function(){ft.a.state.progressVisible=!1},2500)}).catch(function(t){})}else"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&t.axios({method:"post",url:WebConfig.ServicesUrl+"/Algorithm",data:e,dataType:"json",contentType:"application/json;"}).then(function(e){0==e.data.retCode?(t.XfenL=(1*e.data.data[8]).toFixed(2),t.YfenL=(1*e.data.data[7]).toFixed(2),t.ZfenL=(1*e.data.data[9]).toFixed(2),t.PianJ=(1*e.data.data[4]).toFixed(2),t.QingJ=(1*e.data.data[5]).toFixed(2),t.ZongC=(1*e.data.data[10]).toFixed(2),t.ShuiP=(1*e.data.data[6]).toFixed(2),setTimeout(function(){ft.a.state.percent=100},2e3),setTimeout(function(){ft.a.state.progressVisible=!1},2500)):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:e.data.message})}).catch(function(e){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:e})})}else this.$Message.error(window.vm.$i18n.t("message.setError"))},getTime:function(t){var e=t.split("-"),a=1*e[0],i=1*e[1],l=1*e[2];return 2==i?a%4==0||a%400==0?1*a+1*((1*(l/29).toFixed(2)+1*i)/12).toFixed(2):1*a+1*((1*(l/28).toFixed(2)+1*i)/12).toFixed(2):1==i||3==i||5==i||7==i||8==i||10==i||12==i?1*a+1*((1*(l/31).toFixed(2)+1*i)/12).toFixed(2):1*a+1*((1*(l/30).toFixed(2)+1*i)/12).toFixed(2)}},mounted:function(){}},bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("singleGravityCal.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"450px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.longitude")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{attrs:{size:"small",controls:!1,min:-180,max:180,precision:2},model:{value:t.Lnt,callback:function(e){t.Lnt=e},expression:"Lnt"}})],1),t._v(" "),a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.latitude")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{attrs:{size:"small",controls:!1,min:-90,max:90,precision:2},model:{value:t.Lat,callback:function(e){t.Lat=e},expression:"Lat"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.altitude")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{attrs:{size:"small",controls:!1,precision:2},model:{value:t.height,callback:function(e){t.height=e},expression:"height"}})],1),t._v(" "),a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.time")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-date-picker",{style:{width:"130px"},attrs:{size:"small",type:"date","value-format":"yyyy-M-d"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("singleGravityCal.result.title")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.result.xComponent")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{style:{width:"100px"},attrs:{size:"small",controls:!1,precision:2},model:{value:t.XfenL,callback:function(e){t.XfenL=e},expression:"XfenL"}})],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.result.dipI")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{style:{width:"100px"},attrs:{size:"small",controls:!1,precision:2},model:{value:t.QingJ,callback:function(e){t.QingJ=e},expression:"QingJ"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.result.yComponent")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{style:{width:"100px"},attrs:{size:"small",controls:!1,precision:2},model:{value:t.YfenL,callback:function(e){t.YfenL=e},expression:"YfenL"}})],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.result.deflect")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{style:{width:"100px"},attrs:{size:"small",controls:!1,precision:2},model:{value:t.PianJ,callback:function(e){t.PianJ=e},expression:"PianJ"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.result.zComponent")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{style:{width:"100px"},attrs:{size:"small",controls:!1,precision:2},model:{value:t.ZfenL,callback:function(e){t.ZfenL=e},expression:"ZfenL"}})],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.result.hComponent")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{style:{width:"100px"},attrs:{size:"small",controls:!1,precision:2},model:{value:t.ShuiP,callback:function(e){t.ShuiP=e},expression:"ShuiP"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("singleGravityCal.result.totalF")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{style:{width:"100px"},attrs:{size:"small",controls:!1,precision:2},model:{value:t.ZongC,callback:function(e){t.ZongC=e},expression:"ZongC"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.singleGravityHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("singleGravityCal.title"),algName:t.algName}})],1)},staticRenderFns:[]};var yt=a("VU/8")(vt,bt,!1,function(t){a("aZgk")},"data-v-34f10898",null).exports,_t={components:{algExplain:S.a},data:function(){return{algName:"多点地磁要素计算",Lnt:"",Lat:"",Alt:"",time:"",igrf_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],fields:[],dialogVisible:!0,Base64:gt.Base64}},methods:{initForm:function(t){var e=this;e.$store.state.LocalDB.db.gettypeDataInfos("xls",function(t){e.$store.state.LocalDB.db.gettypeDataInfos("xlsx",function(a){t.concat(a);e.files=t})})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=this;e.fields=[];var a=void 0;a=this.files.find(function(e){return e.key===t}),this.igrf_name=a.label.substring(0,a.label.length-5)+"(igrf).xls",this.dataGuid=t,c.a.getJsonFromDatabase(this.dataGuid,function(t){for(var a in t.data[0])e.fields.push({key:a,label:a});e.fields.length>3&&(e.Lnt=e.fields[0].key,e.Lat=e.fields[1].key,e.Alt=e.fields[2].key,e.time=e.fields[3].key)})},selectLnt:function(t){this.Lnt=t},selectLat:function(t){this.Lat=t},selectAlt:function(t){this.Alt=t},selectTime:function(t){this.time=t},nfg2dHandle:function(){if(""!=this.igrf_name&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(t.dataGuid,function(e){var a=e.data.length+"\n",i={type:"igrf",data:[]};i.data.push(e.data.length);for(var o=0;o<e.data.length;o++)i.data.push(e.data[o][t.time]+" "+e.data[o][t.Alt]+" "+e.data[o][t.Lat]+" "+e.data[o][t.Lnt]),a+=e.data[o][t.time]+" "+e.data[o][t.Alt]+" "+e.data[o][t.Lat]+" "+e.data[o][t.Lnt]+"\n";if(t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal){var n="http://"+t.mapconfig.algorithmUrl+":"+t.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890",s={fun:"igrf"};s.par=a,t.axios({method:"post",url:n,data:l()(s),dataType:"text",contentType:"application/json"}).then(function(e){for(var a=t.Base64.decode(e.data.res).replace(/\r|\n|\"/," ").split(/\s+/),i=[],l=0;l<a.length-1;l+=11)i.push(a.slice(l,l+11));for(var o=[],n=0;n<i.length;n++){var s=i[n],r={};r.日期=(1*s[0]).toFixed(2),r.高程=(1*s[1]).toFixed(2),r.纬度=(1*s[2]).toFixed(7),r.经度=(1*s[3]).toFixed(7),r.X分量=(1*s[8]).toFixed(2),r.Y分量=(1*s[7]).toFixed(2),r.Z分量=(1*s[9]).toFixed(2),r.偏角D=(1*s[4]).toFixed(2),r.倾角I=(1*s[5]).toFixed(2),r.总场F=(1*s[10]).toFixed(2),r.水平分量H=(1*s[6]).toFixed(2),o.push(r)}var d=c.a.newGuid(),u={guid:d,data:o,displayName:t.igrf_name,datatype:"xls"};t.$store.state.LocalDB.db.addData(u,function(e){t.mapconfig.treeWorkSpace[0].children[0].children.push({label:t.igrf_name,datatype:"xls",guid:d,Data:o}),setTimeout(function(){ft.a.state.percent=100},2e3),setTimeout(function(){ft.a.state.progressVisible=!1},2500)}).catch(function(t){})})}else"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&t.axios({method:"post",url:WebConfig.ServicesUrl+"/Algorithm",data:i,dataType:"json",contentType:"application/json;"}).then(function(e){if(0==e.data.retCode){for(var a=[],i=0;i<e.data.data.length;i+=11)a.push(e.data.data.slice(i,i+11));for(var l=[],o=0;o<a.length;o++){var n=a[o],s={};s.日期=(1*n[0]).toFixed(2),s.高程=(1*n[1]).toFixed(2),s.纬度=(1*n[2]).toFixed(7),s.经度=(1*n[3]).toFixed(7),s.X分量=(1*n[8]).toFixed(2),s.Y分量=(1*n[7]).toFixed(2),s.Z分量=(1*n[9]).toFixed(2),s.偏角D=(1*n[4]).toFixed(2),s.倾角I=(1*n[5]).toFixed(2),s.总场F=(1*n[10]).toFixed(2),s.水平分量H=(1*n[6]).toFixed(2),l.push(s)}var r=c.a.newGuid(),d={guid:r,data:l,displayName:t.igrf_name,datatype:"xls"};t.$store.state.LocalDB.db.addData(d,function(e){t.mapconfig.treeWorkSpace[0].children[0].children.push({label:t.igrf_name,datatype:"xls",guid:r,Data:l}),setTimeout(function(){ft.a.state.percent=100},2e3),setTimeout(function(){ft.a.state.progressVisible=!1},3e3)})}else t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:e.data.message})}).catch(function(e){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:e})})})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("multiGravityCal.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("multiGravityCal.file")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("multiGravityCal.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{size:"small"},model:{value:t.igrf_name,callback:function(e){t.igrf_name=e},expression:"igrf_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("multiGravityCal.args.title")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("multiGravityCal.args.longitude")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectLnt},model:{value:t.Lnt,callback:function(e){t.Lnt=e},expression:"Lnt"}},t._l(t.fields,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("multiGravityCal.args.latitude")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectLat},model:{value:t.Lat,callback:function(e){t.Lat=e},expression:"Lat"}},t._l(t.fields,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("multiGravityCal.args.altitude")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectAlt},model:{value:t.Alt,callback:function(e){t.Alt=e},expression:"Alt"}},t._l(t.fields,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("multiGravityCal.args.time")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},t._l(t.fields,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.nfg2dHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("multiGravityCal.title"),algName:t.algName}})],1)},staticRenderFns:[]};var wt=a("VU/8")(_t,xt,!1,function(t){a("Emfq")},"data-v-b8af9a6c",null).exports,Ct={components:{algExplain:S.a},data:function(){return{algName:"常密度Parker法密度界面正演",density:1,depth:1,frequence:10,forwardParker_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.forwardParker_name=e.label.substring(0,e.label.length-4)+"(forward_parker).grd",this.dataGuid=t},forwardParkerHandle:function(){if(""!=this.forwardParker_name&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(this.dataGuid,function(e){var a={type:"interface_forward_parker",data:[]};a.data.push(t.density),a.data.push(t.depth),a.data.push(t.frequence),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount+","+e.grdData.ycount),a.data.push(e.grdData.xmin+","+e.grdData.xmax),a.data.push(e.grdData.ymin+","+e.grdData.ymax),a.data.push(e.grdData.zmin+","+e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)"NaN"==e.grdData.z[i][l]?a.data.push(1.70141e38):a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.forwardParker_name,y.a.executeAlgorithm2(e,t.density+"\n"+t.depth+"\n"+t.frequence+"\n","interface_forward_parker",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.forwardParker_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("interface_forward_parker.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"350px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_forward_parker.file")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_forward_parker.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.forwardParker_name,callback:function(e){t.forwardParker_name=e},expression:"forwardParker_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("interface_forward_parker.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_forward_parker.density")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small"},model:{value:t.density,callback:function(e){t.density=e},expression:"density"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_forward_parker.depth")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",max:100,min:.001},model:{value:t.depth,callback:function(e){t.depth=e},expression:"depth"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.forwardParkerHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("interface_forward_parker.title"),algName:t.algName}})],1)},staticRenderFns:[]};var kt=a("VU/8")(Ct,Dt,!1,function(t){a("Ffwx")},"data-v-608152fc",null).exports,$t={components:{algExplain:S.a},data:function(){return{algName:"指数变密度界面正演",densityVar:0,depth:0,frequence:10,forwardvar_name:"",mapconfig:d.a,filedata:"",filedata2:"",dataGuid:"",dataGuid2:"",files:[],dialogVisible:!0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.forwardvar_name=e.label.substring(0,e.label.length-4)+"(forward_var).grd",this.dataGuid=t},selectFile2:function(t){this.dataGuid2=t},forwardVarHandle:function(){if(""!=this.forwardvar_name&&""!=this.dataGuid&&""!=this.filedata2){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(t.dataGuid,function(e){c.a.getJsonFromDatabase(t.dataGuid2,function(a){var i={type:"interface_forward_var",data:[]};i.data.push(t.densityVar),i.data.push(t.depth),i.data.push(e.grdData.type),i.data.push(e.grdData.xcount+","+e.grdData.ycount),i.data.push(e.grdData.xmin+","+e.grdData.xmax),i.data.push(e.grdData.ymin+","+e.grdData.ymax),i.data.push(e.grdData.zmin+","+e.grdData.zmax);for(var l=0;l<e.grdData.z.length;l++)for(var o=0;o<e.grdData.z[l].length;o++)i.data.push(e.grdData.z[l][o]);i.data.push(a.grdData.type),i.data.push(a.grdData.xcount+","+a.grdData.ycount),i.data.push(a.grdData.xmin+","+a.grdData.xmax),i.data.push(a.grdData.ymin+","+a.grdData.ymax),i.data.push(a.grdData.zmin+","+a.grdData.zmax);for(var n=0;n<a.grdData.z.length;n++)for(var s=0;s<a.grdData.z[n].length;s++)"NaN"==e.grdData.z[n][s]?i.data.push(1.70141e38):i.data.push(e.grdData.z[n][s]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.forwardvar_name,y.a.executeAlgorithm3(e,a,t.densityVar+"\n"+t.depth+"\n","interface_forward_var",function(){t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")})})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.forwardvar_name,y.a.executeAlgorithmOnServer(i,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("interface_forward_var.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"480px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_forward_var.interface")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_forward_var.density")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile2},model:{value:t.filedata2,callback:function(e){t.filedata2=e},expression:"filedata2"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_forward_var.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.forwardvar_name,callback:function(e){t.forwardvar_name=e},expression:"forwardvar_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("interface_forward_var.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_forward_var.change")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small"},model:{value:t.densityVar,callback:function(e){t.densityVar=e},expression:"densityVar"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_forward_var.depth")))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input-number",{attrs:{size:"small",max:10,min:.01},model:{value:t.depth,callback:function(e){t.depth=e},expression:"depth"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.forwardVarHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("interface_forward_var.title"),algName:t.algName}})],1)},staticRenderFns:[]};var Ft=a("VU/8")($t,St,!1,function(t){a("ebnN")},"data-v-43288da6",null).exports,Tt={components:{algExplain:S.a},data:function(){return{algName:"密度界面反演",attenua:0,depth:0,numItera:10,endDev:0,forwardInvarsion_name:"",mapconfig:d.a,filedata:"",filedata2:"",filedata3:"",dataGuid:"",dataGuid2:"",dataGuid3:"",files:[],files_xls:[],dialogVisible:!0,progressBar:!1}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.forwardInvarsion_name=e.label.substring(0,e.label.length-4)+"(inversion_var).grd",this.dataGuid=t},selectFile2:function(t){this.dataGuid2=t},selectFile3:function(t){this.dataGuid3=t},forwardVarHandle:function(){if(""!=this.filedata&&""!=this.forwardInvarsion_name&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),t.progressBar=!0,c.a.getJsonFromDatabase(t.dataGuid,function(e){var a={type:"interface_inversion_var",data:[]};a.data.push(t.attenua),a.data.push(t.depth),a.data.push(t.numItera),a.data.push(t.endDev),a.data.push(e.grdData.type),a.data.push(e.grdData.xcount+","+e.grdData.ycount),a.data.push(e.grdData.xmin+","+e.grdData.xmax),a.data.push(e.grdData.ymin+","+e.grdData.ymax),a.data.push(e.grdData.zmin+","+e.grdData.zmax);for(var i=0;i<e.grdData.z.length;i++)for(var l=0;l<e.grdData.z[i].length;l++)a.data.push(e.grdData.z[i][l]);t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,"1"==t.mapconfig.algorithmUrlFromServerOrLocal?(y.a.name=t.forwardInvarsion_name,y.a.executeAlgorithm(e,t.attenua+"\n"+t.depth+"\n"+t.numItera+"\n"+t.endDev+"\n","interface_inversion_var",function(e){"error"==e?(t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:window.vm.$i18n.t("message.callLocalAlgError")}),t.progressBar=!1):t.progressBar=!1})):"0"==t.mapconfig.algorithmUrlFromServerOrLocal&&(y.a.name=t.forwardInvarsion_name,y.a.executeAlgorithmOnServer(a,e.spatialReference,function(e,a){"success"==e?(t.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"}),t.$emit("inputMess")):t.$Notice.warning({title:window.vm.$i18n.t("message.errorTips"),desc:a})}))})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},Mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"loading",rawName:"v-loading",value:t.progressBar,expression:"progressBar"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("interface_inversion_var.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"550px","element-loading-text":"正在处理中..."},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_inversion_var.file")))])]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_inversion_var.outFile")))])]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{size:"small"},model:{value:t.forwardInvarsion_name,callback:function(e){t.forwardInvarsion_name=e},expression:"forwardInvarsion_name"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("interface_inversion_var.args")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_inversion_var.density")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{staticStyle:{width:"100px"},attrs:{size:"small","controls-position":"right"},model:{value:t.attenua,callback:function(e){t.attenua=e},expression:"attenua"}})],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_inversion_var.depth")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{staticStyle:{width:"100px"},attrs:{size:"small","controls-position":"right",min:0},model:{value:t.depth,callback:function(e){t.depth=e},expression:"depth"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{offset:1,span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_inversion_var.numItera")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{staticStyle:{width:"100px"},attrs:{size:"small","controls-position":"right",max:100,min:1},model:{value:t.numItera,callback:function(e){t.numItera=e},expression:"numItera"}})],1),t._v(" "),a("el-col",{attrs:{span:1}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("interface_inversion_var.endDev")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input-number",{staticStyle:{width:"100px"},attrs:{size:"small","controls-position":"right",max:100,min:.01},model:{value:t.endDev,callback:function(e){t.endDev=e},expression:"endDev"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.forwardVarHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("interface_inversion_var.title"),algName:t.algName}})],1)},staticRenderFns:[]};var Lt=a("VU/8")(Tt,Mt,!1,function(t){a("+bRd")},"data-v-e0def340",null).exports,zt={data:function(){return{dialogVisible:!0,options:[],fileGuid:"",spatialReferences:d.a.spatialReferences,spatialRefVaule:"",xyOption:[],bindXValue:"",bindYValue:"",excelFlag:!1}},methods:{getFileList:function(){var t=this;c.a.getAllJsonFromDatabase(function(e){if(t.options=[],0!=e.length)for(var a=0;a<e.length;a++)t.options.push({value:e[a].guid,label:e[a].displayName})})},handleClose:function(){this.dialogVisible=!1,this.$emit("inputMess")},handleOK:function(){if(""==this.fileGuid)this.$message({message:window.vm.$i18n.t("message.selectFile"),type:"warning"});else{var t={},e=this;t.spatialReference=this.spatialRefVaule,1==this.excelFlag&&(t.bindX=this.bindXValue,t.bindY=this.bindYValue),this.$store.state.LocalDB.db.updateData(this.fileGuid,t,function(t){"1"==t?e.$message({message:window.vm.$i18n.t("message.updateSuccess"),type:"success"}):e.$message({message:window.vm.$i18n.t("message.updateFail"),type:"error"}),e.handleClose()})}},fileSelectChange:function(){var t=this.fileGuid,e=this;e.xyOption=[],c.a.getJsonFromDatabase(t,function(t){if(t)if(e.spatialRefVaule=t.spatialReference,"xls"==t.datatype||"xlsx"==t.datatype){e.excelFlag=!0,e.bindXValue=t.bindX,e.bindYValue=t.bindY;var a=t.data[0];for(var i in a)e.xyOption.push({value:i,label:i})}else e.excelFlag=!1})}},mounted:function(){this.getFileList()}},At={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:t.$t("setCoordinateSys.title"),visible:t.dialogVisible,width:"30%","custom-class":"geo-dialog-custom","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.handleClose}},[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("setCoordinateSys.selectDataFile")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small"},on:{change:t.fileSelectChange},model:{value:t.fileGuid,callback:function(e){t.fileGuid=e},expression:"fileGuid"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("setCoordinateSys.selectCoordinate")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{size:"small",filterable:""},model:{value:t.spatialRefVaule,callback:function(e){t.spatialRefVaule=e},expression:"spatialRefVaule"}},t._l(t.spatialReferences,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1)],1),t._v(" "),t.excelFlag?a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("setCoordinateSys.setX")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.bindXValue,callback:function(e){t.bindXValue=e},expression:"bindXValue"}},t._l(t.xyOption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:4}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("setCoordinateSys.setY")))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.bindYValue,callback:function(e){t.bindYValue=e},expression:"bindYValue"}},t._l(t.xyOption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1):t._e(),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleOK}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleClose}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var Gt=a("VU/8")(zt,At,!1,function(t){a("hR+b")},null,null).exports,Nt=a("Yaes"),Pt=window.vm.$i18n,It={components:{imageExport:Nt.a,algExplain:S.a},data:function(){return{algName:"人机交互建模",imageFlag:!1,inputY1:0,inputY2:0,xmin:0,xmax:100,ymin:0,ymax:100,xnum:101,ynum:101,zvalue:0,inputNEW:2.6,mapconfig:d.a,reverseY:!0,radio:"0",checkList:["左","右"],changeVisible:!1,innerVisible:!1,figureVisible:!1,grdVisible:!1,slider_data:10,colourLevel:[{value:"Greys",img:a("cspp")},{value:"Picnic",img:a("7yYV")},{value:"Portland",img:a("Ygyn")},{value:"RdBu",img:a("M053")},{value:"Greens",img:a("M/ie")},{value:"Hot",img:a("VtNA")},{value:"Jet",img:a("aMwd")},{value:"Electric",img:a("XsTw")},{value:"Blackbody",img:a("LI+s")},{value:"Bluered",img:a("scUE")},{value:"Viridis",img:a("FoOO")},{value:"YIOrRd",img:a("NLy3")},{value:"YIGnBu",img:a("pc37")},{value:"Earth",img:a("J1x4")}],filedata:"",dataGuid:"",files:[],dialogVisible:!0,figure:{title:"",xtitle:"Distance/（km）",y1title:"Depth/（km）",y2title:"Gravity(mGal)",colorscale:"Jet"},geoLine:{x:[],y:[],n:0,name:Pt.t("HumanMachine.argsSet.calculationArgs.topograhic"),marker:{symbol:"triangle-up",size:8,line:{color:"black",width:1},color:"#C71585"},autoscale:!0,mode:"lines+markers",type:"scatter"},observeLine:{x:[],y:[],name:Pt.t("HumanMachine.argsSet.calculationArgs.observed"),xaxis:"x",yaxis:"y2",marker:{color:"green"},autoscale:!0,mode:"lines+markers",type:"scatter"},newLine:{x:[],y:[],tempY:[],n:0,xaxis:"x",name:Pt.t("HumanMachine.argsSet.calculationArgs.calculate"),yaxis:"y2",marker:{color:"red"},autoscale:!0,mode:"lines+markers",type:"scatter"},contourData:{x:[],y:[],z:[],autoscale:!0,colorscale:"Jet",type:"heatmap",contours:{start:"",end:"",size:""},colorbar:{len:.5,y:.22,title:{text:Pt.t("HumanMachine.argsSet.calculationArgs.densit")+" (g/cm³)"}}},contourParm:{nx:"",ny:"",xmin:"",xmax:"",ymin:"",ymax:"",type:"",zmin:"",zmax:"",z:""},pointData:{x:[],y:[],n:"",opacity:0,name:"",hoverinfo:"none",autoscale:!0,mode:"markers",customdata:[],marker:{color:"#FFFFFF",size:2},type:"scattergl"},layout:{margin:{t:40,b:40,l:50},legend:{x:"0.95"},title:"",showlegend:!0,hovermode:"closest",bargap:0,xaxis:{title:"",domain:[0,1],showgrid:!0,zeroline:!1,mirror:"allticks",ticks:m.a.state.ticks},yaxis:{title:"",domain:[0,.45],showgrid:!0,zeroline:!0,range:""},yaxis2:{title:"",domain:[.5,1],showgrid:!0,zeroline:!0,ticks:m.a.state.ticks,mirror:"allticks"}},selectCustomdata:[],Base64:gt.Base64}},methods:{showGrd:function(){0!=this.contourData.x.length&&0!=this.contourData.y.length?this.$Plotly.newPlot(this.$refs.plotlydiv,[this.contourData],{},{displaylogo:!1,responsive:!0}):this.$message.warning(window.vm.$i18n.t("message.uploadGRD"))},showLine:function(){0!=this.geoLine.n&&0!=this.geoLine.x.length?this.$Plotly.newPlot(this.$refs.plotlydiv,[this.observeLine,this.newLine],{},{displaylogo:!1,responsive:!0}):this.$message.warning(window.vm.$i18n.t("message.uploadJiZhun"))},showAll:function(){this.$Plotly.newPlot(this.$refs.plotlydiv,[this.contourData,this.pointData,this.geoLine,this.observeLine,this.newLine],this.layout,{displaylogo:!1,responsive:!0}),this.changeFigure(),this.AddSelect()},changeFigure:function(){var t={title:this.figure.title,"xaxis.title":this.figure.xtitle,"yaxis.title":this.figure.y1title,"yaxis2.title":this.figure.y2title,colorscale:this.figure.colorscale};this.contourData.colorscale=this.figure.colorscale,this.contourData.contours.size=(this.contourData.contours.end-this.contourData.contours.start)/this.slider_data,this.figureVisible=!1,this.$Plotly.relayout(this.$refs.plotlydiv,t)},handleBeforeUpload:function(t){if(".grd"==t.name.substr(-4)){var e=new FileReader;e.readAsText(t);var a=this;e.onload=function(t){var e,i,l,o,n,s,r,c,d,u,p=[],h=[],m=[];e=(u=this.result.replace(/\r|\n/," ").split(/\s+/))[0],i=parseInt(u[1]),l=parseInt(u[2]),o=parseFloat(u[3]),n=parseFloat(u[4]),s=parseFloat(u[5]),r=parseFloat(u[6]),c=parseFloat(u[7]),d=parseFloat(u[8]);for(var g=(n-o)/(i-1),f=0;f<i;f++)p[f]=o+f*g;for(var v=(r-s)/(l-1),b=0;b<l;b++)h[b]=s+b*v;for(var y=[],_=[],x=[],w=0;w<l;w++){m[w]=[];for(var C=0;C<i;C++){_.push(h[w]),y.push(p[C]),x.push(w+","+C);var D=parseFloat(u[w*i+C+9]);m[w][C]=1.70141e38==D?"NaN":D}}a.pointData.x=y,a.pointData.y=_,a.pointData.customdata=x,a.contourData.x=p,a.contourData.y=h,a.contourData.z=m,a.contourParm.z=m,a.contourParm.type=e,a.contourParm.nx=i,a.contourParm.ny=l,a.contourParm.xmin=o,a.contourParm.xmax=n,a.contourParm.ymin=s,a.contourParm.ymax=r,a.contourParm.zmin=c,a.contourParm.zmax=d,a.contourData.contours.start=c,a.contourData.contours.end=d,a.contourData.contours.size=(d-c)/a.slider_data,a.changeReverse(a.reverseY),a.showAll()}}else this.$notify.error(window.vm.$i18n.t("message.formatError"))},handleBeforeUploadLine:function(t){if(".txt"==t.name.substr(-4)){var e=new FileReader;e.readAsText(t);var a=this;e.onload=function(t){var e,i=[],l=[],o=[],n=void 0;if(""==(n=this.result.replace(/\,|\r|\n/g," ").split(/\s+/))[n.length-1]&&n.pop(),n.length%3==0){e=parseInt(n.length/3);for(var s=n[0],r=n[0],c=0;c<e;c++)i[c]=parseFloat(n[3*c]),l[c]=parseFloat(n[3*c+1]),o[c]=parseFloat(n[3*c+2]),s=s<n[3*c]-0?s:n[3*c]-0,r=r>n[3*c]-0?r:n[3*c]-0;a.xmin=s,a.xmax=r,a.xnum=e,a.geoLine.x=i,a.geoLine.y=l,a.geoLine.n=e,a.observeLine.x=i,a.observeLine.y=o,a.showAll()}else a.$notify.error(window.vm.$i18n.t("message.formatError2"))}}else this.$notify.error(window.vm.$i18n.t("message.formatError1"))},changeReverse:function(t){var e={};e=1==t?{"yaxis.range":[this.contourParm.ymax,this.contourParm.ymin]}:{"yaxis.range":[this.contourParm.ymin,this.contourParm.ymax]},this.$Plotly.relayout(this.$refs.plotlydiv,e)},NewOpera:function(){if(0==this.selectCustomdata.length)return this.$message.warning(window.vm.$i18n.t("message.selectArea")),void(this.changeVisible=!1);for(var t=0;t<this.selectCustomdata.length;t++)if(void 0!=this.selectCustomdata[t]){var e=this.selectCustomdata[t].split(",");this.contourData.z[e[0]][e[1]]=Number(this.inputNEW).toFixed(6)}this.inputNEW>this.contourParm.zmax?this.contourParm.zmax=this.inputNEW:this.inputNEW<this.contourParm.zmin&&(this.contourParm.zmin=this.inputNEW),this.showAll(),this.changeVisible=!1,this.$message.success(window.vm.$i18n.t("message.handleClick")),this.StartOpera()},AddSelect:function(){var t=this;this.$refs.plotlydiv.on("plotly_selected",function(e){if(void 0!=e){var a=[];e.points.forEach(function(t){a.push(t.customdata)}),0==a.length||void 0==a[0]?t.$message.warning(window.vm.$i18n.t("message.selectArea2")):(t.selectCustomdata=a,t.changeVisible=!0)}})},StartOpera:function(){if(0==this.geoLine.n||0==this.contourParm.nx||0==this.contourParm.ny)return this.$message.warning(window.vm.$i18n.t("message.uploadGRDAndJizhun")),void(this.innerVisible=!1);var t,e=0,i=0,o=0,n=0;console.log(this.$refs);var s,r;this.$refs.Left.isChecked&&(e=1),this.$refs.Right.isChecked&&(i=1),this.$refs.Bottom.isChecked&&(n=1),this.$refs.Top.isChecked&&(o=1),t=this.radio;s=this.inputY1,r=this.inputY2;var c="",d=this.geoLine;c=c+t+"\n"+e+"\n"+i+"\n"+o+"\n"+n+"\n"+d.n+"\n";var u=this.contourParm;c=(c=(c=(c=(c=c+u.type+"\n")+u.nx+" "+u.ny+"\n")+u.xmin+" "+u.xmax+"\n")+u.ymin+" "+u.ymax+"\n")+s+" "+r+"\n";for(var p=0;p<u.ny;p++)for(var h=0;h<u.nx;h++)c=c+Number(u.z[p][h]).toFixed(6)+"\n";for(var m=0;m<d.n;m++)c=c+d.x[m].toFixed(6)+"\n";for(var g=0;g<d.n;g++)c=c+d.y[g].toFixed(6)+"\n";var f={type:"gf2d",data:[]};f.data.push(c);var v=this;v.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"});var b=a("mtWM");if("1"==this.mapconfig.algorithmUrlFromServerOrLocal){var y={fun:"gf2d"};y.par=c,b({method:"post",url:"http://"+this.mapconfig.algorithmUrl+":"+this.mapconfig.algorithmPort+"/?act=EXECUTE&t=1234567890",data:l()(y),dataType:"text",contentType:"application/json"}).then(function(t){var e,a=v.Base64.decode(t.data.res).replace(/\r|\n|\"/," ").split(/\s+/),i=[],l=[],o=[];e=(a.length-1)/3;for(var n=0;n<e;n++)i[n]=parseFloat(a[3*n+1]),l[n]=parseFloat(a[3*n+2]),o[n]=parseFloat(a[3*n+3]);v.newLine.x=i,v.newLine.y=o,v.newLine.n=e,v.newLine.tempY=l,v.innerVisible=!1,v.showAll()}).catch(function(t){v.$message.warning(t)})}else"0"==this.mapconfig.algorithmUrlFromServerOrLocal&&b({method:"post",url:WebConfig.ServicesUrl+"/Algorithm",data:f,dataType:"json",contentType:"application/json;"}).then(function(t){if("SUCCESS"==t.data.status){var e,a=t.data.data,i=[],l=[],o=[];e=a.length/3;for(var n=0;n<e;n++)i[n]=parseFloat(a[3*n]),l[n]=parseFloat(a[3*n+1]),o[n]=parseFloat(a[3*n+2]);v.newLine.x=i,v.newLine.y=o,v.newLine.n=e,v.newLine.tempY=l,v.innerVisible=!1,v.showAll()}else v.$message.warning(t.data.message)}).catch(function(t){v.$Message.error(window.vm.$i18n.t("message.serverError"))})},close:function(){var t=this;this.$confirm(window.vm.$i18n.t("message.exitTip"),window.vm.$i18n.t("message.tip"),{confirmButtonText:window.vm.$i18n.t("message.saveData"),cancelButtonText:window.vm.$i18n.t("message.exitNow"),type:"warning",showClose:!1}).then(function(){}).catch(function(){t.dialogVisible=!1,t.$emit("inputMess")})},getWidth:function(){return window.innerWidth-280},getHeight:function(){return window.innerHeight-730},NewGrd:function(){for(var t=[],e=[],a=[],i=[],l=[],o=[],n=(this.xmax-this.xmin)/(this.xnum-1),s=0;s<this.xnum;s++)t[s]=this.xmin+s*n;for(var r=(this.ymax-this.ymin)/(this.ynum-1),c=0;c<this.ynum;c++)e[c]=this.ymin+c*r;for(var d=0;d<this.ynum;d++){a[d]=[];for(var u=0;u<this.xnum;u++)a[d][u]=this.zvalue,l.push(e[d]),i.push(t[u]),o.push(d+","+u)}this.pointData.x=i,this.pointData.y=l,this.pointData.customdata=o,this.contourData.x=t,this.contourData.y=e,this.contourData.z=a,this.contourParm.z=a,this.contourParm.type="DSAA",this.contourParm.nx=this.xnum,this.contourParm.ny=this.ynum,this.contourParm.xmin=this.xmin,this.contourParm.xmax=this.xmax,this.contourParm.ymin=this.ymin,this.contourParm.ymax=this.ymax,this.contourParm.zmin=this.zvalue,this.contourParm.zmax=this.zvalue,this.contourData.contours.start=this.zvalue,this.contourData.contours.end=this.zvalue,this.contourData.contours.size=0,this.changeReverse(this.reverseY),this.showAll(),this.grdVisible=!1},SavaGrd:function(){if(""!=this.contourParm.type&&""!=this.contourParm.nx&&""!=this.contourParm.ny){for(var t=this.contourParm,e=t.type+"\n"+t.nx+" "+t.ny+"\n"+t.xmin+" "+t.xmax+"\n"+t.ymin+" "+t.ymax+"\n"+t.zmin+" "+t.zmax+"\n",a=0;a<t.ny;a++){for(var i=0;i<t.nx;i++)e+=t.z[a][i]+" ";e+=" \n"}var l=new Blob([e],{type:"text/plain"});r.a.saveAs(l,"mod.grd")}else this.$message.warning(window.vm.$i18n.t("message.selectGrdFile"))},SavaNewLine:function(){if(""!=this.newLine.n){for(var t=[],e=this.newLine,a=0;a<e.n;a++)t.push(e.x[a]+", "+e.tempY[a]+", "+e.y[a]+"\n");var i=new Blob(t,{type:"text/plain"});r.a.saveAs(i,"gravity.txt")}else this.$message.warning(window.vm.$i18n.t("message.niheNull"))},showModal:function(){this.imageFlag=!0},closeModal:function(t){this.imageFlag=t}},mounted:function(){var t=this;this.$nextTick(function(){t.showAll()})}},Vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"custom-class":"HMdialog",title:t.$t("HumanMachine.title"),visible:t.dialogVisible,"before-close":t.close,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,modal:!0,width:"1800px",top:"20px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-container",{staticStyle:{height:"820px"}},[a("el-aside",{staticStyle:{"background-color":"rgb(255, 255, 255)"},attrs:{width:"220px"}},[a("el-menu",{attrs:{"default-openeds":["1","2","3","4"]}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-operation"}),t._v(t._s(t.$t("HumanMachine.baseLine.name")))]),t._v(" "),a("el-upload",{attrs:{action:"","show-file-list":!1,"before-upload":t.handleBeforeUploadLine,accept:".txt"}},[a("el-menu-item",{staticStyle:{width:"220px"},attrs:{index:"1-1"}},[t._v(t._s(t.$t("HumanMachine.baseLine.importGravity")))])],1),t._v(" "),a("el-menu-item",{attrs:{index:"1-2"},on:{click:t.SavaNewLine}},[t._v(t._s(t.$t("HumanMachine.baseLine.saveGravity")))])],2),t._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-upload"}),t._v(t._s(t.$t("HumanMachine.modelSet.name")))]),t._v(" "),a("el-upload",{attrs:{action:"","show-file-list":!1,"before-upload":t.handleBeforeUpload,accept:".grd"}},[a("el-menu-item",{staticStyle:{width:"220px"},attrs:{index:"2-1"}},[t._v(t._s(t.$t("HumanMachine.modelSet.inputDensity")))])],1),t._v(" "),a("el-menu-item",{attrs:{index:"2-2"},on:{click:function(e){t.grdVisible=!0}}},[t._v(t._s(t.$t("HumanMachine.modelSet.newDensity.name"))+"\n          ")]),t._v(" "),a("el-menu-item",{attrs:{index:"2-3"},on:{click:t.SavaGrd}},[t._v(t._s(t.$t("HumanMachine.modelSet.saveDensity")))])],2),t._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-tools"}),t._v(t._s(t.$t("HumanMachine.argsSet.name")))]),t._v(" "),a("el-menu-item",{attrs:{index:"3-1"},on:{click:function(e){t.innerVisible=!0}}},[t._v(t._s(t.$t("HumanMachine.argsSet.calculationArgs.name"))+"\n          ")]),t._v(" "),a("el-menu-item",{attrs:{index:"3-2"},on:{click:function(e){t.figureVisible=!0}}},[t._v(t._s(t.$t("HumanMachine.argsSet.viewArgs.name"))+"\n          ")])],2),t._v(" "),a("el-menu-item",{attrs:{index:"5"},on:{click:t.close}},[t._v(t._s(t.$t("HumanMachine.argsSet.exit")))])],1)],1),t._v(" "),a("el-container",[a("el-main",{staticStyle:{padding:"0px"}},[a("div",{ref:"plotlydiv",staticStyle:{width:"1550px",height:"800px"}})])],1)],1),t._v(" "),a("el-dialog",{attrs:{"custom-class":"geo-dialog-custom",width:"640px","show-close":!1,title:t.$t("HumanMachine.argsSet.calculationArgs.title"),visible:t.innerVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.argsSet.calculationArgs.boundary")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-checkbox-group",{staticStyle:{"margin-top":"5px"},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-checkbox",{ref:"Left",attrs:{label:t.$t("HumanMachine.argsSet.calculationArgs.left")}}),t._v(" "),a("el-checkbox",{ref:"Right",attrs:{label:t.$t("HumanMachine.argsSet.calculationArgs.right")}}),t._v(" "),a("el-checkbox",{ref:"Top",attrs:{label:t.$t("HumanMachine.argsSet.calculationArgs.top")}}),t._v(" "),a("el-checkbox",{ref:"Bottom",attrs:{label:t.$t("HumanMachine.argsSet.calculationArgs.bottom")}})],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.argsSet.calculationArgs.calPhysics")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("span",{staticClass:"geo-dialog-lable"},[a("el-radio",{staticStyle:{"margin-top":"5px"},attrs:{label:"0"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(t._s(t.$t("HumanMachine.argsSet.calculationArgs.gravity")))]),t._v(" "),a("el-radio",{staticStyle:{"margin-top":"5px"},attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(t._s(t.$t("HumanMachine.argsSet.calculationArgs.horizontalGradient")))])],1)])],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:8}}),t._v(" "),a("el-col",{attrs:{span:14}},[a("span",{staticClass:"geo-dialog-lable"},[a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(t._s(t.$t("HumanMachine.argsSet.calculationArgs.verticalGradient")))]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(t._s(t.$t("HumanMachine.argsSet.calculationArgs.vertical2Rank")))])],1)])],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("HumanMachine.argsSet.calculationArgs.arg_25D")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Y1：")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{staticStyle:{width:"130px"},attrs:{disabled:!0,size:"small",placeholder:"0"},model:{value:t.inputY1,callback:function(e){t.inputY1=e},expression:"inputY1"}}),t._v("\n        km"),a("br")],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Y2：")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{staticStyle:{width:"130px"},attrs:{disabled:!0,size:"small",placeholder:"0"},model:{value:t.inputY2,callback:function(e){t.inputY2=e},expression:"inputY2"}}),t._v("\n        km\n      ")],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.StartOpera}},[t._v(t._s(t.$t("HumanMachine.argsSet.calculationArgs.handle")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.innerVisible=!1}}},[t._v(t._s(t.$t("button.cancel"))+"\n      ")])],1)],1),t._v(" "),a("el-dialog",{attrs:{"custom-class":"geo-dialog-custom",width:"260px",title:"修改值","show-close":!1,visible:t.changeVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.changeVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("新值：")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.inputNEW,callback:function(e){t.inputNEW=e},expression:"inputNEW"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.NewOpera}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.changeVisible=!1}}},[t._v(t._s(t.$t("button.cancel")))])],1)],1),t._v(" "),a("el-dialog",{attrs:{"custom-class":"geo-dialog-custom",width:"690px",title:t.$t("HumanMachine.modelSet.newDensity.title"),"show-close":!1,visible:t.grdVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.grdVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Xmin：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{size:"small"},model:{value:t.xmin,callback:function(e){t.xmin=e},expression:"xmin"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Xmax：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{size:"small"},model:{value:t.xmax,callback:function(e){t.xmax=e},expression:"xmax"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.modelSet.newDensity.XCount")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{precision:0,size:"small"},model:{value:t.xnum,callback:function(e){t.xnum=e},expression:"xnum"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Zmin：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{size:"small"},model:{value:t.ymin,callback:function(e){t.ymin=e},expression:"ymin"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("span",{staticClass:"geo-dialog-lable"},[t._v("Zmax：")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{size:"small"},model:{value:t.ymax,callback:function(e){t.ymax=e},expression:"ymax"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.modelSet.newDensity.ZCount")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{precision:0,size:"small"},model:{value:t.ynum,callback:function(e){t.ynum=e},expression:"ynum"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex"}},[a("el-col",{attrs:{span:10}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.modelSet.newDensity.background")))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{precision:0,size:"small"},model:{value:t.zvalue,callback:function(e){t.zvalue=e},expression:"zvalue"}})],1),t._v(" "),a("el-col",{attrs:{span:22}})],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.NewGrd}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.grdVisible=!1}}},[t._v(t._s(t.$t("button.cancel")))])],1)],1),t._v(" "),a("el-dialog",{attrs:{"custom-class":"geo-dialog-custom",width:"350px","show-close":!1,title:t.$t("HumanMachine.argsSet.viewArgs.title"),visible:t.figureVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.figureVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.argsSet.viewArgs.viewName")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.title,callback:function(e){t.$set(t.figure,"title",e)},expression:"figure.title"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.argsSet.viewArgs.X1Title")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.xtitle,callback:function(e){t.$set(t.figure,"xtitle",e)},expression:"figure.xtitle"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.argsSet.viewArgs.Y1Title")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.y1title,callback:function(e){t.$set(t.figure,"y1title",e)},expression:"figure.y1title"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.argsSet.viewArgs.Y2Title")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{size:"small"},model:{value:t.figure.y2title,callback:function(e){t.$set(t.figure,"y2title",e)},expression:"figure.y2title"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.argsSet.viewArgs.colorScaleSet")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"small"},model:{value:t.figure.colorscale,callback:function(e){t.$set(t.figure,"colorscale",e)},expression:"figure.colorscale"}},t._l(t.colourLevel,function(e){return a("el-option",{key:e.key,attrs:{value:e.value}},[a("img",{attrs:{src:e.img}}),t._v(t._s(e.value)+"\n          ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px",display:"none"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.argsSet.viewArgs.colorScale")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-slider",{attrs:{min:10,max:20},model:{value:t.slider_data,callback:function(e){t.slider_data=e},expression:"slider_data"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:7}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("HumanMachine.argsSet.viewArgs.yReversal")))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-switch",{staticClass:"geo-dialog-lable",on:{change:t.changeReverse},model:{value:t.reverseY,callback:function(e){t.reverseY=e},expression:"reverseY"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.changeFigure}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.figureVisible=!1}}},[t._v(t._s(t.$t("button.cancel")))])],1)],1),t._v(" "),a("imageExport",{attrs:{imageConfigShow:t.imageFlag,plotlyDiv:this.$refs.plotlydiv},on:{closeModal:t.closeModal}}),t._v(" "),a("algExplain",{attrs:{algTitle:t.$t("HumanMachine.title"),algName:t.algName}})],1)},staticRenderFns:[]};var Et=a("VU/8")(It,Vt,!1,function(t){a("MG8D")},null,null).exports,Ot={data:function(){return{radioValue:d.a.algorithmUrlFromServerOrLocal,dialogVisible:!0,ipAddress:d.a.algorithmUrl,port:d.a.algorithmPort}},methods:{handleClose:function(){this.dialogVisible=!1,this.$emit("inputMess")},algorithmSet:function(){d.a.algorithmUrl=this.ipAddress,d.a.algorithmPort=this.port,this.$message({message:"设置成功！",type:"success"}),this.$emit("inputMess")},close:function(){this.$emit("inputMess")},selectChange:function(t){"1"==t?d.a.algorithmUrlFromServerOrLocal="1":"0"==t&&(d.a.algorithmUrlFromServerOrLocal="0")}},mounted:function(){}},Rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("algServerSet.title"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"550px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",[a("el-alert",{attrs:{title:t.$t("algServerSet.tips"),type:"info","show-icon":"",description:t.$t("algServerSet.description"),closable:!1}})],1),t._v(" "),a("el-row",[a("el-radio",{attrs:{label:"1",border:"",size:"medium"},on:{change:t.selectChange},model:{value:t.radioValue,callback:function(e){t.radioValue=e},expression:"radioValue"}},[t._v(t._s(t.$t("algServerSet.localServer")))]),t._v(" "),a("el-radio",{attrs:{label:"0",border:"",size:"medium"},on:{change:t.selectChange},model:{value:t.radioValue,callback:function(e){t.radioValue=e},expression:"radioValue"}},[t._v(t._s(t.$t("algServerSet.cloudServer")))])],1),t._v(" "),1==t.radioValue?a("el-row",[a("div",[t._v("\n      IP: "),a("el-input",{staticStyle:{width:"200px","margin-left":"12px"},attrs:{size:"mini",placeholder:t.$t("algServerSet.ipPlaceholder")},model:{value:t.ipAddress,callback:function(e){t.ipAddress=e},expression:"ipAddress"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"5px"}},[t._v("\n      "+t._s(t.$t("algServerSet.port"))),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:t.$t("algServerSet.portPlaceholder")},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}})],1)]):t._e(),t._v(" "),a("el-row",[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",icon:"el-icon-circle-check",plain:""},on:{click:t.algorithmSet}},[t._v(t._s(t.$t("button.save")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",icon:"el-icon-circle-close",plain:""},on:{click:t.handleClose}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var jt=a("VU/8")(Ot,Rt,!1,function(t){a("/vxe")},"data-v-a7934ad2",null).exports,Wt=a("jIOc"),Bt=(a("cOje"),{props:["toChildrenObj"],data:function(){return{dialogVisible:!0,resultName:"",resultDescrip:"",isPublic:!0,selectedData:"",shareResult:"",resultVisible:!1,shareList:[]}},computed:{options:function(){return[{value:!0,label:window.vm.$i18n.t("yes")},{value:!1,label:window.vm.$i18n.t("no")}]}},methods:{close:function(){this.$emit("inputMess","")},dataSelected:function(t){var e=this.shareList.find(function(e){return e.value==t});this.resultName=window.vm.$i18n.t("resultShareMap.title")+"_"+e.label},share:function(){if(""!=this.selectedData){var t=this;this.$emit("inputMess",""),""==this.resultName&&t.$message({type:"warning",message:window.vm.$i18n.t("resultShareMap.notNull"),duration:2e3}),t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0,setTimeout(function(){t.$store.state.Global.percent=20},1e3);var e=d.a.treeData2d[1].children.find(function(e){return e.id==t.selectedData}),a=c.a.newGuid();t.$message({type:"success",message:window.vm.$i18n.t("resultShareMap.uploading"),duration:5e3});var i=localStorage.getItem("userId"),l={guid:a,name:t.resultName,description:t.resultDescrip,geojson:e.shareObj.json,colorConfig:e.shareObj.colorConfig,isPublic:t.isPublic,userid:i};setTimeout(function(){t.$store.state.Global.percent=40},1e3),t.axios.post(WebConfig.ServicesUrl+"/insertGeoshare",l).then(function(e){t.$message({type:"success",message:window.vm.$i18n.t("resultShareMap.shareSuccess")}),t.shareResult=a,setTimeout(function(){t.$store.state.Global.percent=100},1e3),setTimeout(function(){t.$store.state.Global.progressVisible=!1},2e3)}).catch(function(e){t.$Message.error(window.vm.$i18n.t("resultShareMap.shareFail")),t.$store.state.Global.progressVisible=!1})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){for(var t=d.a.treeData2d[1].children,e=0;e<t.length;e++){var a=t[e];a.shareObj&&this.shareList.push({label:a.label,value:a.id})}}}),Ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("resultShare.title"),visible:t.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"450px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("resultShare.file")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small"},on:{change:t.dataSelected},model:{value:t.selectedData,callback:function(e){t.selectedData=e},expression:"selectedData"}},t._l(t.shareList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("resultShare.shareName")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{size:"small"},model:{value:t.resultName,callback:function(e){t.resultName=e},expression:"resultName"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("resultShare.describe")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},resize:"none","show-word-limit":"",maxlength:"200",rows:3,size:"small"},model:{value:t.resultDescrip,callback:function(e){t.resultDescrip=e},expression:"resultDescrip"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable",staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(t.$t("resultShare.share")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small"},model:{value:t.isPublic,callback:function(e){t.isPublic=e},expression:"isPublic"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),t.resultVisible?a("el-row",{attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("resultShare.shareID")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{readonly:"",size:"small"},model:{value:t.shareResult,callback:function(e){t.shareResult=e},expression:"shareResult"}})],1)],1):t._e(),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.share}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]},Ut=a("VU/8")(Bt,Ht,!1,null,null,null).exports,qt={data:function(){return{dialogVisible:!0,resultDescrip:"",title:"",radio:0}},methods:{close:function(){this.$emit("inputMess","")},share:function(){if(""!=this.title&&""!=this.resultDescrip){var t=this,e={title:this.title,content:this.resultDescrip,type:this.radio,userId:localStorage.getItem("userId")};this.axios.post(WebConfig.ServicesUrl+"/addFeedback",e).then(function(e){"SUCCESS"==e.data.status&&(t.$message({type:"success",message:window.vm.$i18n.t("SFBManager.userFeedback.submitSuccess")}),t.$emit("inputMess",""))}).catch(function(t){console.log(t)})}else this.$Message.error(window.vm.$i18n.t("SFBManager.userFeedback.elaborateProblem"))}},mounted:function(){}},Yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("type.help.feedback"),visible:t.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"700px",height:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v(t._s(t.$t("SFBManager.userFeedback.content"))),a("a",{attrs:{href:"mailto:zhangsheng261@163.com"}},[t._v("zhangsheng261@163.com")]),t._v(" !")]),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1)])},staticRenderFns:[]},Xt=a("VU/8")(qt,Yt,!1,null,null,null).exports,Zt={data:function(){return{file:null,currentFile:"",spatialReferences:d.a.spatialReferences,dialogVisible:!0,spatialReLabel:"EPSG:4326",currentSpatilReference:"Null"}},methods:{spatialReferenceChange:function(t){this.currentSpatilReference=t},handleUpload:function(t){var e="application/x-zip-compressed"===t.type;if(e){var a=t.name;this.file=t;return this.currentFile=a,e}this.$message.error(window.vm.$i18n.t("WMSShare.uploadFile"))},handleOK:function(){if(""!=(a=this).spatialReLabel){var t=new FormData,e=a.currentFile.substr(0,a.currentFile.indexOf("."));t.append("name",e),t.append("file",a.file),t.append("Coordinate",a.spatialReLabel);var a=this;this.axios.post(WebConfig.ServicesUrl+"/UploadShpPublish",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if("SUCCESS"==t.data.status){var i=c.a.newGuid(),l=new a.ol.layer.Tile({source:new a.ol.source.TileWMS({url:t.data.data.ServiceUrl,serverType:"geoserver",params:{LAYERS:t.data.data.LayersName,TILED:!1},transition:0}),id:i,visible:!0});a.$store.state.Global.map2DHandler.addLayer(l);var o={};o.id=i,o.label=e+window.vm.$i18n.t("WMSShare.extend"),d.a.treeData2d[1].children.push(o),a.$nextTick(function(){a.$store.state.Global.twoDLayerTree.setCheckedKeys([i])}),a.$notify({title:window.vm.$i18n.t("WMSShare.resultTitle"),message:t.data.message+" ,"+window.vm.$i18n.t("WMSShare.message"),type:"success",position:"bottom-right",offset:10})}}).catch(function(t){console.log(t)}),this.$emit("inputMess")}else a.$message({type:"warning",message:window.vm.$i18n.t("WMSShare.selectCoordinate")})},UploadImage:function(){},handleClose:function(){return this.file=null,this.currentFile="",this.dialogVisible=!1,this.$emit("inputMess"),!1}}},Jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("WMSShare.onlineService"),visible:t.dialogVisible,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-alert",{attrs:{center:"",title:t.$t("WMSShare.tips"),type:"info","show-icon":"",closable:!1}})],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("WMSShare.fileName")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small",placeholder:t.$t("WMSShare.selectFile")},model:{value:t.currentFile,callback:function(e){t.currentFile=e},expression:"currentFile"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","before-upload":t.handleUpload,"show-file-list":!1,accept:".zip","http-request":t.UploadImage}},[a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-folder-opened"}},[t._v(t._s(t.$t("WMSShare.select")))])],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("WMSShare.setCoordinate")))])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{placeholder:"请输入关键字搜索或选择",size:"small",filterable:""},on:{change:t.spatialReferenceChange},model:{value:t.spatialReLabel,callback:function(e){t.spatialReLabel=e},expression:"spatialReLabel"}},t._l(t.spatialReferences,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1)],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleOK}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleClose}},[t._v(t._s(t.$t("button.cancel")))])],1)])},staticRenderFns:[]},Kt=a("VU/8")(Zt,Jt,!1,null,null,null).exports,Qt=a("p1Dk"),te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.title,visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation.data1")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation.data2")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile2},model:{value:t.filedata2,callback:function(e){t.filedata2=e},expression:"filedata2"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation.OutPut")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{size:"small"},model:{value:t.grdCal_name,callback:function(e){t.grdCal_name=e},expression:"grdCal_name"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.grdCalHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var ee=function(t){a("6WuN")},ae=a("VU/8")(Qt.a,te,!1,ee,"data-v-3ec9c3b2",null).exports,ie=a("m/XH"),le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("dataPreTreated2.GridCal.extract"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation2.data")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation2.operator")))])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-radio-group",{staticStyle:{"margin-left":"-25px"},model:{value:t.selectLabel,callback:function(e){t.selectLabel=e},expression:"selectLabel"}},[a("el-radio",{attrs:{label:"相加"}},[t._v("+")]),t._v(" "),a("el-radio",{attrs:{label:"相减"}},[t._v("-")]),t._v(" "),a("el-radio",{attrs:{label:"相乘"}},[t._v("×")]),t._v(" "),a("el-radio",{attrs:{label:"相除"}},[t._v("÷")])],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation2.constant")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.constantNum,callback:function(e){t.constantNum=e},expression:"constantNum"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation2.OutPut")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{size:"small"},model:{value:t.grdCal_name,callback:function(e){t.grdCal_name=e},expression:"grdCal_name"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.grdCalHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var oe=function(t){a("Yh2f")},ne=a("VU/8")(ie.a,le,!1,oe,"data-v-5f4af083",null).exports,se={components:{algExplain:S.a},data:function(){return{algName:"",grdCal_name:"",mapconfig:d.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0,XStartNum:1,XEndNum:1,XEndMaxNum:101,XIntervalNum:0,YStartNum:1,YEndNum:1,YEndMaxNum:101,YIntervalNum:0}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.grdCal_name=e.label.substring(0,e.label.length-4)+"(抽取).grd",this.dataGuid=t;var a=this;c.a.getJsonFromDatabase(this.dataGuid,function(t){a.XEndNum=t.grdData.xcount,a.YEndNum=t.grdData.ycount,a.XEndMaxNum=t.grdData.xcount,a.YEndMaxNum=t.grdData.ycount})},grdCalHandle:function(){if(""!=this.grdCal_name&&""!=this.dataGuid){var t=this;t.$emit("inputMess"),t.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),c.a.getJsonFromDatabase(t.dataGuid,function(e){t.$store.state.Global.progressVisible=!0,t.$store.state.Global.percent=0;for(var a=[],i=-1,l=0;l<e.data.length;l++)0===l||l%e.grdData.ycount==0?(i++,a.push([e.data[l]])):a[i].push(e.data[l]);t.$store.state.Global.percent=40;for(var o=[],n={type:"",x:[],xcount:0,xmax:0,xmin:0,y:[],ycount:0,ymax:0,ymin:0,z:[],zmax:0,zmin:0},s=t.YStartNum-1;s<t.YEndNum;s+=t.YIntervalNum+1){n.y.push(e.grdData.y[s]),n.z.push([]);for(var r=t.XStartNum-1;r<t.XEndNum;r+=t.XIntervalNum+1)o.push(a[s][r]),s===t.YStartNum-1&&n.x.push(e.grdData.x[r]),n.z[n.z.length-1].push(e.grdData.z[s][r])}n.type=e.grdData.type,n.xcount=n.x.length,n.xmax=Math.max.apply(null,n.x),n.xmin=Math.min.apply(null,n.x),n.ycount=n.y.length,n.ymax=Math.max.apply(null,n.y),n.ymin=Math.min.apply(null,n.y);for(var u=[],p=0;p<n.z.length;p++)u.push(Math.max.apply(null,n.z[p])),u.push(Math.min.apply(null,n.z[p]));n.zmax=Math.max.apply(null,u),n.zmin=Math.min.apply(null,u);var h=c.a.newGuid(),m=y.a.newResultName(t.grdCal_name);t.$store.state.Global.percent=80,y.a.db.addData({guid:h,data:o,grdData:n,displayName:m,datatype:"grd",isExecuted:!0,spatialReference:null},function(){d.a.treeWorkSpace[0].children[1].children.push({label:m,datatype:"grd",guid:h}),t.$store.state.Global.percent=100,setTimeout(function(){t.$store.state.Global.progressVisible=!1},2e3)})})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}},re={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{"custom-class":"geo-dialog-custom",title:t.$t("dataPreTreated2.GridCal.slicing"),visible:t.dialogVisible,"before-close":t.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation3.data")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{size:"small"},on:{change:t.selectFile},model:{value:t.filedata,callback:function(e){t.filedata=e},expression:"filedata"}},t._l(t.files,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.label}},[t._v(t._s(e.label)+"\n        ")])}),1)],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("X：")]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation3.XStart")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input-number",{attrs:{precision:0,step:1,min:1},model:{value:t.XStartNum,callback:function(e){t.XStartNum=e},expression:"XStartNum"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation3.XEnd")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input-number",{attrs:{precision:0,step:1,min:1,max:t.XEndMaxNum},model:{value:t.XEndNum,callback:function(e){t.XEndNum=e},expression:"XEndNum"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation3.XSpace")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input-number",{attrs:{precision:0,step:1,min:0},model:{value:t.XIntervalNum,callback:function(e){t.XIntervalNum=e},expression:"XIntervalNum"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("Y：")]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation3.YStart")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input-number",{attrs:{precision:0,step:1,min:1},model:{value:t.YStartNum,callback:function(e){t.YStartNum=e},expression:"YStartNum"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation3.YEnd")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input-number",{attrs:{precision:0,step:1,min:1,max:t.YEndMaxNum},model:{value:t.YEndNum,callback:function(e){t.YEndNum=e},expression:"YEndNum"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation3.YSpace")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input-number",{attrs:{precision:0,step:1,min:0},model:{value:t.YIntervalNum,callback:function(e){t.YIntervalNum=e},expression:"YIntervalNum"}})],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("grdCalculation3.output")))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:5,type:"flex"}},[a("el-col",{attrs:{span:2}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"geo-dialog-lable"},[t._v(t._s(t.$t("grdCalculation3.OutPut")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{size:"small"},model:{value:t.grdCal_name,callback:function(e){t.grdCal_name=e},expression:"grdCal_name"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.grdCalHandle}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{staticClass:"geo-dialog-btn",attrs:{type:"primary",size:"small",plain:""},on:{click:t.close}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var ce=a("VU/8")(se,re,!1,function(t){a("3/Xe")},"data-v-0de43b48",null).exports,de=window.vm.$i18n,ue={data:function(){return{analyticType:"",type:"",fileType:"",grdHandleVisible:!1,mvfilterVisible:!1,contiDownVisible:!1,contiUpVisible:!1,derivativeVisible:!1,frefilterVisible:!1,frefilterLowVisible:!1,derivativeCalculationVisible:!1,smoothCurveVisible:!1,analyticContinuationVisible:!1,importLocalDataFlag:!1,importThematicDataFlag:!1,importOnlineDataFlag:!1,setCoorSystemFlag:!1,HumanMachineFlag:!1,grdFilterVisible:!1,pfpVisible:!1,forwardParkerVisible:!1,forwardVarVisible:!1,forwardInversionVisible:!1,coordinateTransVisible:!1,algorithmUrlSetVisible:!1,resultShareVisible:!1,userHelpVisible:!1,WMSShareVisible:!1,suggessFeedVisible:!1,qhp2dVisible:!1,nfg2dVisible:!1,singleGravityVisible:!1,multiGravityVisible:!1,czqgVisible:!1,grdCalculationVisible:!1,grdCalculationVisible2:!1,grdCalculationVisible3:!1,grdCalType:"网格数据相加"}},computed:{navListData:function(){return[{index:1,name:de.t("type.dataManage.name"),icon:"el-icon-wallet",handleClick:this.firstNavClick,hasChildren:!0,hasPermission:localStorage.getItem("menuList").indexOf("data_manage")>-1,children:[{name:de.t("type.dataManage.importLocalDataPop"),hasChildren:!0,handleClick:this.sedNavClick,achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_manage:import_local")>-1,children:[{name:de.t("importLocalData2.importLocalDataSheet"),hasChildren:!1,handleClick:"handleImportLocalDatatxtAndExcel",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_manage:import_local")>-1},{name:de.t("importLocalData2.importLocalDataGRD"),hasChildren:!1,handleClick:"handleImportLocalDataGrd",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_manage:import_local")>-1},{name:de.t("importLocalData2.importLocalDataVolume"),hasChildren:!1,handleClick:"handleImportLocalData3D",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_manage:import_local")>-1}]},{name:de.t("type.dataManage.importOnlineDataPop"),hasChildren:!1,handleClick:"handleImportOnLineData",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_manage:import_online")>-1},{name:de.t("type.dataManage.openProject"),hasChildren:!1,handleClick:"openProjectFile",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_manage:open_project")>-1},{name:de.t("type.dataManage.saveProject"),hasChildren:!1,handleClick:"saveAsProjectFile",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_manage:save_project")>-1}]},{index:3,name:de.t("type.dataPreTreated.name"),icon:"el-icon-wallet",handleClick:this.firstNavClick,hasChildren:!0,hasPermission:localStorage.getItem("menuList").indexOf("data_preprocessing")>-1,children:[{name:de.t("dataPreTreated2.GridCal.name"),hasChildren:!0,handleClick:this.sedNavClick,hasPermission:localStorage.getItem("permissionList").indexOf("section:space")>-1,children:[{name:de.t("dataPreTreated2.GridCal.add"),hasChildren:!1,handleClick:"grdCalculation0",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:curve_smooth")>-1},{name:de.t("dataPreTreated2.GridCal.subtract"),hasChildren:!1,handleClick:"grdCalculation1",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:curve_smooth")>-1},{name:de.t("dataPreTreated2.GridCal.multiply"),hasChildren:!1,handleClick:"grdCalculation2",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:curve_smooth")>-1},{name:de.t("dataPreTreated2.GridCal.divide"),hasChildren:!1,handleClick:"grdCalculation3",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:curve_smooth")>-1},{name:de.t("dataPreTreated2.GridCal.extract"),hasChildren:!1,handleClick:"grdCalculation4",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:curve_smooth")>-1},{name:de.t("dataPreTreated2.GridCal.slicing"),hasChildren:!1,handleClick:"grdCalculation5",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:curve_smooth")>-1}]},{name:de.t("type.dataPreTreated.setCoordinateSys"),hasChildren:!1,handleClick:"handleSetCoorSystem",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_preprocessing:set_coordinate_system")>-1},{name:de.t("type.dataPreTreated.dataGrid"),hasChildren:!1,handleClick:"grdHandle",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_preprocessing:grid_data")>-1},{name:de.t("type.dataPreTreated.multiGravityCal"),handleClick:"multiGravityCal",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_preprocessing:multipoint_gravity_calculation")>-1},{name:de.t("type.dataPreTreated.singleGravityCal"),hasChildren:!1,handleClick:"singleGravityCal",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("data_preprocessing:single_gravity_calculation")>-1}]},{index:5,name:de.t("type.plane.name"),icon:"el-icon-wallet",handleClick:this.firstNavClick,hasChildren:!0,hasPermission:localStorage.getItem("menuList").indexOf("plane")>-1,children:[{name:de.t("type.plane.space.name"),hasChildren:!0,handleClick:this.sedNavClick,hasPermission:localStorage.getItem("permissionList").indexOf("plane:space")>-1,children:[{name:de.t("type.plane.space.derivative"),hasChildren:!1,handleClick:"derivative",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("plane:order_1_derivative_fillter")>-1},{name:de.t("type.plane.space.mvfilter"),hasChildren:!1,handleClick:"mvfilter",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("plane:moving_average_filter")>-1},{name:de.t("type.plane.space.czqg"),hasChildren:!1,handleClick:"czqgExecute",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("plane:interpolation_cut_method")>-1}]},{name:de.t("type.plane.frequency.name"),hasChildren:!0,handleClick:this.sedNavClick,hasPermission:localStorage.getItem("permissionList").indexOf("plane:frequency")>-1,children:[{name:de.t("type.plane.frequency.conti_up"),hasChildren:!1,handleClick:"contiUp",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("plane:upward_continuation")>-1},{name:de.t("type.plane.frequency.conti_down"),hasChildren:!1,handleClick:"contiDown",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("plane:downward_continuation")>-1},{name:de.t("type.plane.frequency.rtp"),hasChildren:!1,handleClick:"handlePfp",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("plane:reduction_to_the_pole")>-1},{name:de.t("type.plane.frequency.frefilter_Heigh"),hasChildren:!1,handleClick:"frefilter",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("plane:high_pass_filter")>-1},{name:de.t("type.plane.frequency.frefilter_low"),hasChildren:!1,handleClick:"frefilterLow",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("plane:low_pass_filter")>-1},{name:de.t("type.plane.frequency.qhp2d"),hasChildren:!1,handleClick:"qhp2d",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("plane:continuation_of_potential_field")>-1}]}]},{index:4,name:de.t("type.section.name"),icon:"el-icon-wallet",handleClick:this.firstNavClick,hasChildren:!0,hasPermission:localStorage.getItem("menuList").indexOf("section")>-1,children:[{name:de.t("type.section.space.name"),hasChildren:!0,handleClick:this.sedNavClick,hasPermission:localStorage.getItem("permissionList").indexOf("section:space")>-1,children:[{name:de.t("type.section.space.smoothCurve"),hasChildren:!1,handleClick:"smoothCurve",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:curve_smooth")>-1}]},{name:de.t("type.section.frequency.name"),hasChildren:!0,handleClick:this.sedNavClick,hasPermission:localStorage.getItem("permissionList").indexOf("section:frequency")>-1,children:[{name:de.t("type.section.frequency.derivativeCalculation"),hasChildren:!1,handleClick:"derivativeCalculation",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:derivative_calculation")>-1},{name:de.t("type.section.frequency.conti_up"),hasChildren:!1,handleClick:"analyticContinuationTop",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:conti_up")>-1},{name:de.t("type.section.frequency.conti_down"),hasChildren:!1,handleClick:"analyticContinuationDown",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("section:conti_down")>-1}]}]},{index:6,name:de.t("type.calculus.name"),icon:"el-icon-wallet",handleClick:this.firstNavClick,hasChildren:!0,hasPermission:localStorage.getItem("menuList").indexOf("calculus")>-1,children:[{name:de.t("type.calculus.section.name"),hasChildren:!0,handleClick:this.sedNavClick,hasPermission:localStorage.getItem("permissionList").indexOf("calculus:section")>-1,children:[{name:de.t("type.calculus.section.HumanMachine.name"),hasChildren:!1,handleClick:"HumanMachineClick",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("calculus:human_machine")>-1},{name:de.t("type.calculus.section.GuiYiHuAZTD.name"),hasChildren:!1,handleClick:"GuiYiHuAZTD",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("calculus:guiyihuaztd")>-1}]},{name:de.t("type.calculus.plane.name"),hasChildren:!0,handleClick:this.sedNavClick,hasPermission:localStorage.getItem("permissionList").indexOf("calculus:plane")>-1,children:[{name:de.t("type.calculus.plane.handlerForwardParker.name"),hasChildren:!1,handleClick:"handlerForwardParker",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("calculus:handler_forward_parker")>-1},{name:de.t("type.calculus.plane.handleForwardVar.name"),hasChildren:!1,handleClick:"handleForwardVar",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("calculus:handle_forward_var")>-1},{name:de.t("type.calculus.plane.handleForwardInversion.name"),hasChildren:!1,handleClick:"handleForwardInversion",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("calculus:handle_forward_inversion")>-1}]}]},{index:9,name:de.t("type.specialChart.name"),icon:"el-icon-wallet",handleClick:this.firstNavClick,hasChildren:!0,hasPermission:localStorage.getItem("menuList").indexOf("specialchart")>-1,children:[{name:de.t("type.specialChart.pointData"),hasChildren:!1,handleClick:"handleImportThematicPointData",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("specialchart:pointdata")>-1},{name:de.t("type.specialChart.thematicFlat"),hasChildren:!1,handleClick:"handleImportThematicFlatData",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("specialchart:thematicflat")>-1},{name:de.t("type.specialChart.thematicLine"),hasChildren:!1,handleClick:"handleImportThematicLinesData",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("specialchart:thematicline")>-1},{name:de.t("type.specialChart.thematicMultiple"),hasChildren:!1,handleClick:"handleImportThematicMultipleData",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("specialchart:thematic_multiple")>-1},{name:de.t("type.specialChart.volumn"),hasChildren:!1,handleClick:"handleImportThematicThreeDimensionalpData",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("specialchart:thematicline")>-1},{name:de.t("type.specialChart.voxels"),hasChildren:!1,handleClick:"handleImportThematicChemicalAnomalyData",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("specialchart:thematicline")>-1},{name:de.t("type.specialChart.groupElement"),hasChildren:!1,handleClick:"handleImportThematicChemicalAnomalyComposeData",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("specialchart:thematicline")>-1}]},{index:10,name:de.t("type.production.name"),icon:"el-icon-wallet",handleClick:this.firstNavClick,hasChildren:!0,hasPermission:localStorage.getItem("menuList").indexOf("production")>-1,children:[{name:de.t("type.production.manage"),hasChildren:!1,handleClick:"showSharingProductionsManage",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("production:manage")>-1},{name:de.t("type.production.geoJson"),hasChildren:!1,handleClick:"shareResultByJosn",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("production:geoJson")>-1},{name:de.t("type.production.onlineService"),hasChildren:!1,handleClick:"shareResultByWMS",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("production:online")>-1}]},{index:11,name:de.t("type.systemSet.title"),icon:"el-icon-setting",handleClick:this.firstNavClick,hasChildren:!0,hasPermission:localStorage.getItem("menuList").indexOf("systemset")>-1,children:[{name:de.t("type.systemSet.algServerSet"),hasChildren:!1,handleClick:"algorithmUrlSet",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("systemset:algServerSet")>-1},{name:de.t("type.systemSet.algorithmDown"),hasChildren:!1,handleClick:"algorithmDownToLocal",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("systemset:algorithmDown")>-1}]},{index:12,name:de.t("type.help.title"),icon:"el-icon-setting",handleClick:this.firstNavClick,hasChildren:!0,hasPermission:localStorage.getItem("menuList").indexOf("help")>-1,children:[{name:de.t("type.help.userHelp"),hasChildren:!1,handleClick:"userHelp",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("help:userHelp")>-1},{name:de.t("type.help.feedback"),hasChildren:!1,handleClick:"suggestFeedback",achieve:!0,hasPermission:localStorage.getItem("permissionList").indexOf("help:feedback")>-1}]}]}},methods:{menuClick:function(t){switch(t){case"handleImportLocalData":this.handleImportLocalData();break;case"handleImportLocalDatatxtAndExcel":this.handleImportLocalDatatxtAndExcel();break;case"handleImportLocalDataGrd":this.handleImportLocalDataGrd();break;case"handleImportLocalData3D":this.handleImportLocalData3D();break;case"handleImportThematicPointData":this.handleImportThematicPointData();break;case"handleImportThematicFlatData":this.handleImportThematicFlatData();break;case"handleImportThematicLinesData":this.handleImportThematicLinesData();break;case"handleImportOnLineData":this.handleImportOnLineData();break;case"handleImportThematicMultipleData":this.handleImportThematicMultipleData();break;case"openProjectFile":this.openProjectFile();break;case"saveAsProjectFile":this.saveAsProjectFile();break;case"showAlgManage":this.showAlgManage();break;case"showSharingProductionsManage":this.showSharingProductionsManage();break;case"handleSetCoorSystem":this.handleSetCoorSystem();break;case"handleCoordinateTransForm":this.handleCoordinateTransForm();break;case"grdHandle":this.grdHandle();break;case"grdFilterHandle":this.grdFilterHandle();break;case"derivative":this.derivative();break;case"contiDown":this.contiDown();break;case"contiUp":this.contiUp();break;case"handlePfp":this.handlePfp();break;case"frefilter":this.frefilter();break;case"frefilterLow":this.frefilterLow();break;case"derivativeCalculation":this.derivativeCalculation();break;case"smoothCurve":this.smoothCurve();break;case"analyticContinuationTop":this.analyticContinuationTop();break;case"analyticContinuationDown":this.analyticContinuationDown();break;case"mvfilter":this.mvfilter();break;case"handlerForwardParker":this.handlerForwardParker();break;case"HumanMachineClick":this.HumanMachineClick();break;case"handleForwardVar":this.handleForwardVar();break;case"handleForwardInversion":this.handleForwardInversion();break;case"algorithmUrlSet":this.algorithmUrlSet();break;case"algorithmUseStatistics":this.algorithmUseStatistics();break;case"addressDetection":this.addressDetection();break;case"shareResultByJosn":this.shareResultByJosn();break;case"userHelp":this.userHelp();break;case"shareResultByWMS":this.shareResultByWMS();break;case"suggestFeedback":this.suggestFeedback();break;case"qhp2d":this.qhp2d();break;case"GuiYiHuAZTD":this.GuiYiHuAZTD();break;case"singleGravityCal":this.singleGravityCal();break;case"multiGravityCal":this.multiGravityCal();break;case"algorithmDownToLocal":this.algorithmDownToLocal();break;case"czqgExecute":this.czqgExecute();break;case"grdCalculation0":this.grdCalculation0();break;case"grdCalculation1":this.grdCalculation1();break;case"grdCalculation2":this.grdCalculation2();break;case"grdCalculation3":this.grdCalculation3();break;case"grdCalculation4":this.grdCalculation4();break;case"grdCalculation5":this.grdCalculation5();break;case"handleImportThematicThreeDimensionalpData":this.handleImportThematicThreeDimensionalpData();break;case"handleImportThematicChemicalAnomalyData":this.handleImportThematicChemicalAnomalyData();break;case"handleImportThematicChemicalAnomalyComposeData":this.handleImportThematicChemicalAnomalyComposeData()}},firstNavClick:function(){return!1},toIndexPage:function(){this.$router.push({name:"index"})},sedNavClick:function(t){var e=t.currentTarget.nextElementSibling;return n()(e).is(":hidden")?n()(e).show():n()(e).hide(),!1},handleCoordinateTransForm:function(){this.coordinateTransVisible=!0},closeCoordinatesTrans:function(){this.coordinateTransVisible=!1},handleLeafClick:function(){},handleImportLocalData:function(){this.importLocalDataFlag=!0},handleImportLocalDatatxtAndExcel:function(){this.fileType="数据表",this.importLocalDataFlag=!0},handleImportLocalDataGrd:function(){this.fileType="网格",this.importLocalDataFlag=!0},handleImportLocalData3D:function(){this.fileType="三维",this.importLocalDataFlag=!0},handleImportThematicPointData:function(){this.$store.state.Global.activeTabValue="工作区",this.type=window.vm.$i18n.t("pointMap.title"),this.importThematicDataFlag=!0},handleImportThematicFlatData:function(){this.$store.state.Global.activeTabValue="工作区",this.type=window.vm.$i18n.t("sectionMap.title"),this.importThematicDataFlag=!0},handleImportThematicLinesData:function(){this.$store.state.Global.activeTabValue="工作区",this.type=window.vm.$i18n.t("linesMap.title"),this.importThematicDataFlag=!0},handleImportThematicThreeDimensionalpData:function(){this.$store.state.Global.activeTabValue="工作区",this.type=window.vm.$i18n.t("type.specialChart.volumn"),this.importThematicDataFlag=!0},handleImportThematicChemicalAnomalyData:function(){this.$store.state.Global.activeTabValue="工作区",this.type=window.vm.$i18n.t("voxels.name"),this.importThematicDataFlag=!0},handleImportThematicChemicalAnomalyComposeData:function(){this.$store.state.Global.activeTabValue="工作区",this.type=window.vm.$i18n.t("groupElement.name"),this.importThematicDataFlag=!0},handleImportThematicMultipleData:function(){this.$store.state.Global.activeTabValue="工作区",this.type=window.vm.$i18n.t("compareMap.title"),this.importThematicDataFlag=!0},handlePfp:function(){this.pfpVisible=!0},handlerForwardParker:function(){this.forwardParkerVisible=!0},handleForwardVar:function(){this.forwardVarVisible=!0},handleForwardInversion:function(){this.forwardInversionVisible=!0},handleImportOnLineData:function(){this.importOnlineDataFlag=!0},showAlgManage:function(){this.$store.state.Global.activeTabValue="工作区",this.$store.state.Global.algManage?this.$store.state.Global.workspaceActiveTabValue="algManage":this.$store.state.Global.algManage=!0},showSharingProductionsManage:function(){this.$store.state.Global.activeTabValue="工作区",this.$store.state.Global.sharingProductionsManage?this.$store.state.Global.workspaceActiveTabValue="sharingProductionsManage":this.$store.state.Global.sharingProductionsManage=!0},grdHandle:function(){this.grdHandleVisible=!0},closeGrdHandle:function(){this.grdHandleVisible=!1},mvfilter:function(){this.mvfilterVisible=!0},closemvfilter:function(){this.mvfilterVisible=!1},closeforwardParker:function(){this.forwardParkerVisible=!1},closeforwardInversion:function(){this.forwardInversionVisible=!1},contiDown:function(){this.contiDownVisible=!0},contiUp:function(){this.contiUpVisible=!0},closeforwardVar:function(){this.forwardVarVisible=!1},closecontiDown:function(){this.contiDownVisible=!1},closecontiUp:function(){this.contiUpVisible=!1},derivative:function(){this.derivativeVisible=!0},closederivative:function(){this.derivativeVisible=!1},closepfp:function(){this.pfpVisible=!1},frefilter:function(){this.frefilterVisible=!0},frefilterLow:function(){this.frefilterLowVisible=!0},derivativeCalculation:function(){this.derivativeCalculationVisible=!0},smoothCurve:function(){this.smoothCurveVisible=!0},analyticContinuationTop:function(){this.analyticType=window.vm.$i18n.t("conti_up.title"),this.analyticContinuationVisible=!0},analyticContinuationDown:function(){this.analyticType=window.vm.$i18n.t("conti_down.title"),this.analyticContinuationVisible=!0},closefrefilter:function(){this.frefilterVisible=!1},closefrefilterLow:function(){this.frefilterLowVisible=!1},closederivativeCalculation:function(){this.derivativeCalculationVisible=!1},closesmoothCurve:function(){this.smoothCurveVisible=!1},closeanalyticContinuation:function(){this.analyticContinuationVisible=!1},grdFilterHandle:function(){this.grdFilterVisible=!0},closeGrdFilter:function(){this.grdFilterVisible=!1},handleSetCoorSystem:function(){this.setCoorSystemFlag=!0},HumanMachineClick:function(){this.HumanMachineFlag=!0},saveAsProjectFile:function(){var t=this;this.$store.state.LocalDB.db.getAllData(function(e){var a=l()(e),i=new Blob([a],{type:""});r.a.saveAs(i,"default.nxd"),t.$message({message:window.vm.$i18n.t("message.saveSuccess"),type:"success"})})},openProjectFile:function(){document.getElementById("open_project").click()},selectProjct:function(t){var e=this,a=t.target.files||t.dataTransfer.files,i=new FileReader;i.readAsText(a[0]),i.onload=function(t){for(var a=t.target.result,i=JSON.parse(a),l=0;l<i.length;l++){!function(t){e.$store.state.LocalDB.db.addData(t,function(){if(!t.isExecuted||"flag"in t)if(t.isExecuted&&"flag"in t&&("xls"==t.datatype||"xlsx"==t.datatype))d.a.treeWorkSpace[0].children[0].children.push({label:t.displayName,datatype:t.datatype,guid:t.guid,isView:t.isView});else{var e=t.datatype;"xls"==e||"xlsx"==e?d.a.treeWorkSpace[0].children[0].children.push({label:t.displayName,datatype:t.datatype,guid:t.guid}):"grd"==e?d.a.treeWorkSpace[0].children[1].children.push({label:t.displayName,datatype:t.datatype,guid:t.guid}):"shp"==e?d.a.treeWorkSpace[0].children[2].children.push({label:t.displayName,datatype:t.datatype,guid:t.guid}):d.a.treeWorkSpace[0].children[3].children.push({label:t.displayName,datatype:t.datatype,guid:t.guid})}else d.a.treeWorkSpace[0].children[1].children.push({label:t.displayName,datatype:t.datatype,guid:t.guid})})}(i[l])}},document.getElementById("open_project").value=null},algorithmUrlSet:function(){this.algorithmUrlSetVisible=!0},algorithmUseStatistics:function(){this.$store.state.Global.activeTabValue="工作区",this.$store.state.Global.algorithmUseStatistics?this.$store.state.Global.workspaceActiveTabValue="algorithmUseStatistics":this.$store.state.Global.algorithmUseStatistics=!0},addressDetection:function(){this.$store.state.Global.activeTabValue="工作区",this.$store.state.Global.addressDetection?this.$store.state.Global.workspaceActiveTabValue="addressDetection":this.$store.state.Global.addressDetection=!0},closeAlgorithmUrlSet:function(){this.algorithmUrlSetVisible=!1},shareResultByJosn:function(){this.resultShareVisible=!0},closeShareResult:function(){this.resultShareVisible=!1},userHelp:function(){var t=this.$router.resolve({name:"用户手册"}).href;window.open(t,"_blank")},closeUserHelp:function(){this.userHelpVisible=!1},shareResultByWMS:function(){this.WMSShareVisible=!0},closeshareResultByWMS:function(){this.WMSShareVisible=!1},suggestFeedback:function(){"管理员"==localStorage.getItem("role")?(this.$store.state.Global.activeTabValue="工作区",this.$store.state.Global.suggesstionFeedBackManage?this.$store.state.Global.workspaceActiveTabValue="suggesstionFeedBackManage":this.$store.state.Global.suggesstionFeedBackManage=!0):this.suggessFeedVisible=!0},closeSuggessFeed:function(){this.suggessFeedVisible=!1},qhp2d:function(){this.qhp2dVisible=!0},closeQhp2d:function(){this.qhp2dVisible=!1},GuiYiHuAZTD:function(){this.nfg2dVisible=!0},closeNfg2d:function(){this.nfg2dVisible=!1},singleGravityCal:function(){this.singleGravityVisible=!0},closeSingleGravity:function(){this.singleGravityVisible=!1},multiGravityCal:function(){this.multiGravityVisible=!0},closeMultiGravity:function(){this.multiGravityVisible=!1},algorithmDownToLocal:function(){var t=document.createElement("a");t.download="PC_Server.zip",t.style.display="none",t.href=WebConfig.PCServer,document.body.appendChild(t),t.click(),document.body.removeChild(t)},czqgExecute:function(){this.czqgVisible=!0},closeczqg:function(){this.czqgVisible=!1},grdCalculation0:function(){this.grdCalType="网格数据相加",this.grdCalculationVisible=!0},grdCalculation1:function(){this.grdCalType="网格数据相减",this.grdCalculationVisible=!0},grdCalculation2:function(){this.grdCalType="网格数据相乘",this.grdCalculationVisible=!0},grdCalculation3:function(){this.grdCalType="网格数据相除",this.grdCalculationVisible=!0},grdCalculation4:function(){this.grdCalculationVisible2=!0},grdCalculation5:function(){this.grdCalculationVisible3=!0}},components:{grdHandle:w,mvfilter:M,contiDown:at,contiUp:ot,derivative:P,frefilter_Heigh:E,frefilter_low:j,derivativeCalculation:q,smoothCurve:Z,analyticContinuation:Q,importLocalData:h,importThematicData:v,importOnlineData:b.a,grdFilter:C.default,coordinateTransfrom:$,pfp:rt,forwardParker:kt,forwardVar:Ft,forwardInversion:Lt,setCoorSystem:Gt,HumanMachine:Et,algorithmUrlSet:jt,resultShare:Ut,userHelp:Wt.default,WMSShare:Kt,suggessFeed:Xt,qhp2d:ut,nfg2d:mt,singleGravity:yt,multiGravity:wt,czqg:A,grdCalculation:ae,grdCalculation_2:ne,grdCalculation_3:ce}},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"my-nav-banner"},[t._l(t.navListData,function(e){return[a("div",{key:e.index,staticClass:"nav-item-wrap",attrs:{"data-index":e.index},on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"nav-item",class:{display:!e.hasPermission}},[a("i",{staticClass:"el-icon-collection-tag"}),t._v(" "),a("span",{staticClass:"nav-item-name"},[t._v("\n                        "+t._s(e.name)+"\n                        "),1==e.hasChildren?a("i",{staticClass:"el-icon-caret-bottom"}):t._e()]),t._v(" "),e.hasChildren?a("div",{staticClass:"hide-nav-list"},[a("ul",{staticClass:"nav-list"},[t._l(e.children,function(e){return[e.hasChildren?a("li",{key:e.name,staticClass:"has-second-nav"},[a("p",{staticClass:"second-title",on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(e.name)+"\n                                        "),a("span",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-left":"10px",display:"inline-block"}})]),t._v(" "),a("ol",{staticClass:"second-nav-list"},t._l(e.children,function(e){return a("li",{key:e.name,staticClass:"leaf",class:{disableFlag:!e.hasPermission},on:{click:function(a){return a.stopPropagation(),t.menuClick(e.handleClick)}}},[a("span",[t._v(t._s(e.name))])])}),0)]):a("li",{key:e.name,staticClass:"leaf",class:{disableFlag:!e.hasPermission},on:{click:function(a){return a.stopPropagation(),t.menuClick(e.handleClick)}}},[a("span",[t._v(t._s(e.name))])])]})],2)]):t._e()])])]})],2),t._v(" "),t.grdHandleVisible?a("grdHandle",{on:{inputMess:t.closeGrdHandle}}):t._e(),t._v(" "),t.mvfilterVisible?a("mvfilter",{on:{inputMess:t.closemvfilter}}):t._e(),t._v(" "),t.czqgVisible?a("czqg",{on:{inputMess:t.closeczqg}}):t._e(),t._v(" "),t.contiDownVisible?a("contiDown",{on:{inputMess:t.closecontiDown}}):t._e(),t._v(" "),t.contiUpVisible?a("contiUp",{on:{inputMess:t.closecontiUp}}):t._e(),t._v(" "),t.derivativeVisible?a("derivative",{on:{inputMess:t.closederivative}}):t._e(),t._v(" "),t.frefilterVisible?a("frefilter_Heigh",{on:{inputMess:t.closefrefilter}}):t._e(),t._v(" "),t.frefilterLowVisible?a("frefilter_low",{on:{inputMess:t.closefrefilterLow}}):t._e(),t._v(" "),t.smoothCurveVisible?a("smoothCurve",{on:{inputMess:t.closesmoothCurve}}):t._e(),t._v(" "),t.derivativeCalculationVisible?a("derivativeCalculation",{on:{inputMess:t.closederivativeCalculation}}):t._e(),t._v(" "),t.analyticContinuationVisible?a("analyticContinuation",{attrs:{type:t.analyticType},on:{inputMess:t.closeanalyticContinuation}}):t._e(),t._v(" "),t.pfpVisible?a("pfp",{on:{inputMess:t.closepfp}}):t._e(),t._v(" "),t.forwardParkerVisible?a("forwardParker",{on:{inputMess:t.closeforwardParker}}):t._e(),t._v(" "),t.forwardVarVisible?a("forwardVar",{on:{inputMess:t.closeforwardVar}}):t._e(),t._v(" "),t.forwardInversionVisible?a("forwardInversion",{on:{inputMess:t.closeforwardInversion}}):t._e(),t._v(" "),t.importLocalDataFlag?a("importLocalData",{attrs:{name:t.fileType},on:{inputMess:function(e){t.importLocalDataFlag=!1}}}):t._e(),t._v(" "),t.importThematicDataFlag?a("importThematicData",{attrs:{name:t.type},on:{inputMess:function(e){t.importThematicDataFlag=!1}}}):t._e(),t._v(" "),t.importOnlineDataFlag?a("importOnlineData",{on:{inputMess:function(e){t.importOnlineDataFlag=!1}}}):t._e(),t._v(" "),t.setCoorSystemFlag?a("setCoorSystem",{on:{inputMess:function(e){t.setCoorSystemFlag=!1}}}):t._e(),t._v(" "),t.HumanMachineFlag?a("HumanMachine",{on:{inputMess:function(e){t.HumanMachineFlag=!1}}}):t._e(),t._v(" "),t.grdCalculationVisible?a("grd-calculation",{attrs:{type:t.grdCalType},on:{inputMess:function(e){t.grdCalculationVisible=!1}}}):t._e(),t._v(" "),t.grdCalculationVisible2?a("grd-calculation_2",{on:{inputMess:function(e){t.grdCalculationVisible2=!1}}}):t._e(),t._v(" "),t.grdCalculationVisible3?a("grd-calculation_3",{on:{inputMess:function(e){t.grdCalculationVisible3=!1}}}):t._e(),t._v(" "),t.grdFilterVisible?a("grdFilter",{on:{inputMess:t.closeGrdFilter}}):t._e(),t._v(" "),t.coordinateTransVisible?a("coordinateTransfrom",{on:{inputMess:t.closeCoordinatesTrans}}):t._e(),t._v(" "),t.algorithmUrlSetVisible?a("algorithmUrlSet",{on:{inputMess:t.closeAlgorithmUrlSet}}):t._e(),t._v(" "),t.resultShareVisible?a("resultShare",{on:{inputMess:t.closeShareResult}}):t._e(),t._v(" "),t.WMSShareVisible?a("WMSShare",{on:{inputMess:t.closeshareResultByWMS}}):t._e(),t._v(" "),t.userHelpVisible?a("userHelp",{on:{inputMess:t.closeUserHelp}}):t._e(),t._v(" "),t.suggessFeedVisible?a("suggessFeed",{on:{inputMess:t.closeSuggessFeed}}):t._e(),t._v(" "),t.qhp2dVisible?a("qhp2d",{on:{inputMess:t.closeQhp2d}}):t._e(),t._v(" "),t.nfg2dVisible?a("nfg2d",{on:{inputMess:t.closeNfg2d}}):t._e(),t._v(" "),t.singleGravityVisible?a("singleGravity",{on:{inputMess:t.closeSingleGravity}}):t._e(),t._v(" "),t.multiGravityVisible?a("multiGravity",{on:{inputMess:t.closeMultiGravity}}):t._e(),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"open_project",name:"open_project",accept:".nxd"},on:{change:t.selectProjct}})],1)},staticRenderFns:[]};var he=a("VU/8")(ue,pe,!1,function(t){a("mFtz")},"data-v-5af6ffeb",null);e.a=he.exports},"hR+b":function(t,e){},ioQ5:function(t,e,a){a("HpRW")("Set")},lHA8:function(t,e,a){t.exports={default:a("pPW7"),__esModule:!0}},"m/XH":function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__static_config_tree_2dmap__=__webpack_require__("ZpFI"),__WEBPACK_IMPORTED_MODULE_1__static_js_common__=__webpack_require__("/sA3"),__WEBPACK_IMPORTED_MODULE_2__static_js_algorithmCommon__=__webpack_require__("Bbvv"),__WEBPACK_IMPORTED_MODULE_3__workspace_AlgExplain__=__webpack_require__("6xVm");__webpack_exports__.a={components:{algExplain:__WEBPACK_IMPORTED_MODULE_3__workspace_AlgExplain__.a},data:function(){return{algName:"",grdCal_name:"",mapconfig:__WEBPACK_IMPORTED_MODULE_0__static_config_tree_2dmap__.a,filedata:"",dataGuid:"",files:[],dialogVisible:!0,selectLabel:"相加",calculation:"+",constantNum:0}},watch:{selectLabel:function(t){switch(t.substr(-1)){case"加":this.calculation="+";break;case"减":this.calculation="-";break;case"乘":this.calculation="*";break;case"除":this.calculation="/"}this.grdCal_name=this.grdCal_name.substr(0,this.grdCal_name.length-7)+t+").grd"}},methods:{initForm:function(t){var e=this;this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t})},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.grdCal_name=e.label.substring(0,e.label.length-4)+"(常数"+this.selectLabel+").grd",this.dataGuid=t},selectFile2:function(t){this.dataGuid2=t},grdCalHandle:function grdCalHandle(){if(""!=this.grdCal_name&&""!=this.dataGuid){var _this=this;_this.$emit("inputMess"),_this.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),__WEBPACK_IMPORTED_MODULE_1__static_js_common__.a.getJsonFromDatabase(_this.dataGuid,function(result){_this.$store.state.Global.progressVisible=!0,_this.$store.state.Global.percent=0;for(var data=result.data,i=0;i<result.data.length;i++)data[i].x=eval("result.data[i].x "+_this.calculation+" _this.constantNum"),data[i].y=eval("result.data[i].y "+_this.calculation+" _this.constantNum"),data[i].z=eval("result.data[i].z "+_this.calculation+" _this.constantNum");_this.$store.state.Global.percent=40;var grd=result.grdData;grd.zmin=parseFloat(eval("grd.zmin "+_this.calculation+" _this.constantNum")),grd.zmax=parseFloat(eval("grd.zmax "+_this.calculation+" _this.constantNum"));for(var t=0;t<grd.z.length;t++)for(var r=0;r<grd.z[t].length;r++)grd.z[t][r]=eval("grd.z[t][r]"+_this.calculation+" _this.constantNum");var type="grd",guid=__WEBPACK_IMPORTED_MODULE_1__static_js_common__.a.newGuid(),displayName=__WEBPACK_IMPORTED_MODULE_2__static_js_algorithmCommon__.a.newResultName(_this.grdCal_name);_this.$store.state.Global.percent=80,__WEBPACK_IMPORTED_MODULE_2__static_js_algorithmCommon__.a.db.addData({guid:guid,data:data,grdData:grd,displayName:displayName,datatype:type,isExecuted:!0,spatialReference:null},function(){__WEBPACK_IMPORTED_MODULE_0__static_config_tree_2dmap__.a.treeWorkSpace[0].children[1].children.push({label:displayName,datatype:type,guid:guid}),_this.$store.state.Global.percent=100,setTimeout(function(){_this.$store.state.Global.progressVisible=!1},2e3)})})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}}},m9gC:function(t,e,a){var i=a("RY/4"),l=a("4WTo");t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return l(this)}}},mClu:function(t,e,a){var i=a("kM2E");i(i.S+i.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})},mFtz:function(t,e){},mbSe:function(t,e){},msXi:function(t,e,a){var i=a("77Pl");t.exports=function(t,e,a,l){try{return l?e(i(a)[0],a[1]):e(a)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},mvRO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("U3sn"),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"850px"}},[a("div",{staticStyle:{height:"65px","font-size":"14px","text-align":"left"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("fileContent.fileInfo")))]),t._v(" "),a("div",{staticClass:"tjInfo"},[a("span",[t._v("\n                "+t._s(t.$t("fileContent.total"))+" "+t._s(this.dataLength)+" "+t._s(t.$t("fileContent.row"))+"\n            ")]),t._v(" "),a("span",[t._v("\n                "+t._s(this.columnData.length)+" "+t._s(t.$t("fileContent.column"))+"\n            ")]),t._v(" "),a("span",[t._v("\n                "+t._s(t.$t("fileContent.pageData"))+"\n            ")]),t._v(" "),a("span",[t._v("\n                "+t._s(t.$t("fileContent.total"))+" "+t._s(t.getTotalPage)+" "+t._s(t.$t("fileContent.page"))+"\n            ")]),t._v(" "),a("span",{staticStyle:{"padding-left":"20px"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-s-operation"},on:{click:function(e){return t.dataFilter()}}},[t._v(t._s(t.$t("fileContent2.dataFiltering")))]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-s-operation"},on:{click:function(e){return t.calField()}}},[t._v(t._s(t.$t("fileContent2.fieldCalculation")))]),t._v(" "),a("el-switch",{attrs:{"inactive-text":t.$t("fileContent.dataStatistic")},on:{change:function(e){return t.switchStatistic()}},model:{value:t.flag,callback:function(e){t.flag=e},expression:"flag"}})],1)])],1),t._v(" "),a("div",{class:t.tableContainerChange},[a("el-table",{staticStyle:{width:"100%","min-width":"600px"},attrs:{data:t.tableData,border:"",height:t.getTableHeight,stripe:""}},[t._l(t.columnData,function(t){return[a("el-table-column",{key:t.id,attrs:{prop:t.value,label:t.label,width:"170"}})]})],2),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next",total:t.getTotalDataLength,"page-size":100},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),t.filterVisible?a("div",{staticStyle:{float:"left",width:"40%","min-width":"400px","padding-left":"10px"}},[a("h3",[t._v(t._s(t.$t("fileContent2.dataFiltering")))]),t._v(" "),a("div",{staticClass:"innerWrap"},[a("el-switch",{attrs:{"inactive-text":t.$t("fileContent2.sameFieldFilter")},model:{value:t.sameFieldFlag,callback:function(e){t.sameFieldFlag=e},expression:"sameFieldFlag"}}),t._v(" "),a("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:t.dynamicValidateForm}},t._l(t.dynamicValidateForm.domains,function(e,i){return a("el-form-item",{key:e.key},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:3,type:"flex"}},[a("el-col",{attrs:{span:4}},[t._v("\n              "+t._s(t.$t("fileContent2.condition"))+t._s(i+1)+":\n            ")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{size:"small",placeholder:t.$t("fileContent2.field")},on:{change:function(a){return t.getFieldInfo(i,e.field)}},model:{value:e.field,callback:function(a){t.$set(e,"field",a)},expression:"domain.field"}},t._l(t.columnData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[t._v("\n              "+t._s(t.$t("fileContent2.min"))+":\n            ")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{model:{value:e.min,callback:function(a){t.$set(e,"min",a)},expression:"domain.min"}})],1),t._v(" "),a("el-col",{attrs:{span:2}},[t._v("\n              "+t._s(t.$t("fileContent2.max"))+":\n            ")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{model:{value:e.max,callback:function(a){t.$set(e,"max",a)},expression:"domain.max"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return a.preventDefault(),t.removeDomain(e)}}},[t._v(" "+t._s(t.$t("fileContent2.del")))])],1)],1)],1)}),1),t._v(" "),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{on:{click:t.addDomain}},[t._v(" "+t._s(t.$t("fileContent2.addCondition")))]),t._v(" "),a("el-button",{on:{click:t.handleCloseFilter}},[t._v(t._s(t.$t("button.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v(t._s(t.$t("button.ok")))])],1)],1)]):t._e(),t._v(" "),t.calDialogVisible?a("div",{staticStyle:{float:"left",width:"23%","min-width":"240px","padding-left":"30px"}},[a("h3",[t._v(t._s(t.$t("fileContent2.fieldCalculation")))]),t._v(" "),a("div",{staticClass:"innerWrap"},[a("div",[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.$t("fileContent2.fieldAndField"),name:"字段与字段"}},[a("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:t.$t("fileContent2.field1")}},[a("el-select",{staticStyle:{width:"190px"},attrs:{size:"small",placeholder:t.$t("fileContent.placeholder")},model:{value:t.field1,callback:function(e){t.field1=e},expression:"field1"}},t._l(t.columnData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("fileContent2.operation")}},[a("el-radio-group",{model:{value:t.calLabel,callback:function(e){t.calLabel=e},expression:"calLabel"}},[a("el-radio",{attrs:{label:"相加"}},[t._v("+")]),t._v(" "),a("el-radio",{attrs:{label:"相减"}},[t._v("-")]),t._v(" "),a("el-radio",{attrs:{label:"相乘"}},[t._v("×")]),t._v(" "),a("el-radio",{attrs:{label:"相除"}},[t._v("÷")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("fileContent2.field2")}},[a("el-select",{staticStyle:{width:"190px"},attrs:{size:"small",placeholder:t.$t("fileContent.placeholder")},model:{value:t.field2,callback:function(e){t.field2=e},expression:"field2"}},t._l(t.columnData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("fileContent2.newField")}},[a("el-input",{staticStyle:{width:"190px"},attrs:{size:"small"},model:{value:t.calRowName,callback:function(e){t.calRowName=e},expression:"calRowName"}})],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("fileContent2.fieldAndConstant"),name:"字段与常数"}},[a("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:t.$t("fileContent2.field")}},[a("el-select",{staticStyle:{width:"190px"},attrs:{size:"small",placeholder:t.$t("fileContent.placeholder")},model:{value:t.field1,callback:function(e){t.field1=e},expression:"field1"}},t._l(t.columnData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("fileContent2.operation")}},[a("el-radio-group",{model:{value:t.calLabel,callback:function(e){t.calLabel=e},expression:"calLabel"}},[a("el-radio",{attrs:{label:"相加"}},[t._v("+")]),t._v(" "),a("el-radio",{attrs:{label:"相减"}},[t._v("-")]),t._v(" "),a("el-radio",{attrs:{label:"相乘"}},[t._v("×")]),t._v(" "),a("el-radio",{attrs:{label:"相除"}},[t._v("÷")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("fileContent2.constant")}},[a("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.constantNum,callback:function(e){t.constantNum=e},expression:"constantNum"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("fileContent2.newField")}},[a("el-input",{staticStyle:{width:"190px"},attrs:{size:"small"},model:{value:t.calRowName,callback:function(e){t.calRowName=e},expression:"calRowName"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{on:{click:t.handleCloseCal}},[t._v(t._s(t.$t("button.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleCal}},[t._v(t._s(t.$t("button.ok")))])],1)])]):t._e(),t._v(" "),t.flag?a("div",{staticStyle:{float:"left",width:"40%","min-width":"400px","padding-left":"30px"}},[a("h3",[t._v(t._s(t.$t("fileContent.sortStatistic")))]),t._v(" "),a("div",{staticClass:"innerWrap"},[a("div",[a("span",{staticStyle:{"font-size":"15px","font-weight":"bold"}},[t._v("\n                    "+t._s(t.$t("fileContent.sortTitle"))+"\n                ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-s-operation"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(t._s(t.$t("fileContent.sort")))]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-download"},on:{click:t.exportXLS}},[t._v(t._s(t.$t("fileContent.dataExport")))])],1)]),t._v(" "),a("div",{staticClass:"innerWrap"},[a("div",[a("span",{staticStyle:{"font-size":"15px","font-weight":"bold"}},[t._v("\n                    "+t._s(t.$t("fileContent.fieldName"))+"\n                ")]),t._v(" "),a("el-select",{attrs:{size:"mini",placeholder:t.$t("fileContent.placeholder")},model:{value:t.statisticSelectValue,callback:function(e){t.statisticSelectValue=e},expression:"statisticSelectValue"}},t._l(t.columnData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-s-data"},on:{click:t.dataStatistics}},[t._v(t._s(t.$t("fileContent.statistic")))])],1),t._v(" "),a("div",[a("ul",{staticClass:"statisticList"},[a("li",[a("span",{staticClass:"listLabel"},[t._v(t._s(t.$t("fileContent.count")))]),a("span",{staticClass:"listValue"},[t._v(t._s(t.statisticInfo.count))])]),t._v(" "),a("li",[a("span",{staticClass:"listLabel"},[t._v(t._s(t.$t("fileContent.max")))]),a("span",{staticClass:"listValue"},[t._v(t._s(t.statisticInfo.max))])]),t._v(" "),a("li",[a("span",{staticClass:"listLabel"},[t._v(t._s(t.$t("fileContent.min")))]),a("span",{staticClass:"listValue"},[t._v(t._s(t.statisticInfo.min))])]),t._v(" "),a("li",[a("span",{staticClass:"listLabel"},[t._v(t._s(t.$t("fileContent.range")))]),a("span",{staticClass:"listValue"},[t._v(t._s(t.statisticInfo.range))])]),t._v(" "),a("li",[a("span",{staticClass:"listLabel"},[t._v(t._s(t.$t("fileContent.sum")))]),a("span",{staticClass:"listValue"},[t._v(t._s(t.statisticInfo.sum))])]),t._v(" "),a("li",[a("span",{staticClass:"listLabel"},[t._v(t._s(t.$t("fileContent.average")))]),a("span",{staticClass:"listValue"},[t._v(t._s(t.statisticInfo.average))])]),t._v(" "),a("li",[a("span",{staticClass:"listLabel"},[t._v(t._s(t.$t("fileContent.variance")))]),a("span",{staticClass:"listValue"},[t._v(t._s(t.statisticInfo.variance))])]),t._v(" "),a("li",[a("span",{staticClass:"listLabel"},[t._v(t._s(t.$t("fileContent.standardDevition")))]),a("span",{staticClass:"listValue"},[t._v(t._s(t.statisticInfo.standardDevition))])])])]),t._v(" "),a("div",{staticClass:"chartContainer"},[a("div",{staticClass:"myChart",attrs:{id:t.plotlydivId}})])]),t._v(" "),a("Modal",{model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("fileContent.sort")))])]),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus",plain:""},on:{click:t.addSection}},[t._v(t._s(t.$t("fileContent.add")))]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-minus",plain:""},on:{click:t.deleteSection}},[t._v(t._s(t.$t("fileContent.delete")))])],1),t._v(" "),a("div",[a("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{"label-width":"80px",inline:!0}},[t._l(t.formItems,function(e){return[a("el-form-item",{key:e.key1,attrs:{label:t.$t("fileContent.key")}},[a("el-select",{staticStyle:{width:"190px"},attrs:{size:"small",placeholder:t.$t("fileContent.placeholder")},model:{value:e.selectValue,callback:function(a){t.$set(e,"selectValue",a)},expression:"formItem.selectValue"}},t._l(t.columnData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{key:e.key2,attrs:{label:t.$t("fileContent.field")}},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"small",placeholder:t.$t("fileContent.placeholder1")},model:{value:e.order,callback:function(a){t.$set(e,"order",a)},expression:"formItem.order"}},[a("el-option",{attrs:{value:"升序"}},[t._v(t._s(t.$t("fileContent.asc")))]),t._v(" "),a("el-option",{attrs:{value:"降序"}},[t._v(t._s(t.$t("fileContent.desc")))])],1)],1)]})],2)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleClose}},[t._v(t._s(t.$t("button.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSort}},[t._v(t._s(t.$t("button.ok")))])],1)])],1):t._e()])},staticRenderFns:[]};var o=function(t){a("bZVH")},n=a("VU/8")(i.a,l,!1,o,null,null);e.default=n.exports},mw3O:function(t,e,a){"use strict";var i=a("CwSZ"),l=a("DDCP"),o=a("XgCd");t.exports={formats:o,parse:l,stringify:i}},n0T6:function(t,e,a){var i=a("Ibhu"),l=a("xnc9").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,l)}},"nx/8":function(t,e){},oNmr:function(t,e,a){a("9Bbf")("Set")},oeOm:function(t,e,a){var i=a("7Doy");t.exports=function(t,e){return new(i(t))(e)}},p1Dk:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__static_config_tree_2dmap__=__webpack_require__("ZpFI"),__WEBPACK_IMPORTED_MODULE_1__static_js_common__=__webpack_require__("/sA3"),__WEBPACK_IMPORTED_MODULE_2__static_js_algorithmCommon__=__webpack_require__("Bbvv"),__WEBPACK_IMPORTED_MODULE_3__workspace_AlgExplain__=__webpack_require__("6xVm");__webpack_exports__.a={components:{algExplain:__WEBPACK_IMPORTED_MODULE_3__workspace_AlgExplain__.a},props:["type"],data:function(){return{title:"",algName:"",grdCal_name:"",mapconfig:__WEBPACK_IMPORTED_MODULE_0__static_config_tree_2dmap__.a,filedata:"",filedata2:"",dataGuid:"",dataGuid2:"",files:[],dialogVisible:!0,calculation:""}},methods:{initForm:function(t){var e=this;switch(this.$store.state.LocalDB.db.gettypeDataInfos("grd",function(t){e.files=t}),e.type.substr(-1)){case"加":e.calculation="+",e.title=window.vm.$i18n.t("dataPreTreated2.GridCal.add");break;case"减":e.calculation="-",e.title=window.vm.$i18n.t("dataPreTreated2.GridCal.subtract");break;case"乘":e.calculation="*",e.title=window.vm.$i18n.t("dataPreTreated2.GridCal.multiply");break;case"除":e.calculation="/",e.title=window.vm.$i18n.t("dataPreTreated2.GridCal.divide")}},close:function(){this.dialogVisible=!1,this.$emit("inputMess")},selectFile:function(t){var e=void 0;e=this.files.find(function(e){return e.key===t}),this.grdCal_name=e.label.substring(0,e.label.length-4)+"("+this.type.substr(4)+").grd",this.dataGuid=t},selectFile2:function(t){this.dataGuid2=t},grdCalHandle:function grdCalHandle(){if(""!=this.grdCal_name&&""!=this.dataGuid&&""!=this.filedata2){var _this=this;_this.$emit("inputMess"),__WEBPACK_IMPORTED_MODULE_1__static_js_common__.a.getJsonFromDatabase(_this.dataGuid,function(result){__WEBPACK_IMPORTED_MODULE_1__static_js_common__.a.getJsonFromDatabase(_this.dataGuid2,function(result2){if(result.grdData.type===result2.grdData.type&&result.grdData.xcount===result2.grdData.xcount&&result.grdData.ycount===result2.grdData.ycount&&result.grdData.xmin===result2.grdData.xmin&&result.grdData.xmax===result2.grdData.xmax&&result.grdData.ymin===result2.grdData.ymin&&result.grdData.ymax===result2.grdData.ymax){_this.$message({message:window.vm.$i18n.t("message.handlling"),type:"success"}),_this.$store.state.Global.progressVisible=!0,_this.$store.state.Global.percent=0;for(var data=result.data,i=0;i<result.data.length;i++)data[i].x=eval("result.data[i].x "+_this.calculation+" result2.data[i].x"),data[i].y=eval("result.data[i].y "+_this.calculation+" result2.data[i].y"),data[i].z=eval("result.data[i].z "+_this.calculation+" result2.data[i].z");_this.$store.state.Global.percent=40;var grd=result.grdData;grd.zmin=parseFloat(eval("grd.zmin "+_this.calculation+" result2.grdData.zmin")),grd.zmax=parseFloat(eval("grd.zmax "+_this.calculation+" result2.grdData.zmax"));for(var t=0;t<grd.z.length;t++)for(var r=0;r<grd.z[t].length;r++)grd.z[t][r]=eval("grd.z[t][r]"+_this.calculation+" result2.grdData.z[t][r]");var type="grd",guid=__WEBPACK_IMPORTED_MODULE_1__static_js_common__.a.newGuid(),displayName=__WEBPACK_IMPORTED_MODULE_2__static_js_algorithmCommon__.a.newResultName(_this.grdCal_name);_this.$store.state.Global.percent=80,__WEBPACK_IMPORTED_MODULE_2__static_js_algorithmCommon__.a.db.addData({guid:guid,data:data,grdData:grd,displayName:displayName,datatype:type,isExecuted:!0,spatialReference:null},function(){__WEBPACK_IMPORTED_MODULE_0__static_config_tree_2dmap__.a.treeWorkSpace[0].children[1].children.push({label:displayName,datatype:type,guid:guid}),_this.$store.state.Global.percent=100,setTimeout(function(){_this.$store.state.Global.progressVisible=!1,_this.$message({message:window.vm.$i18n.t("message.handleSuccess"),type:"success"})},1e3)})}else _this.$Message.error("网格文件格式不一致，无法操作")})})}else this.$Message.error(window.vm.$i18n.t("message.setError"))}},mounted:function(){this.initForm()}}},p5dL:function(t,e){},p8xL:function(t,e,a){"use strict";var i=Object.prototype.hasOwnProperty,l=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var a=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(a[i]=t[i]);return a},e.merge=function(t,a,l){if(!a)return t;if("object"!=typeof a){if(Array.isArray(t))t.push(a);else{if("object"!=typeof t)return[t,a];(l.plainObjects||l.allowPrototypes||!i.call(Object.prototype,a))&&(t[a]=!0)}return t}if("object"!=typeof t)return[t].concat(a);var o=t;return Array.isArray(t)&&!Array.isArray(a)&&(o=e.arrayToObject(t,l)),Array.isArray(t)&&Array.isArray(a)?(a.forEach(function(a,o){i.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e.merge(t[o],a,l):t.push(a):t[o]=a}),t):Object.keys(a).reduce(function(t,i){var o=a[i];return Object.prototype.hasOwnProperty.call(t,i)?t[i]=e.merge(t[i],o,l):t[i]=o,t},o)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),a="",i=0;i<e.length;++i){var o=e.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?a+=e.charAt(i):o<128?a+=l[o]:o<2048?a+=l[192|o>>6]+l[128|63&o]:o<55296||o>=57344?a+=l[224|o>>12]+l[128|o>>6&63]+l[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(i)),a+=l[240|o>>18]+l[128|o>>12&63]+l[128|o>>6&63]+l[128|63&o])}return a},e.compact=function(t,a){if("object"!=typeof t||null===t)return t;var i=a||[],l=i.indexOf(t);if(-1!==l)return i[l];if(i.push(t),Array.isArray(t)){for(var o=[],n=0;n<t.length;++n)t[n]&&"object"==typeof t[n]?o.push(e.compact(t[n],i)):void 0!==t[n]&&o.push(t[n]);return o}return Object.keys(t).forEach(function(a){t[a]=e.compact(t[a],i)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},pFYg:function(t,e,a){"use strict";e.__esModule=!0;var i=n(a("Zzip")),l=n(a("5QVw")),o="function"==typeof l.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof l.default&&t.constructor===l.default&&t!==l.default.prototype?"symbol":typeof t};function n(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof l.default&&"symbol"===o(i.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof l.default&&t.constructor===l.default&&t!==l.default.prototype?"symbol":void 0===t?"undefined":o(t)}},pPW7:function(t,e,a){a("M6a0"),a("zQR9"),a("+tPU"),a("ttyz"),a("BDhv"),a("oNmr"),a("ioQ5"),t.exports=a("FeBl").Set},q00Q:function(t,e,a){(function(a){var i,l,o;l=[],void 0===(o="function"==typeof(i=function(){"use strict";function e(t,e,a){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){n(i.response,e,a)},i.onerror=function(){console.error("could not download file")},i.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function l(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,n=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,a,n){var s=o.URL||o.webkitURL,r=document.createElement("a");a=a||t.name||"download",r.download=a,r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?l(r):i(r.href)?e(t,a,n):l(r,r.target="_blank")):(r.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(r.href)},4e4),setTimeout(function(){l(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,o){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),a);else if(i(t))e(t,a,o);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){l(n)})}}:function(t,a,i,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,i);var n="application/octet-stream"===t.type,s=/constructor/i.test(o.HTMLElement)||o.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||n&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=r?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=t:location=t,l=null},c.readAsDataURL(t)}else{var d=o.URL||o.webkitURL,u=d.createObjectURL(t);l?l.location=u:location.href=u,l=null,setTimeout(function(){d.revokeObjectURL(u)},4e4)}});o.saveAs=n.saveAs=n,void 0!==t&&(t.exports=n)})?i.apply(e,l):i)||(t.exports=o)}).call(e,a("DuR2"))},qLLt:function(t,e){},qio6:function(t,e,a){var i=a("evD5"),l=a("77Pl"),o=a("lktj");t.exports=a("+E39")?Object.defineProperties:function(t,e){l(t);for(var a,n=o(e),s=n.length,r=0;s>r;)i.f(t,a=n[r++],e[a]);return t}},qjou:function(t,e){},qo66:function(t,e,a){"use strict";var i=a("7KvD"),l=a("kM2E"),o=a("06OY"),n=a("S82l"),s=a("hJx8"),r=a("xH/j"),c=a("NWt+"),d=a("2KxR"),u=a("EqjI"),p=a("e6n0"),h=a("evD5").f,m=a("ALrJ")(0),g=a("+E39");t.exports=function(t,e,a,f,v,b){var y=i[t],_=y,x=v?"set":"add",w=_&&_.prototype,C={};return g&&"function"==typeof _&&(b||w.forEach&&!n(function(){(new _).entries().next()}))?(_=e(function(e,a){d(e,_,t,"_c"),e._c=new y,void 0!=a&&c(a,v,e[x],e)}),m("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!b||"clear"!=t)&&s(_.prototype,t,function(a,i){if(d(this,_,t),!e&&b&&!u(a))return"get"==t&&void 0;var l=this._c[t](0===a?0:a,i);return e?this:l})}),b||h(_.prototype,"size",{get:function(){return this._c.size}})):(_=f.getConstructor(e,t,v,x),r(_.prototype,a),o.NEED=!0),p(_,t),C[t]=_,l(l.G+l.W+l.F,C),b||f.setStrong(_,t,v),_}},qyJz:function(t,e,a){"use strict";var i=a("+ZMJ"),l=a("kM2E"),o=a("sB3e"),n=a("msXi"),s=a("Mhyx"),r=a("QRG4"),c=a("fBQ2"),d=a("3fs2");l(l.S+l.F*!a("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,l,u,p=o(t),h="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,f=void 0!==g,v=0,b=d(p);if(f&&(g=i(g,m>2?arguments[2]:void 0,2)),void 0==b||h==Array&&s(b))for(a=new h(e=r(p.length));e>v;v++)c(a,v,f?g(p[v],v):p[v]);else for(u=b.call(p),a=new h;!(l=u.next()).done;v++)c(a,v,f?n(u,g,[l.value,v],!0):l.value);return a.length=v,a}})},rRDH:function(t,e){},rxPK:function(t,e){},s7gY:function(t,e){},sIAD:function(t,e){},sgyz:function(t,e){},tdi3:function(t,e,a){t.exports=a.p+"static/img/legend.b518ae3.png"},ttyz:function(t,e,a){"use strict";var i=a("9C8M"),l=a("LIJb");t.exports=a("qo66")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(l(this,"Set"),t=0===t?0:t,t)}},i)},twwa:function(t,e){},u74G:function(t,e){},"vIB/":function(t,e,a){"use strict";var i=a("O4g8"),l=a("kM2E"),o=a("880/"),n=a("hJx8"),s=a("/bQp"),r=a("94VQ"),c=a("e6n0"),d=a("PzxK"),u=a("dSzd")("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,a,m,g,f,v){r(a,e,m);var b,y,_,x=function(t){if(!p&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new a(this,t)}}return function(){return new a(this,t)}},w=e+" Iterator",C="values"==g,D=!1,k=t.prototype,$=k[u]||k["@@iterator"]||g&&k[g],S=$||x(g),F=g?C?x("entries"):S:void 0,T="Array"==e&&k.entries||$;if(T&&(_=d(T.call(new t)))!==Object.prototype&&_.next&&(c(_,w,!0),i||"function"==typeof _[u]||n(_,u,h)),C&&$&&"values"!==$.name&&(D=!0,S=function(){return $.call(this)}),i&&!v||!p&&!D&&k[u]||n(k,u,S),s[e]=S,s[w]=h,g)if(b={values:C?S:x("values"),keys:f?S:x("keys"),entries:F},v)for(y in b)y in k||o(k,y,b[y]);else l(l.P+l.F*(p||D),e,b);return b}},viiW:function(t,e){},xEiC:function(t,e,a){"use strict";var i=a("/sA3"),l=a("ZpFI"),o={props:["code","name"],data:function(){return{radioValue:"二维地图",dialogVisible:!0,servicetip:!1,servicetiptext:"",layersflag:!1,twoDimLayerData:{sourceDir:"工作数据",sourceType:"GeoJson",url:this.code,name:this.name,layers:""},threeDimLayerData:{sourceDir:"",sourceType:"",url:"",name:""},mapconfig:l.a,nodeKey:100,rules:{name:[{required:!0,message:window.vm.$i18n.t("importOnlineDataPop.message.notNull"),trigger:"blur"}],layers:[{required:!1}],sourceType:[{required:!0,message:window.vm.$i18n.t("importOnlineDataPop.message.notNull"),trigger:"blur"}],sourceDir:[{required:!0,message:window.vm.$i18n.t("importOnlineDataPop.message.notNull"),trigger:"blur"}],url:[{required:!0,message:window.vm.$i18n.t("importOnlineDataPop.message.notNull"),trigger:"blur"}]}}},methods:{SelectServiceType:function(t){switch(this.layersflag=!1,t){case"GeoJson":this.servicetiptext=window.vm.$i18n.t("importOnlineDataPop.servicetiptext.GeoJson");break;case"Geo_WMS":this.layersflag=!0,this.servicetiptext=window.vm.$i18n.t("importOnlineDataPop.servicetiptext.Geo_WMS");break;case"Geo_WMTS":this.layersflag=!0,this.servicetiptext=window.vm.$i18n.t("importOnlineDataPop.servicetiptext.Geo_WMTS");break;case"ArcGIS_WMS":this.servicetiptext=window.vm.$i18n.t("importOnlineDataPop.servicetiptext.ArcGIS_WMS");break;case"ArcGIS_WMTS":this.servicetiptext=window.vm.$i18n.t("importOnlineDataPop.servicetiptext.ArcGIS_WMTS");break;case"XYZ":this.servicetiptext=window.vm.$i18n.t("importOnlineDataPop.servicetiptext.XYZ")}this.servicetip=!0},handleClose:function(){return this.twoDimLayerData.sourceDir="",this.twoDimLayerData.sourceType="",this.twoDimLayerData.url="",this.twoDimLayerData.name="",this.threeDimLayerData.sourceDir="",this.threeDimLayerData.sourceType="",this.threeDimLayerData.url="",this.threeDimLayerData.name="",this.dialogVisible=!1,this.servicetip=!1,this.layersflag=!1,this.$emit("inputMess"),!1},handleOK:function(t){var e=this,a=[];this.$refs[t].validate(function(t){if(t){var o=e,n=e.twoDimLayerData,s=e.mapconfig.treeData2d;if("二维地图"==e.radioValue){var r=n.sourceDir,c=n.sourceType,d=n.url,u=n.name,p=n.layers,h=l.a.treeData2d[1].children.map(function(t){return t.id});h.sort(function(t,e){return t-e});var m=100+Math.floor(10*Math.random());0!=h.length&&(m=h[h.length-1]+1);var g=m;e.nodeKey=g;for(var f=0;f<s.length;f++){for(var v=0;v<s[f].children.length;v++)if(s[f].children[v].label==r){s[f].children[v].children.push({label:u,id:g,type:c,url:d,visible:!1,remove:!0,isDir:!1}),o.$nextTick(function(){a.push(g)});break}if(s[f].label==r){s[f].children.push({label:u,id:g,type:c,url:d,visible:!1,remove:!0,isDir:!1}),o.$nextTick(function(){});break}}if("GeoJson"==c){var b={};b.guid=d.replace(/^\s*|\s*$/g,""),e.axios.post(WebConfig.ServicesUrl+"/findGeoshareByGuid",b).then(function(t){var e=[];if(""==t.data.data.colorconfig||(e=JSON.parse(t.data.data.colorconfig)),6==e.length){for(var a=o.nodeKey,i=["#9966FF","#0000FF","#00FF00","#FFFF00","#FF6600","#FF0000"],n=JSON.parse(t.data.data.geojson),c=(new o.ol.format.GeoJSON).readFeatures(n),d=0,u=c.length;d<u;d++)for(var p=c[d].get("name"),h=p.trim().split(/\s+/),m=0,f=i.length;m<f;m++)if(parseFloat(h[1])<=e[m]){var v=new o.ol.style.Style({text:new o.ol.style.Text({text:p,offsetX:30,offsetY:-10,fill:new o.ol.style.Fill({color:i[m]})}),image:new o.ol.style.Circle({radius:3,fill:new o.ol.style.Fill({color:i[m]})})});c[d].setStyle(v);break}var b=new o.ol.source.Vector,y=new o.ol.layer.Vector({source:b,id:a});b.addFeatures(c);for(var _=0;_<s.length;_++){for(d=0;d<s[_].children.length;d++)if(s[_].children[d].label==r){s[_].children[d].children.forEach(function(t){t.id==g&&(t.geometry="point",t.layerObj=b)});break}if(s[_].label==r){s[_].children.length>0&&s[_].children.forEach(function(t){t.id==g&&(t.geometry="point",t.layerObj=b)});break}}o.$nextTick(function(){o.$store.state.Global.twoDLayerTree.setChecked(a,!0,!1)}),o.$store.state.Global.map2DHandler.addLayer(y),o.$store.state.Global.map2DHandler.getView().fit(b.getExtent()),o.$store.state.Global.twoDTempLayers.push(y),o.$store.state.Global.activeTabValue="二维地图"}else if(""==t.data.data.colorconfig){n=JSON.parse(t.data.data.geojson);var x=new o.ol.style.Fill,w=new o.ol.style.Style({fill:x,stroke:new o.ol.style.Stroke({color:"#333",width:1})});l.a.treeData2d[1].children.map(function(t){return t.id}).sort(function(t,e){return t-e});a=o.nodeKey;var C=new o.ol.source.Vector({features:(new o.ol.format.GeoJSON).readFeatures(n)}),D=new o.ol.layer.Vector({source:C,style:function(t){return"up"==t.get("type")?x.setColor("red"):x.setColor("blue"),w},id:a});for(_=0;_<s.length;_++){for(d=0;d<s[_].children.length;d++)if(s[_].children[d].label==r){s[_].children[d].children.forEach(function(t){t.id==g&&(t.layerObj=C)});break}if(s[_].label==r){s[_].children.length>0&&s[_].children.forEach(function(t){t.id==g&&(t.layerObj=C)});break}}o.$nextTick(function(){o.$store.state.Global.twoDLayerTree.setChecked(a,!0,!1)}),o.$store.state.Global.map2DHandler.addLayer(D),o.$store.state.Global.map2DHandler.getView().fit(C.getExtent()),o.$store.state.Global.activeTabValue="二维地图"}else{var k=JSON.parse(t.data.data.colorconfig);k.push({value:1e6,color:""});n=JSON.parse(t.data.data.geojson),b=new o.ol.source.Vector({features:(new o.ol.format.GeoJSON).readFeatures(n)}),a=o.nodeKey;k.sort(function(t,e){return t.value-e.value});var $=null,S=new o.ol.layer.Vector({id:a,source:b,style:function(t){var e=t.get("lvalue");if(1e6==e){i=new o.ol.style.Style({fill:new o.ol.style.Fill({color:"rgb(0,0,0,0)"})});return i}if(e==k[k.length-2].value){i=new o.ol.style.Style({fill:new o.ol.style.Fill({color:"rgb(0,0,0,0)"})});return i}for(var a=0;a<k.length;a++){if(a==k.length-1){$=k[a];break}if(parseFloat(k[a].value)<=e&&parseFloat(k[a+1].value)>e){$=k[a+1];break}}var i=new o.ol.style.Style({fill:new o.ol.style.Fill({color:$.color}),text:new o.ol.style.Text({text:(1*e).toFixed(2)+""})});return i}});for(_=0;_<s.length;_++){for(d=0;d<s[_].children.length;d++)if(s[_].children[d].label==r){s[_].children[d].children.forEach(function(t){t.id==g&&(t.layerObj=b)});break}if(s[_].label==r){s[_].children.length>0&&s[_].children.forEach(function(t){t.id==g&&(t.layerObj=b)});break}}o.$nextTick(function(){o.$store.state.Global.twoDLayerTree.setChecked(g,!0,!1)}),o.$store.state.Global.twoDTempLayers.push(S),o.$store.state.Global.map2DHandler.addLayer(S),o.$store.state.Global.map2DHandler.getView().fit(b.getExtent()),o.$store.state.Global.activeTabValue="二维地图"}}).catch(function(t){})}else{var y={label:u,id:g,type:c,url:d,layers:p,visible:!1,remove:!0},_=i.a.createOnlineServerLayer(y);_&&e.$store.state.Global.map2DHandler.addLayer(_)}e.handleClose()}else{if("三维地图"!=e.radioValue)return e.$message({type:"error",message:window.vm.$i18n.t("importOnlineDataPop.message.apply")}),!1;e.handleClose()}}})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:t.$t("importOnlineDataPop.title"),"custom-class":"geo-dialog-custom",visible:t.dialogVisible,width:"700px","append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.handleClose}},[a("el-row",["二维地图"==t.radioValue?a("div",[a("el-form",{ref:"form",staticStyle:{"margin-left":"100px"},attrs:{rules:t.rules,"label-position":"left","label-width":"180px",model:t.twoDimLayerData,size:"small"}},[a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:t.$t("importOnlineDataPop.serverDataUrl"),prop:"url"}},[a("el-input",{attrs:{placeholder:t.$t("importOnlineDataPop.serverDataUrlPlaceHolder")},model:{value:t.twoDimLayerData.url,callback:function(e){t.$set(t.twoDimLayerData,"url",e)},expression:"twoDimLayerData.url"}})],1),t._v(" "),a("el-form-item",{staticStyle:{width:"300px"},attrs:{label:t.$t("importOnlineDataPop.serverDataType"),prop:"sourceType"}},[a("el-select",{on:{change:t.SelectServiceType},model:{value:t.twoDimLayerData.sourceType,callback:function(e){t.$set(t.twoDimLayerData,"sourceType",e)},expression:"twoDimLayerData.sourceType"}},[a("el-option",{attrs:{label:"GeoJson",value:"GeoJson"}}),t._v(" "),a("el-option",{attrs:{label:"GeoServer_WMS",value:"Geo_WMS"}}),t._v(" "),a("el-option",{attrs:{label:"GeoServer_WMTS",value:"Geo_WMTS"}}),t._v(" "),a("el-option",{attrs:{label:"ArcGIS_WMS",value:"ArcGIS_WMS"}}),t._v(" "),a("el-option",{attrs:{label:"ArcGIS_WMTS",value:"ArcGIS_WMTS"}})],1)],1),t._v(" "),a("el-form-item",{staticStyle:{width:"300px"},attrs:{label:t.$t("importOnlineDataPop.addListSelect"),prop:"sourceDir"}},[a("el-select",{model:{value:t.twoDimLayerData.sourceDir,callback:function(e){t.$set(t.twoDimLayerData,"sourceDir",e)},expression:"twoDimLayerData.sourceDir"}},[a("el-option",{attrs:{label:t.$t("importOnlineDataPop.WMSLabel"),value:"WMS服务"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("importOnlineDataPop.WFSLabel"),value:"WFS服务"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("importOnlineDataPop.WMTSLabel"),value:"WMTS服务"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("importOnlineDataPop.workDataLabel"),value:"工作数据"}})],1)],1),t._v(" "),a("el-form-item",{staticStyle:{width:"400px"},attrs:{label:t.$t("importOnlineDataPop.serverSaveName"),prop:"name"}},[a("el-input",{attrs:{placeholder:t.$t("importOnlineDataPop.serverSaveNamePlaceHolder")},model:{value:t.twoDimLayerData.name,callback:function(e){t.$set(t.twoDimLayerData,"name",e)},expression:"twoDimLayerData.name"}})],1),t._v(" "),t.layersflag?a("el-form-item",{staticStyle:{width:"400px"},attrs:{label:t.$t("importOnlineDataPop.serverData"),prop:"layers"}},[a("el-input",{attrs:{placeholder:t.$t("importOnlineDataPop.serverDataPlaceHolder")},model:{value:t.twoDimLayerData.layers,callback:function(e){t.$set(t.twoDimLayerData,"layers",e)},expression:"twoDimLayerData.layers"}})],1):t._e()],1),t._v(" "),t.servicetip?a("el-alert",{attrs:{center:"",title:t.$t("importOnlineDataPop.servicetiptext.title"),type:"success",description:t.servicetiptext}}):t._e()],1):t._e(),t._v(" "),"三维地图"==t.radioValue?a("div",[a("el-form",{ref:"form",attrs:{model:t.threeDimLayerData,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"节点存放目录(三维):"}},[a("el-select",{model:{value:t.threeDimLayerData.sourceDir,callback:function(e){t.$set(t.threeDimLayerData,"sourceDir",e)},expression:"threeDimLayerData.sourceDir"}},[a("el-option",{attrs:{label:"WMS服务",value:"WMS服务"}}),t._v(" "),a("el-option",{attrs:{label:"WFS",value:"WFS服务"}}),t._v(" "),a("el-option",{attrs:{label:"WMTS服务",value:"WMTS服务"}}),t._v(" "),a("el-option",{attrs:{label:"ArcGIS_WMS",value:"ArcGIS_WMS"}}),t._v(" "),a("el-option",{attrs:{label:"ArcGIS_WMTS",value:"ArcGIS_WMTS"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.threeDimLayerData.sourceType,callback:function(e){t.$set(t.threeDimLayerData,"sourceType",e)},expression:"threeDimLayerData.sourceType"}},[a("el-option",{attrs:{label:"WMS",value:"WMS"}}),t._v(" "),a("el-option",{attrs:{label:"WFS",value:"WFS"}}),t._v(" "),a("el-option",{attrs:{label:"XYZ",value:"XYZ"}}),t._v(" "),a("el-option",{attrs:{label:"WMTS",value:"WMTS"}}),t._v(" "),a("el-option",{attrs:{label:"ArcGIS_WMS",value:"ArcGIS_WMS"}}),t._v(" "),a("el-option",{attrs:{label:"ArcGIS_WMTS",value:"ArcGIS_WMTS"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"在线资源地址:"}},[a("el-input",{model:{value:t.threeDimLayerData.url,callback:function(e){t.$set(t.threeDimLayerData,"url",e)},expression:"threeDimLayerData.url"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"图层名称:"}},[a("el-input",{model:{value:t.threeDimLayerData.name,callback:function(e){t.$set(t.threeDimLayerData,"name",e)},expression:"threeDimLayerData.name"}})],1)],1)],1):t._e()]),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.handleOK("form")}}},[t._v(t._s(t.$t("button.ok")))]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleClose}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)},staticRenderFns:[]};var s=a("VU/8")(o,n,!1,function(t){a("s7gY")},null,null);e.a=s.exports},xGkn:function(t,e,a){"use strict";var i=a("4mcu"),l=a("EGZi"),o=a("/bQp"),n=a("TcQ7");t.exports=a("vIB/")(Array,"Array",function(t,e){this._t=n(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,a=this._i++;return!t||a>=t.length?(this._t=void 0,l(1)):l(0,"keys"==e?a:"values"==e?t[a]:[a,t[a]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"xH/j":function(t,e,a){var i=a("hJx8");t.exports=function(t,e,a){for(var l in e)a&&t[l]?t[l]=e[l]:i(t,l,e[l]);return t}},xrTZ:function(t,e,a){(function(a){var i;!function(e,a){t.exports=a(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==a?a:this,function(a){"use strict";var l,o=(a=a||{}).Base64,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(t){for(var e={},a=0,i=t.length;a<i;a++)e[t.charAt(a)]=a;return e}(n),r=String.fromCharCode,c=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?r(192|e>>>6)+r(128|63&e):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return r(240|e>>>18&7)+r(128|e>>>12&63)+r(128|e>>>6&63)+r(128|63&e)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,u=function(t){return t.replace(d,c)},p=function(t){var e=[0,2,1][t.length%3],a=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[n.charAt(a>>>18),n.charAt(a>>>12&63),e>=2?"=":n.charAt(a>>>6&63),e>=1?"=":n.charAt(63&a)].join("")},h=a.btoa&&"function"==typeof a.btoa?function(t){return a.btoa(t)}:function(t){if(t.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return t.replace(/[\s\S]{1,3}/g,p)},m=function(t){return h(u(String(t)))},g=function(t){return t.replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,"")},f=function(t,e){return e?g(m(t)):m(t)};a.Uint8Array&&(l=function(t,e){for(var a="",i=0,l=t.length;i<l;i+=3){var o=t[i],s=t[i+1],r=t[i+2],c=o<<16|s<<8|r;a+=n.charAt(c>>>18)+n.charAt(c>>>12&63)+(void 0!==s?n.charAt(c>>>6&63):"=")+(void 0!==r?n.charAt(63&c):"=")}return e?g(a):a});var v,b=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,y=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return r(55296+(e>>>10))+r(56320+(1023&e));case 3:return r((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return r((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},_=function(t){return t.replace(b,y)},x=function(t){var e=t.length,a=e%4,i=(e>0?s[t.charAt(0)]<<18:0)|(e>1?s[t.charAt(1)]<<12:0)|(e>2?s[t.charAt(2)]<<6:0)|(e>3?s[t.charAt(3)]:0),l=[r(i>>>16),r(i>>>8&255),r(255&i)];return l.length-=[0,0,2,1][a],l.join("")},w=a.atob&&"function"==typeof a.atob?function(t){return a.atob(t)}:function(t){return t.replace(/\S{1,4}/g,x)},C=function(t){return w(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},D=function(t){return String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},k=function(t){return function(t){return _(w(t))}(D(t))};a.Uint8Array&&(v=function(t){return Uint8Array.from(C(D(t)),function(t){return t.charCodeAt(0)})});if(a.Base64={VERSION:"2.6.4",atob:C,btoa:h,fromBase64:k,toBase64:f,utob:u,encode:f,encodeURI:function(t){return f(t,!0)},btou:_,decode:k,noConflict:function(){var t=a.Base64;return a.Base64=o,t},fromUint8Array:l,toUint8Array:v},"function"==typeof Object.defineProperty){var $=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};a.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",$(function(){return k(this)})),Object.defineProperty(String.prototype,"toBase64",$(function(t){return f(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",$(function(){return f(this,!0)}))}}return a.Meteor&&(Base64=a.Base64),void 0!==t&&t.exports?t.exports.Base64=a.Base64:void 0===(i=function(){return a.Base64}.apply(e,[]))||(t.exports=i),{Base64:a.Base64}})}).call(e,a("DuR2"))},xwID:function(t,e){},z0qe:function(t,e,a){var i=a("W7QJ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("51e8e6e6",i,!0,{})},zQR9:function(t,e,a){"use strict";var i=a("h65t")(!0);a("vIB/")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,a=this._i;return a>=e.length?{value:void 0,done:!0}:(t=i(e,a),this._i+=t.length,{value:t,done:!1})})}});